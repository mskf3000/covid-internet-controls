<html kite-lang="en" class="chrome no-js" dir="ltr" lang="en"><head>
    <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
        <meta name="referrer" content="origin-when-cross-origin">
    
    <title>Agoda Official Site | Free Cancellation &amp; Booking Deals | Over 2 Million Hotels</title>
    <link rel="icon" href="/favicon.ico">

<script src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.js" type="text/javascript" async=""></script><script type="text/javascript" id="messagingClientLite">
!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}("undefined"!=typeof self?self:this,function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=150)}({12:function(t,n,e){"use strict";function r(t,n,e){for(var r=e.length,i=0;i<r;i++){var o=e[i];if(o)for(var u in o)o.hasOwnProperty(u)&&t(u,o[u])}}e.d(n,"a",function(){return r})},150:function(t,n,e){"use strict";e.r(n);var r=e(29),i=e(17),o=function(){function t(){this.buffer={items:[]},this.contextData={}}return t.prototype.send=function(n){var e=this.buffer.items,r=t.MaxBufferSize-e.length;r>0&&(n instanceof Array?(r<n.length&&(n=n.slice(0,r)),this.buffer.items=n.concat(e)):this.buffer.items.push(n))},t.prototype.dispose=function(t){this.buffer.items.length=0,t&&t()},t.prototype.environment=function(t){},t.prototype.context=function(t){var n=this.contextData;n.sessionId=t.sessionId||n.sessionId,n.userId=t.userId||n.userId},t.MaxBufferSize=15e3,t}(),u=e(42);e.d(n,"MessagingClient",function(){return f});var f=function(){function t(t){this._test=t}return t.create=function(n){return t.instantiate(n)},t.instantiate=function(n){return(new t).instantiate(n)},t.environment=function(n){return new t(n)},t.prototype.instantiate=function(t){var n=i.a.get();if(n.environment=n.environment||t,n.test=n.test||this._test,n.messagingClient)return n.messagingClient;var e=new o,f=new u.a(e,new r.a);return n.buffer=e.buffer,n.context=e.contextData,n.messagingClient=f,f},t}()},17:function(t,n,e){"use strict";e.d(n,"a",function(){return o});var r=e(4),i="MessagingClient-LiteData",o=function(){function t(){}return t.get=function(){var t=r.a.current();return t[i]||(t[i]={})},t.clear=function(){delete r.a.current()[i]},t}()},18:function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},20:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t.current=function(){return window&&window.__MCJS_EXTENSION_DATA__||{}},t}()},29:function(t,n,e){"use strict";e.d(n,"a",function(){return r});var r=function(){function t(){}return t.prototype.now=function(){return+new Date},t}()},4:function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return r});var r=function(){function n(){}return n.current=function(){var n="undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0!==t?t:null;if(!n)throw new Error("Unsupported environment.");return n},n}()}).call(this,e(18))},42:function(t,n,e){"use strict";var r=e(20),i=e(12);e.d(n,"a",function(){return o});var o=function(){function t(t,n){this.sender=t,this._time=n}return t.prototype.create=function(t,n){var e={_meta:{type:t}};return n&&function(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];t||(t={}),Object(i.a)(function(n,e){void 0===t[n]&&(t[n]=e)},t,n)}(e,n),e},t.prototype.send=function(t,n){if(!t||!t._meta)throw new Error("Message or message type is undefined");(t=JSON.parse(JSON.stringify(t)))._meta.timestamp=this._time.now(),t._meta.tabId=r.a.current().tabId,this.sender.send(t,n)},t.prototype.debug=function(t){this.sender.environment({debug:t})},t.prototype.context=function(t){this.sender.context(t)},t}()}})});
</script>    
    
    <link href="https://cdn6.agoda.net/js/assets/LEGACY-BROWSERS/home-bf7d65742ae2.css" rel="stylesheet"><link href="https://cdn6.agoda.net/js/assets/LEGACY-BROWSERS/theme-agoda-7ec6da754cd5.css" rel="stylesheet">

    
    <script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/90-f5e9063d1c8d.js"></script><style data-styled="active" data-styled-version="5.2.1"></style><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/64-293b0645e251.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/48-45b98e6a17f7.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/115-1194114f29c6.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/51-aa6b6af9edc2.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/83-ff54d1740753.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/109-ffe523366583.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/14-b2003353e4e1.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/44-f07e32995655.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/88-34ec2c78c88e.js"></script><script charset="utf-8" src="https://cdn6.agoda.net/js/assets/DYNA/57-22e919c52bae.js"></script><link rel="canonical" href="https://www.agoda.com/" data-react-helmet="true"><link rel="home" href="https://www.agoda.com/" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/" hreflang="en" title="English" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/fr-fr/" hreflang="fr" title="Français" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/de-de/" hreflang="de" title="Deutsch" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/it-it/" hreflang="it" title="Italiano" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/es-es/" hreflang="es" title="Español" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ja-jp/" hreflang="ja" title="日本語" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/zh-hk/" hreflang="zh-hk" title="繁體中文 (香港)" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/zh-cn/" hreflang="zh-cn" title="简体中文" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ko-kr/" hreflang="ko" title="한국어" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/el-gr/" hreflang="el" title="Ελληνικά" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ru-ru/" hreflang="ru" title="Русский" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/pt-pt/" hreflang="pt-pt" title="Português (PT)" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/nl-nl/" hreflang="nl" title="Nederlands" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-ca/" hreflang="en-ca" title="English / Canada" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-in/" hreflang="en-in" title="English / India" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-gb/" hreflang="en-gb" title="English / United Kingdom" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-za/" hreflang="en-za" title="English / South-Africa" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-au/" hreflang="en-au" title="English / Australia" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-sg/" hreflang="en-sg" title="English / Singapore" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/zh-tw/" hreflang="zh-tw" title="繁體中文 (台灣)" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-nz/" hreflang="en-nz" title="English / New Zealand" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/th-th/" hreflang="th" title="ภาษาไทย" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ms-my/" hreflang="ms" title="Bahasa Malaysia" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/vi-vn/" hreflang="vi" title="Tiếng Việt" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/sv-se/" hreflang="sv" title="Svenska" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/id-id/" hreflang="id" title="Bahasa Indonesia" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/pl-pl/" hreflang="pl" title="Język polski" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/nb-no/" hreflang="no" title="Norsk" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/da-dk/" hreflang="da" title="Dansk" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/fi-fi/" hreflang="fi" title="Suomi" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/cs-cz/" hreflang="cs" title="Čeština" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/tr-tr/" hreflang="tr" title="Türkçe" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ca-es/" hreflang="ca" title="Català" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/hu-hu/" hreflang="hu" title="Magyar" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/bg-bg/" hreflang="bg" title="Български език" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ro-ro/" hreflang="ro" title="Română" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/sl-si/" hreflang="sl" title="Slovenski jezik" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/he-il/" hreflang="he" title="עברית" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/ar-ae/" hreflang="ar" title="العربية" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/nl-be/" hreflang="nl-be" title="Nederlands / België" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/en-ie/" hreflang="en-ie" title="English / Ireland" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/pt-br/" hreflang="pt-br" title="Português (BR)" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/es-ar/" hreflang="es-ar" title="Español / Argentina" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/es-mx/" hreflang="es-mx" title="Español / México" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/lt-lt/" hreflang="lt" title="Lietuvių" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/lv-lv/" hreflang="lv" title="Latviešu" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/hr-hr/" hreflang="hr" title="Hrvatski" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/et-ee/" hreflang="et" title="Eesti" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/uk-ua/" hreflang="uk" title="Українська" data-react-helmet="true"><link rel="alternate" href="https://www.agoda.com/tl-ph/" hreflang="tl" title="Filipino" data-react-helmet="true"><link rel="alternate" href="android-app://com.agoda.mobile.consumer/agoda/home?site_id=1751131" data-react-helmet="true"><meta name="robots" content="index, follow" data-react-helmet="true"><meta name="description" content="Free cancellation available! | Discounts on clean hotels, homes &amp; flights | Best price guarantee! | Over 20 Million reviews | Safe &amp; secure" data-react-helmet="true"><meta name="keywords" content="Agoda, hotel, hotels, discount, reservations, Asia, Europe, America, Bangkok, Singapore, Hong Kong, Phuket, Thailand, Malaysia, Bali, London, Paris, loyalty program, acommodation, accomodation, acomodation, accommodation, vacation rentals" data-react-helmet="true"><meta property="og:site_name" content="Agoda.com" data-react-helmet="true"><meta property="og:locale" content="en-us" data-react-helmet="true"><meta property="og:url" content="https://www.agoda.com/" data-react-helmet="true"><meta property="og:type" content="place" data-react-helmet="true"><meta property="og:street_address" content="" data-react-helmet="true"><meta property="og:title" content="Agoda Official Site | Free Cancellation &amp; Booking Deals | Over 2 Million Hotels" data-react-helmet="true"><meta property="og:description" content="Free cancellation available! | Discounts on clean hotels, homes &amp; flights | Best price guarantee! | Over 20 Million reviews | Safe &amp; secure" data-react-helmet="true"><meta property="og:image" content="https://cdn6.agoda.net/images/mvc/default/agoda-logo-flat-2019.png" data-react-helmet="true"><meta property="og:image:alt" content="" data-react-helmet="true"><meta property="fb:app_id" content="161134343906646" data-react-helmet="true"><meta name="twitter:card" content="summary" data-react-helmet="true"><meta name="twitter:site" content="@agoda" data-react-helmet="true"><meta name="twitter:creator" content="@agoda" data-react-helmet="true"><meta name="twitter:title" content="Agoda Official Site | Free Cancellation &amp; Booking Deals | Over 2 Million Hotels" data-react-helmet="true"><meta name="twitter:description" content="Free cancellation available! | Discounts on clean hotels, homes &amp; flights | Best price guarantee! | Over 20 Million reviews | Safe &amp; secure" data-react-helmet="true"><meta name="twitter:url" content="https://www.agoda.com/" data-react-helmet="true"><meta name="twitter:image" content="https://cdn6.agoda.net/images/mvc/default/agoda-logo-flat-2019.png" data-react-helmet="true"><meta name="google-site-verification" content="c_SYCgtjZ-BnVFdChVjErofS1XDPUCS5cGQk2L210uw" data-react-helmet="true"><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_857" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.857.js?utv=ut4.46.202006241033"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_958" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.958.js?utv=ut4.46.202012040838"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_333" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.333.js?utv=ut4.46.201811131053"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_115" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.115.js?utv=ut4.46.202004020734"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_288" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.288.js?utv=ut4.46.201610070816"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_445" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.445.js?utv=ut4.46.202006100950"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_505" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.505.js?utv=ut4.46.201809100445"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_506" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.506.js?utv=ut4.46.201809100445"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_659" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.659.js?utv=ut4.46.201903070515"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_670" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.670.js?utv=ut4.46.201902210626"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_688" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.688.js?utv=ut4.46.201809100445"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_890" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.890.js?utv=ut4.46.201905240957"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_894" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.894.js?utv=ut4.46.201905280709"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_865" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.865.js?utv=ut4.46.201911220906"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_873" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.873.js?utv=ut4.46.201911180234"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_898" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.898.js?utv=ut4.46.201908131110"></script><script type="text/javascript" async="" charset="utf-8" id="utag_agoda.main2018_954" src="//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.954.js?utv=ut4.46.202002200316"></script></head><body class="newhome desktop BFG-SAMOGON-WL DEXP-110 DEXP-311 JGCW-325 DJ-674 NHAWEB-1926 WLSI-643 NHAWEB-2066 SKYC-2607 JGCW-163 ltr themed theme-agoda window-loaded"><div id="seo-data"></div>





    <div id="mockDataEnabled" value="False"></div>
    <div id="login-react-popup"></div>
    <div id="login-react-root"></div>
    <div id="pointsmax-panel-react-root" data-hotel-id="" data-signin-landing=""></div>

    <input id="backwardRequestVerificationToken" name="backwardRequestVerificationToken" type="hidden" value="YoJzDLcC+uMY7ycq6rSFtKJh1LabojeEhFC7IcObqfg=:YKoNvrYQYi4pi2BdfVFDnWdvqsk=">

<input id="requestVerificationToken" name="requestVerificationToken" type="hidden" value="CfDJ8Dkuqwv-0VhLoFfD8dw7lYzjpkA1uDU56tsNiUMy-RN8evlVXbXWSglPVMh-sPi_jijEWl3iNbR_z0ini23r5fi_BDqk5nC7TOdoHsqlWiKdFUEEK9ofZ81D7VX4zvDKWhs3vgS_3r34gAGA-l6ft8U">


<script>
    (function () {
        var method;
        var noop = function () { };
        var methods = [
            'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
            'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
            'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
            'timeline', 'timelineEnd', 'timeStamp', 'trace', 'warn'
        ];
        var length = methods.length;
        var console = (window.console = window.console || {});

        while (length--) {
            method = methods[length];
            if (!console[method]) {
                console[method] = noop;
            }
        }

    }());
    window.loginParamsUrl = '/api/en-us/Login/Params';
    window.feMsgConfig =  {"Environment":"production","Cluster":"as","DC":"as","PageTypeId":1,"Disable":false};

    var whitelabel = { theme: 'theme-agoda' };
    var agoda = agoda || {};
    agoda.isCronos = true;
    agoda.userDevice = {
        mobileDeviceType: 'NOTMOBILE',
        devicePlatformId: 1,
        deviceType: 'desktop'
    };
    agoda.featureList =  {"RegulationShowExclusivePriceSetting":{},"SecuredTouch":{},"ShowGoogleLogin":{}};
    agoda.isBrazeEnabled = true;
    agoda.login = { isReact: true };

    agoda.isBfg2247 = true;
                agoda.BrazeSettings = {"isEnabled":true,"isEnabledLogin":true,"isWhiteLabelEnabled":true,"isAllowOrigin":false,"isNonLoginEnabled":true,"allowPages":["Home"]};
 </script>


<script>
    window.agoda = window.agoda || {};
    window.agoda.bVariantsConfig = {"expids":["CH-AGODA-CN","FEDATA-MCJS-SWITCH","FEDATA-AF-SWITCH","ATP-843","SKY-997","CUSCO-9457","CUSCO-9879","CUSCO-9650","CUSCO-9959","WLSI-1003","WLSI-211","WLSI-1437","WLSI-1672","WLSI-1743","WLSI-2055","WLSI-644","DEXP-110","UMRAH-B2C-REGIONAL","UMRAH-B2B","WLSI-877","WLSI-1624","WLSI-1520","WLSI-1520-CSS","WLSI-1693","OPA-547-FE"],"unseenExpids":{"login-4217":false,"text-3741":false,"text-3995":false,"text-5822":false,"text-6352":false,"wfapi-1339":false,"aff-2203":false},"endpoint":"/api/en-us/UnseenExperiments/Send","expiry":0}
</script>

    <script>
    var agoda = window.agoda || {};
    agoda.pageConfig =  {"correlationId":"7edf52ae-8616-4cb7-b032-3fc87c75d839","pageTypeId":1,"realLanguageId":1,"languageId":1,"origin":"US","stateCode":"","cid":-1,"tag":"","userId":"faf0389c-e42a-4dc1-92bb-3e0aaf6394f3","whitelabelid":1,"loginLvl":0,"storefrontId":3,"currencyId":7,"currencyCode":"USD","htmlLanguage":"en-us","cultureInfoName":"en-us","machineName":"as-crweb-3004","trafficGroupId":4,"sessionId":"u4l0a0scdk0zt0yzg2qkst31","trafficSubGroupId":4,"aid":130243,"useFullPageLogin":true,"cttp":4,"isRealUser":true};
    agoda.userDevice =  {"devicePlatformId":1,"deviceType":"desktop","mobileDeviceType":"NOTMOBILE"};
    agoda.userAgentInfo =  {"isPrerender":false};
    agoda.rumpagetype = 'newhome';
    window.webgateApiUrl = '//www.agoda.com';
    window.gatewayApiUrl = '//gw.agoda.com';
    </script>
<script>
    var agoda = agoda || {};
    agoda.features = {"agodaHomes":{},"flights":{},"pointsMax":{},"accommodation":{},"agodaCash":{},"comparePrices":{},"reviews":{"isOverheardHomeEnabled":true,"propertyRatingScale":10,"propertyDefaultProvider":-1,"isSubmissionEnabled":true,"isStarRatingPopupEnabled":true},"agodaVip":{},"currency":{"isCurrencySwitchRequired":true,"priceDisplay":true},"language":{"isLanguageSwitchRequired":true},"footerAncillaryLinks":{},"trendingDataContents":{},"branding":{"brands":["agoda","priceline","kayak","rental-cars","booking-com","open-table"]},"userManageBooking":{"isHotelEnabled":true,"isFlightEnabled":true},"userMessaging":{},"userProfile":{"isSocialEnabled":true,"isPaymentEnabled":true,"isEmailSubscriptionEnabled":true},"favorites":{},"facebookLogin":{},"stacklaWidget":{},"hygienePlusBanner":{},"featuredLuxuryHotel":{},"bestPriceGuarantee":{},"accountProviders":{"mobileNumber":true},"manageMyBookings":{"showContactProperty":true,"showQuickAnswers":true,"showAirportTransfer":true,"showExternalBookingId":false},"chinaMarket":{},"login":{"showBenefits":true,"resetPasswordRedirect":false},"tealium":{"account":"agoda"},"privateSale":{},"googleMaps":{"parameters":{"channel":"agoda","client":"gme-booking"}},"groundTransport":{},"multiHotelPackages":{},"myBookingsButton":{"buttonBehavior":"link"},"occupancyOptions":{"showOccupancyOptions":true,"solo":true,"couple":true,"family":true,"group":true,"business":true},"themedDomestic":{},"flightCrossSellHotel":{},"coupons":{"pageVersion":1}};
</script>


<script>
    var rtag = {"countryId":0,"countryOrigin":"US","stateOrigin":"","cityId":0,"cid":-1,"tag":"","sid":0,"pageTypeId":1,"languageId":1,"languageCode":"en-us","isDev":false,"isQA":false,"isLive":true,"isRealUser":true,"userVipLevel":-1,"adult":0,"children":0,"deviceType":"d","attributionViewModel":{"hasSessionFirstClick":true,"sessionFirstClickAttributionCID":"-1","sessionFirstClickAttributionTag":"","sessionFirstClickAttributionModelID":"19","sessionFirstClickAttributionClickDate":"2021-04-05T00:37:54","sessionFirstClickAttributionAdditionalData":"{\u0022IsPaid\u0022:False,\u0022gclid\u0022:\u0022\u0022}","hasCookieLastClick":true,"cookieLastClickAttributionCID":"-1","cookieLastClickAttributionTag":"","cookieLastClickAttributionModelID":"20","cookieLastClickAttributionClickDate":"2021-04-05T00:37:54","cookieLastClickAttributionAdditionalData":"{\u0022IsPaid\u0022:False,\u0022gclid\u0022:\u0022\u0022}"},"bltId":0,"currencyCode":"USD","tax":0,"totalPriceTaxExc":0,"totalPriceTaxInc":0,"trafficGroup":0,"trafficSubGroup":0,"isMspa":false,"defaultTealiumUrl":"//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.js","tealiumProfile":"main2018","experimentManager":{"seenExperiments":{"MIN-19398":{"experimentId":1041665,"experimentRunId":1174301,"variant":"B"},"FUSIONFE-453":{"experimentId":1040251,"experimentRunId":1177037,"variant":"Z"},"TEXT-10147":{"experimentId":1038889,"experimentRunId":1172289,"variant":"Z"},"FUSIONFE-486":{"experimentId":1040968,"experimentRunId":1174576,"variant":"Z"},"SL-528-OTHER":{"experimentId":1041260,"experimentRunId":1175785,"variant":"A"},"PMARKETING-290":{"experimentId":1042056,"experimentRunId":1177021,"variant":"Z"},"FUSIONFE-1078":{"experimentId":1042268,"experimentRunId":1177487,"variant":"A"},"MONEY-EXP-1":{"experimentId":1037030,"experimentRunId":1165469,"variant":"Z"},"BFG-REDIRECT-RULES":{"experimentId":1042134,"experimentRunId":1177972,"variant":"B"},"NHAWEB-2066":{"experimentId":1042530,"experimentRunId":1178338,"variant":"B"},"FUSIONFE-939":{"experimentId":1042248,"experimentRunId":1177536,"variant":"B"},"UMRAH-B2C":{"experimentId":1040381,"experimentRunId":1173284,"variant":"Z"},"SKYC-2607":{"experimentId":1038050,"experimentRunId":1178536,"variant":"B"},"AT-1789":{"experimentId":1038335,"experimentRunId":1175807,"variant":"B"},"MKTBB-5389-D":{"experimentId":1036920,"experimentRunId":1155337,"variant":"Z"},"AT-2950":{"experimentId":1042542,"experimentRunId":1178097,"variant":"B"}},"experimentState":{"activeIds":[1040441,1038238,1041738,1040776,1042033,1039642,1027485,1038871,1042558,1040708,1040450,1028016,1036586,1040216,1039524,1042058,1041064,1037998,1035400,1036252,1036462,1038410,1040071,1042315,1042419,1040285,1040835,1037890,1010416,1042510,1041146,1041320,1035985,1042760,1027588,1040011,1037129,1037346,1037561,1027573,1041477,1037037,1039235,1027555,1041903,1036522,1039519,1035824,1030335,1040945,1040375,1041465,1025249,1041392,1040384,1038911,1042394,1038240,1039584,1040209,1035984,1039019,1036382,1042768,1042018,1040373,1034788,1034946,1041541,1039406,1022274,1042253,1042642,1042240,1029132,1036663,1039902,1041804,1042675,1038499,1041907,1040215,1040236,1021177,1042429,1041923,1033054,1037590,1041772,1039405,1040899,1041692,1037704,1027606,1036867,1040219,1036256,1035114,1042382,1037103,1041695,1042648,1042608,1038239,1038610,1027202,1027450,1040196,1042353,1042672,1037191,1025664,1038026,1041245,1027617,1027585,1027473,1037374,1034368,1038738,1037544,1041376,1037639,1024354,1010409,1035286,1035721,1038060,1040381,1040473,1038268,1039417,1034914,1038532,1041613,1040981,1042626,1027591,1038513,1041937,1042545,1041626,1041507,1023195,1042206,1027390,1042381,1042742,1024118,1042443,1038403,1041936,1041164,1037275,1041125,1035944,1039778,1039206,1041786,1042195,1040225,1041557,1033721,1038718,1033613,1041624,1039806,1027634,1041764,1041796,1040662,1040570,1031110,1042523,1036131,1039398,1039243,1041330,1042412,1041941,1036682,1036545,1041407,1041162,1041525,1035314,1033935,1042641,1042160,1042328,1042540,1040040,1042107,1012729,1034784,1041805,1039933,1041711,1027532,1040864,1033439,1027248,1042573,1016497,1040629,1039634,1042717,1032545,1039741,1031754,1039177,1037110,1042467,1035471,1042171,1041349,1039425,1042104,1034972,1031116,1027584,1039564,1039576,1042126,1042270,1042309,1033932,1042579,1036701,1042156,1040569,1042597,1042323,1042123,1042746,1040681,1038420,1040490,1040779,1034531,1042633,1038419,1029446,1032275,1041274,1042487,1028906,1027629,1042111,1037491,1042524,1039909,1038890,1027509,1040349,1024783,1042074,1024423,1039804,1034362,1027577,1040601,1042172,1041967,1041901,1041200,1039600,1035305,1040006,1042355,1042599,1041243,1042649,1041874,1042303,1042246,1041639,1027458,1041302,1042397,1037964,1034898,1034532,1039739,1038207,1027522,1042185,1027502,1042283,1042530,1021369,1040563,1036188,1042091,1041553,1038553,1035177,1042417,1040028,1038763,1035638,1042568,1027604,1008599,1041871,1038782,1022118,1041900,1034817,1042645,1042346,1040412,1039579,1042612,1039222,1042721,1027546,1041782,1037640,1024799,1042231,1039415,1039365,1027498,1041220,1036852,1038487,1042298,1042606,1042702,1042494,1042596,1034964,1040024,1027311,1027480,1037934,1027527,1039956,1042413,1042271,1042552,1041227,1035289,1041126,1040191,1026983,1042060,1034260,1027583,1041417,1040855,1040318,1037711,1018435,1042262,1040922,1026688,1035809,1032277,1037253,1041757,1035325,1027639,1040352,1040037,1030150,1040541,1042081,1042454,1042234,1042706,1042320,1040456,1042610,1040635,1042343,1042096,1041987,1010403,1040794,1035637,1040411,1041618,1038308,1036492,1041947,1042361,1041455,1040211,1036879,1009775,1042495,1042248,1033371,1034612,1038116,1027620,1041530,1039149,1036876,1042557,1040221,1041776,1027622,1013021,1040267,1041642,1038330,1042228,1041397,1041964,1042266,1039742,1027515,1037326,1038032,1039392,1041322,1040451,1030716,1039419,1017047,1038391,1032734,1019362,1034792,1042319,1041153,1027496,1030742,1042067,1042469,1038585,1039908,1041026,1042378,1033896,1033615,1031072,1041406,1039732,1040949,1042339,1021181,1041246,1042376,1037120,1039067,1042704,1042235,1021451,1041700,1041364,1042019,1036907,1041264,1014577,1042496,1033239,1042330,1040800,1041276,1041404,1037603,1024046,1039271,1035655,1040176,1040963,1042122,1042503,1038613,1039916,1033948,1027554,1035111,1035030,1027486,1027531,1035989,1041473,1039937,1042306,1035354,1041415,1041290,1028693,1040207,1042044,1024237,1040950,1042054,1010366,1027559,1041381,1027465,1027626,1042302,1041235,1033278,1027505,1039765,1039722,1038210,1041250,1041400,1040284,1040582,1015192,1028818,1040303,1039433,1039123,1042758,1027643,1042197,1036380,1041505,1039665,1041182,1042289,1042618,1041886,1032021,1034024,1039023,1040966,1041860,1042100,1033819,1040817,1039808,1042732,1009603,1040185,1041742,1042486,1042046,1042287,1041412,1042476,1030079,1040789,1039245,1037553,1031851,1027603,1042452,1041217,1031804,1042583,1042591,1035019,1039986,1040400,1039482,1017015,1037796,1041213,1040443,1042214,1036920,1041410,1042285,1033007,1024785,1040770,1037521,1036885,1041281,1036746,1042598,1042004,1034969,1035283,1042549,1027511,1037633,1026622,1036851,1040245,1027538,1036704,1029119,1042371,1033971,1041310,1034270,1024780,1027463,1041602,1036473,1041532,1027460,1036598,1040884,1041273,1039863,1042013,1038046,1041228,1021094,1040335,1040328,1027568,1040471,1025591,1041589,1037349,1018167,1041697,1040043,1041556,1036422,1037030,1041233,1018169,1027466,1041175,1036164,1041396,1041672,1039698,1036694,1040188,1042158,1036126,1033970,1039992,1042501,1042617,1032967,1027590,1041944,1031756,1041813,1035104,1039390,1038729,1034895,1037922,1041027,1039978,1027454,1039128,1027455,1039317,1041337,1036739,1042764,1040427,1027550,1027631,1042277,1027625,1041817,1042609,1042245,1039048,1039332,1042007,1042237,1042765,1040852,1039734,1035278,1042726,1042102,1042433,1041648,1039397,1041090,1027530,1042049,1038183,1039686,1014328,1040016,1041586,1040842,1041812,1042754,1041582,1041055,1040756,1040797,1038195,1010688,1027587,1012733,1019540,1040678,1041070,1038910,1037217,1040218,1042589,1041596,1027540,1026098,1041239,1041234,1037490,1035564,1038879,1041674,1021287,1042434,1041503,1041637,1041280,1026398,1042391,1039139,1039997,1037642,1032663,1041372,1041921,1040715,1038638,1041544,1022613,1042000,1027548,1040761,1041699,1041108,1029648,1042514,1040213,1039823,1042455,1027468,1039567,1037755,1041040,1042055,1036129,1042359,1035763,1041713,1028599,1039274,1035388,1027638,1041479,1041113,1016814,1041746,1034105,1028974,1042278,1030432,1038237,1026362,1035904,1041272,1042724,1040325,1041019,1041496,1041657,1036128,1038919,1039842,1042358,1026032,1042338,1021390,1036550,1042229,1038297,1031368,1040230,1040699,1039622,1033579,1035075,1036127,1042690,1042513,1041054,1037502,1042561,1040890,1042224,1042550,1041894,1039571,1038764,1034336,1041140,1035052,1042499,1041041,1042112,1031416,1042773,1039943,1041915,1041844,1041702,1042774,1041472,1038700,1037520,1041893,1042511,1032839,1038901,1040160,1036759,1042713,1039404,1042683,1010141,1041778,1041115,1041913,1040334,1040985,1040990,1042462,1026804,1036251,1041315,1037878,1026399,1036566,1042317,1037740,1041036,1033367,1041919,1042654,1041856,1027506,1040995,1040172,1033106,1034033,1026361,1042743,1038719,1040775,1042040,1024270,1034170,1042222,1027488,1041068,1038938,1037612,1040534,1035351,1042414,1040376,1038253,1041142,1035150,1040729,1027628,1036135,1027627,1042162,1039786,1042404,1042119,1034901,1042539,1038982,1042133,1042741,1039871,1041762,1027484,1042196,1036776,1026806,1042363,1041734,1038880,1042508,1041325,1039127,1039001,1040839,1042586,1041309,1042217,1041101,1041009,1040274,1042050,1042637,1034869,1041928,1042389,1042052,1027461,1031976,1037891,1034763,1041069,1041061,1034824,1038452,1040203,1027549,1041513,1037190,1039679,1040939,1041914,1042061,1040658,1035072,1042238,1041781,1031725,1040206,1034363,1036922,1039912,1042430,1040299,1041993,1038539,1040449,1038521,1041791,1041087,1042191,1042029,1040697,1035355,1037375,1042120,1041242,1042634,1039246,1027569,1041932,1040472,1041522,1041939,1024251,1042466,1039850,1040324,1027381,1041159,1027570,1027449,1042544,1042035,1027521,1040357,1040272,1041884,1034663,1040463,1021672,1009602,1040512,1042457,1040913,1042182,1042325,1041916,1042715,1039038,1042017,1042749,1026993,1039995,1039012,1029470,1041347,1027582,1040564,1042692,1040418,1034988,1036576,1027602,1035778,1014596,1039252,1031784,1041029,1040959,1019283,1042590,1040815,1040925,1040295,1012975,1042337,1035818,1039812,1027594,1032322,1040521,1027539,1041949,1042274,1042166,1036584,1042415,1041502,1042084,1037310,1036123,1036500,1041761,1040577,1035715,1041606,1035981,1041604,1014248,1040204,1039854,1022313,1042356,1042566,1038884,1018885,1042254,1041157,1024594,1022683,1024548,1042213,1041149,1040551,1041257,1042620,1042671,1038941,1040189,1039375,1032159,1042226,1040946,1035912,1027475,1036042,1042312,1037586,1039645,1037273,1041194,1041195,1041655,1042131,1039402,1029061,1038247,1021424,1038762,1034650,1040757,1040048,1040516,1040879,1041995,1040073,1042280,1027580,1040764,1041259,1037969,1042534,1036995,1042776,1040887,1042477,1037324,1029257,1040984,1041585,1029417,1035820,1041353,1041382,1012730,1042016,1042655,1041260,1039824,1037654,1042725,1042401,1040026,1037004,1039853,1037741,1034554,1041571,1027459,1042364,1041269,1041867,1042522,1027950,1036303,1033685,1041176,1035951,1042564,1034567,1040174,1040445,1039018,1018871,1022542,1022374,1040222,1042555,1042101,1027558,1035703,1042200,1041435,1030138,1015527,1015851,1040705,1035296,1020116,1042113,1040402,1037330,1020935,1042733,1027600,1042696,1042605,1038337,1039615,1038287,1039915,1042440,1038958,1041870,1038606,1040415,1040208,1030125,1041050,1042398,1027537,1041603,1039173,1039147,1032642,1042647,1039795,1027618,1037277,1042390,1041972,1041676,1039927,1042502,1038169,1040358,1039779,1029447,1041498,1040289,1034809,1038722,1037962,1027476,1034423,1042426,1042730,1039697,1041482,1027610,1027641,1042351,1039400,1027519,1039150,1041340,1041925,1027598,1027578,1040374,1042261,1037299,1027514,1037242,1040214,1037812,1009974,1038408,1042427,1030938,1042118,1036133,1042679,1033019,1040084,1041563,1038755,1038636,1035268,1041592,1033132,1038380,1038319,1042233,1037292,1040247,1041044,1027517,1042447,1039740,1042281,1039882,1040958,1018170,1042179,1042203,1042770,1027491,1042767,1042682,1041685,1038113,1036415,1020016,1041892,1037239,1042259,1038932,1040575,1041686,1042411,1039059,1042157,1039525,1027456,1039515,1042327,1027572,1042300,1039921,1040838,1036722,1040169,1021408,1031616,1040435,1040089,1042650,1031369,1042670,1038545,1039002,1042282,1027497,1034756,1039593,1040714,1022558,1018111,1020969,1040947,1042268,1041333,1036536,1034905,1028057,1042575,1042326,1040178,1041354,1041650,1038433,1036668,1041300,1041682,1040932,1026838,1041132,1026320,1038778,1039670,1042674,1042051,1038872,1041927,1042492,1040268,1040941,1040316,1040058,1038303,1027561,1042420,1042257,1041504,1027551,1027490,1041120,1031490,1017709,1042163,1040032,1042176,1039964,1039608,1027453,1042747,1042348,1041649,1034369,1037739,1039288,1027633,1027523,1040405,1024531,1041183,1041336,1037724,1042048,1041385,1039625,1041344,1036341,1042431,1041031,1041189,1040553,1042216,1038409,1036969,1039735,1040772,1010362,1027545,1031575,1042212,1041665,1042045,1039076,1040186,1042695,1027571,1042588,1041306,1041977,1039929,1041693,1040470,1040452,1036285,1040650,1042386,1009896,1027592,1010461,1028591,1032697,1042570,1040200,1034175,1040228,1040192,1042532,1040072,1039599,1035000,1038897,1042127,1030850,1042210,1041328,1041516,1041803,1037457,1042451,1039428,1027637,1042578,1039040,1037549,1035810,1040818,1040217,1042186,1015460,1041887,1027477,1036388,1039546,1037271,1039136,1038931,1034870,1038558,1039957,1033673,1023151,1036695,1039118,1020617,1039444,1041166,1039412,1041277,1027579,1042565,1041156,1027479,1027586,1040631,1039242,1041906,1040665,1027493,1039650,1041110,1027524,1040360,1041058,1042497,1041387,1041294,1042286,1012731,1034695,1039757,1042735,1040798,1042204,1041342,1042739,1042187,1042258,1037197,1039377,1041343,1042604,1042369,1040190,1027614,1023593,1042464,1042316,1029996,1037250,1039758,1027542,1042183,1027541,1042034,1035893,1042037,1027518,1040478,1040646,1027492,1041607,1042020,1040557,1039259,1039728,1040850,1035272,1040828,1037840,1016688,1042336,1026901,1039776,1041819,1039039,1030069,1042154,1042507,1040015,1042667,1026738,1042383,1020763,1042602,1042155,1042750,1042660,1027469,1042442,1040018,1042332,1042577,1040238,1042180,1041445,1030498,1039171,1037187,1042547,1034200,1040983,1042190,1039333,1042366,1037355,1040837,1041861,1010032,1042322,1010365,1039476,1027623,1023131,1042490,1029989,1037954,1042783,1034190,1027581,1040992,1042198,1029383,1041853,1040258,1037235,1040462,1042308,1041580,1039036,1027520,1033166,1036996,1042601,1041908,1041033,1040223,1029039,1042500,1042181,1039481,1038592,1041912,1041448,1027632,1035829,1038229,1039903,1037388,1042421,1022375,1041035,1037183,1039181,1041393,1042301,1027636,1042512,1039713,1041208,1042251,1041943,1027464,1041298,1041680,1036673,1036160,1027495,1027474,1042622,1042520,1034262,1039626,1041681,1042576,1042297,1037855,1042517,1041490,1041226,1038555,1040790,1040356,1038769,1040607,1027482,1040831,1040408,1038937,1034104,1042313,1034957,1032023,1036355,1038984,1042562,1041616,1042093,1041327,1040503,1042656,1035681,1042703,1042008,1037903,1041307,1042480,1040464,1037053,1042062,1042089,1039635,1024222,1009819,1035451,1009655,1023828,1039371,1037627,1038863,1042740,1040719,1026363,1042498,1036994,1039980,1037597,1041143,1027560,1027525,1041350,1039752,1040679,1027451,1041888,1041077,1037689,1039135,1039032,1032784,1035825,1037136,1036764,1034238,1042727,1026933,1038174,1039614,1035891,1041687,1036438,1041891,1039580,1037852,1034265,1032153,1035484,1040964,1040716,1042509,1041909,1037870,1038556,1027508,1041370,1042701,1041583,1041652,1034357,1041725,1041706,1040550,1042341,1041457,1028132,1039834,1039142,1042556,1039613,1042714,1035282,1027615,1041104,1040968,1034643,1042691,1022752,1038480,1041271,1038331,1041855,1040875,1039610,1036130,1041733,1019360,1036637,1040506,1042031,1019307,1042483,1040417,1033961,1041537,1021617,1042092,1039110,1042141,1042600,1031370,1036913,1034702,1034918,1042705,1042569,1042777,1037141,1024786,1042202,1038547,1021293,1027513,1041158,1033903,1042374,1037116,1037150,1039960,1040747,1040556,1041703,1020668,1042536,1041296,1041425,1028896,1039552,1038396,1042504,1042698,1039987,1042026,1042139,1037874,1039486,1039878,1042135,1041612,1039049,1041533,1036883,1031414,1035551,1039011,1037880,1042208,1042757,1034801,1040385,1040645,1035194,1042225,1040197,1041843,1036514,1036872,1041673,1042441,1042686,1042073,1034021,1038215,1026392,1041032,1042380,1035113,1024308,1040393,1042161,1042516,1031366,1033689,1037015,1034786,1041790,1042005,1042136,1040171,1036189,1042482,1040380,1027487,1041710,1041575,1018168,1041809,1029082,1038627,1035676,1041854,1033545,1042079,1036730,1042294,1040540,1042409,1040447,1037754,1038311,1041335,1038537,1034882,1039688,1042175,1041974,1042305,1033842,1040895,1034715,1042304,1041573,1036878,1040609,1041348,1038927,1038414,1038787,1039880,1027534,1041997,1036798,1042593,1039085,1039617,1036124,1041549,1027644,1042402,1034773,1027624,1039555,1042678,1041053,1027553,1042445,1042718,1035317,1037347,1041678,1042293,1041005,1039594,1041023,1038087,1042669,1035365,1042729,1038508,1035986,1042147,1042493,1038051,1042538,1042168,1040787,1033732,1041002,1040630,1042056,1040248,1036921,1037247,1042478,1042744,1042221,1041945,1037982,1039874,1040446,1035209,1042357,1041514,1029030,1038770,1041851,1040448,1040199,1039464,1041605,1034466,1027566,1039583,1041646,1041052,1034653,1042028,1041466,1027589,1027457,1038246,1038321,1042333,1042444,1030457,1042219,1038486,1039334,1038429,1040020,1029035,1041727,1042657,1041345,1027489,1039717,1032785,1042659,1039674,1038996,1041075,1022628,1035015,1042755,1021360,1041332,1041106,1040578,1041658,1040173,1037082,1036999,1041858,1040366,1042230,1037486,1039487,1040626,1041877,1042012,1024784,1042658,1037959,1037900,1039065,1041739,1042527,1041282,1042456,1038801,1031161,1041614,1041820,1039775,1022379,1041827,1037038,1040751,1027499,1040834,1041312,1042022,1042220,1010367,1039877,1040734,1042428,1027557,1042485,1041420,1024562,1027932,1042400,1042117,1028796,1038980,1019358,1023104,1037313,1042751,1041976,1042249,1037579,1022188,1020626,1041368,1040342,1042676,1039604,1042736,1041832,1041365,1042630,1042252,1042098,1037348,1032492,1040046,1041994,1041779,1037248,1041319,1040673,1023753,1040602,1042088,1042699,1031801,1041038,1039396,1036350,1040056,1041898,1042662,1036346,1033211,1042646,1027952,1041089,1038915,1036772,1027528,1040597,1037909,1036801,1034093,1042321,1042666,1027438,1041286,1042449,1042613,1040387,1040532,1019132,1037272,1040193,1040948,1042148,1036504,1042560,1040611,1027501,1041979,1040774,1040244,1041073,1040499,1040938,1030216,1039737,1039026,1039055,1042756,1041346,1042772,1027471,1041722,1041163,1042694,1041756,1042707,1038398,1018597,1032690,1041161,1038671,1010443,1042528,1034893,1040302,1041361,1035156,1031675,1041554,1036216,1042242,1036026,1040410,1025179,1027467,1030577,1042215,1038994,1039399,1020355,1040164,1042140,1040504,1034603,1041524,1036106,1029208,1041961,1041062,1039771,1041792,1041623,1033585,1031170,1041444,1039134,1020964,1040912,1041952,1041590,1041452,1041970,1040528,1042329,1040320,1040819,1042295,1040395,1038608,1039940,1042094,1041230,1040552,1040743,1041835,1042407,1041783,1037917,1041129,1032354,1029160,1027547,1040082,1037777,1039845,1042535,1020717,1042619,1041471,1042071,1026820,1041684,1039418,1028560,1039730,1040383,1041574,1041950,1040399,1036132,1042099,1041617,1041063,1040791,1040444,1042142,1030121,1040955,1040754,1042260,1042685,1041708,1039107,1033725,1041078,1042529,1034425,1042700,1039817,1042638,1040755,1027596,1035957,1040980,1041128,1041795,1027640,1039053,1041828,1039636,1039977,1039457,1038885,1040596,1035226,1036352,1040745,1042276,1042416,1041012,1040323,1039811,1038180,1039363,1027593,1038975,1041821,1025073,1033378,1042689,1027478,1041965,1041191,1020536,1040893,1039056,1042059,1042209,1042595,1031326,1039718,1042607,1036963,1042153,1037025,1040177,1034586,1038571,1037090,1042432,1027510,1036347,1040251,1032265,1040832,1040195,1027595,1035878,1039509,1041318,1040201,1042038,1037824,1042719,1041430,1038578,1027563,1041020,1042006,1040928,1042559,1027536,1039200,1027507,1041968,1040340,1027556,1041334,1036375,1042737,1042531,1041116,1027567,1038399,1040413,1042640,1036483,1042542,1033123,1039575,1040806,1042551,1041123,1041749,1042728,1034717,1027597,1041859,1042256,1042681,1040628,1024894,1033620,1039907,1042515,1035870,1039414,1042001,1042537,1042479,1041386,1027452,1042250,1040442,1041313,1042291,1038395,1042184,1037465,1040423,1020619,1027535,1042574,1037589,1039938,1027564,1041131,1027504,1035570,1042025,1042395,1038970,1040453,1042635,1042438,1042661,1041355,1032938,1040505,1042720,1040064,1034812,1040202,1041840,1040027,1038646,1039813,1030740,1027533,1041632,1038368,1027609,1038335,1041391,1041460,1032838,1020262,1038267,1034080,1039456,1040198,1035499,1027574,1022210,1041931,1041743,1042370,1042146,1038969,1042652,1027543,1040170,1038628,1040180,1023112,1022827,1042439,1042207,1037596,1042066,1039694,1027613,1024575,1040278,1035819,1041773,1041521,1041690,1041542,1042269,1042021,1042461,1042134,1041662,1042334,1039685,1040634,1013784,1040780,1034778,1034880,1041794,1016823,1027494,1040341,1041644,1041806,1037803,1038039,1036965,1038785,1039857,1042624,1040149,1040220,1041244,1036666,1039603,1042352,1041640,1036696,1041966,1041988,1042137,1038920,1042563,1038635,1040579,1039393,1041879,1041736,1037716,1033507,1040572,1023894,1040690,1027621,1024611,1022052,1035931,1040081,1040398,1042053,1024272,1038673,1040212,1030077,1041265,1042267,1023638,1042470,1039184,1027529,1010629,1040758,1041926,1027599,1041297,1042722,1041671,1039054,1038329,1042223,1042103,1040007,1040455,1041388,1040489,1040952,1040194,1039160,1040753,1040657,1037884,1042448,1042450,1042716,1042778,1038172,1040319,1042125,1042603,1040653,1029685,1031169,1041192,1041550,1027114,1041186,1041890,1042189,1039931,1042036,1039213,1041497,1041311,1038189,1040224,1033699,1041218,1042677,1042594,1032161,1038983,1041560,1042738,1035422,1035560,1027526,1030252,1020683,1040873,1021547,1042693,1039999,1041517,1040870,1039835,1040336,1039003,1042284,1040649,1042194,1040891,1038171,1042582,1041284,1034911,1040187,1041399,1041046,1027500,1042392,1041885,1041562,1034647,1042684,1040659,1038418,1042368,1041748,1041816,1037288,1041656,1038214,1042734,1042307,1038378,1041528,1039074,1038093,1042668,1041539,1039042,1039239,1041178,1041378,1041918,1033873,1027313,1042625,1040940,1036183,1040210,1039769,1041881,1037896,1042664,1030704,1041996,1039631,1042471,1042623,1041638,1042673,1040175,1042769,1042205,1042379,1040438,1041660,1038283,1039894,1041451,1039777,1040823,1027575,1040409,1035280,1042665,1037664,1038050,1041922,1040182,1040179,1036665,1042143,1023200,1038691,1036511,1042687,1028152,1037309,1038889,1041523,1024787,1036491,1040287,1042372,1042723,1040677,1041990,1041398,1028392,1027462,1040533,1027608,1034506,1042491,1041842,1036672,1041413,1040982,1042170,1038964,1042410,1041591,1036447,1023246,1040407,1022319,1018793,1042697,1042425,1031290,1042165,1039601,1041065,1041299,1042554,1041434,1035623,1041501,1030752,1041741,1027611,1027635,1041308,1038475,1041171,1040255,1041134,1042621,1042627,1040390,1030092,1027481,1040898,1041561,1039785,1040184,1038402,1025782,1042688,1035956,1039542,1039693,1041222,1031534,1041760,1041377,1037719,1040583,1037350,1040680,1042097,1042299,1042436,1028965,1027552,1027512,1042629,1037195,1040994,1042422,1029954,1027630,1020980,1042311,1026295,1039667,1041963,1042446,1041696,1035833,1039671,1034632,1041520,1035172,1041933,1035202,1041216,1038120,1042087,1042543,1042085,1042463,1030794,1042403,1016168,1040421,1040078,1039805,1037044,1041288,1042405,1035102,1027516,1035174,1039521,1042188,1034915,1042745,1039803,1039403,1034790,1027612,1041030,1032698,1034771,1034354,1041414,1034068,1038560,1040181,1041577,1029060,1041629,1035589,1042468,1031165,1042072,1036968,1042636,1042138,1033810,1042314,1042292,1031808,1042748,1038749,1042708,1040183,1041647,1042632,1040205,1042377,1027503,1027642,1042453,1036125,1042460,1031481,1027616,1032649,1041190,1030528,1036765]}},"isTealiumEnableForWhiteLabel":true,"isCCPAEnabled":true,"tealiumWhitelabelLanguageId":0,"tealiumAccount":"agoda","productId":0,"stopTealium":false,"tealiumExperiments":{"MKTBB-5389-M":"Z","MKTBB-5389-D":"Z","MKTBB-5143-SWITCH":"B","REMARKETING-TEST-1":"Z","REMARKETING-TEST-2":"Z","REMARKETING-TEST-3":"Z","REMARKETING-TEST-4":"Z","REMARKETING-TEST-5":"Z","MONEY-EXP-1":"Z","MONEY-EXP-2":"Z","MONEY-EXP-3":"Z","MONEY-EXP-4":"Z","MONEY-EXP-5":"Z"},"whiteLabelId":1,"supplierHotelId":0};

var tealiumUrl = "//tags.tiqcdn.com/utag/agoda/main2018/prod/utag.js";
    var isCCPAEnable = true;
    var appSettingsPreferences = JSON.parse(localStorage.getItem("AppSettings.preferences"));
    var cookieBanner = JSON.parse(localStorage.getItem("cookie-setting"));
    var shouldTealiumEnable = (!isCCPAEnable || appSettingsPreferences == null || appSettingsPreferences.ccpa_status === "opt-in")
                                      && (cookieBanner == null || cookieBanner === true || cookieBanner.isMarketingSelected === true);

    function setCookie(cname, cvalue) {
      var date = new Date();
      date.setTime(date.getTime() + 86400000);
      var expires = "expires=" + date.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + "; path=/; domain=.agoda.com;";
    }


        setCookie("tealiumEnable", shouldTealiumEnable, 1);
        
    if(shouldTealiumEnable){


                isMockMode = document.getElementById("mockDataEnabled")
                    ? document.getElementById("mockDataEnabled").value === "True"
                    : false;

                    if (!isMockMode) {
                    var utag_data = { };

                   window.utag_cfg_ovrd = window.utag_cfg_ovrd || {};
                   window.utag_cfg_ovrd.waittimer = 3000;

                           (function(a, b, c, d) {
                            a = tealiumUrl;
                            b = document;
                            c = 'script';
                            d = b.createElement(c);
                            d.src = a;
                            d.type = 'text/java' + c;
                            d.async = true;
                            a = b.getElementsByTagName(c)[0];
                            a.parentNode.insertBefore(d, a);
                        })();;
                       
               var sessionStatus = "parsingcookiefailed";
               var sessionId = 0;
               var isNewSession = 0;

               try {
                   var tealiumCookie = document.cookie.match('(^|;) ?utag_main=([^;]*)(;|$)')[2].split("$");
                   sessionId = tealiumCookie.filter(function (x) { return x.startsWith("ses_id"); })
                       .map(function (x) { return x.split(":"); })
                       .map(function (x) { return parseInt(x[1].split("%3B")[0]); })
                       .map(function (x) { return x == NaN ? 0 : x; })[0];
                   sessionStatus = sessionId == 0 ? "invalid" : "valid";

                   isNewSession = tealiumCookie.filter(function (x) { return x.startsWith("_ss"); })
                       .map(function (x) { return x.split(":"); })
                       .map(function (x) { return parseInt(x[1]); })
                       .map(function (x) { return x == NaN ? 0 : x; })[0];
               } catch (err) {}
            }
            }
</script>

    <script type="text/javascript">
        var _ga = _ga || {};
        _ga.source = "Direct Access";
        _ga.medium = "Direct Access";
    </script>

<script>
    agoda.reactHeader = {};
    agoda.reactHeader.menuViewModel = {};
    agoda.reactHeader.experiments = {
        isOWL177: true,
        isShouldUpdateGCBalance: false,
        isCmaEnabled: true,
        useFeaturesOnHomePage: true,
        useFeaturesChinaMarket: false,
    };
    agoda.reactHeader.culture = 'en-us';
    agoda.reactHeader.menuViewModel = {"languageMenuViewModel":{"cms":{"suggestedLanguagesText":"Suggested languages","allLanguagesText":"All languages"},"languageFlag":"us","languageTranslation":"English"},"userMenuViewModel":null,"cms":{"signInText":"Sign in","signUpText":"Create account","signOutText":"Sign out","loginHeader":"Sign in","settingsHeader":"Settings","myBookingsText":"My bookings","listYourPlaceText":"List your place","listingYourPlaceTitleText":"List your place on Agoda","listingYourPlaceDetailText":"Earn money to pay for your travel!","listingYourPlaceLinkText":"List your place today","listingYourPlaceTooltipText":" In the past 24 hours, there were {0} travelers looking to book a place like yours. List now!","listingYourPlaceTooltipDismissText":"Don't show this again.","myBookingsPopUpIntentHeader":"Booked on or before December 15, 2019?","myBookingsPopUpWarningContent":"<p>Please contact JAPANiCAN Customer Support to confirm your booking details.<a href=\"https://www.japanican.com/content/faq/?#6-1\"> >See more details</a></p>","myBookingsPopUpHeader":"Booked on or after December 16, 2019?","myBookingsPopUpText":"Please check your booking confirmation email. You can easily access your booking from the link inside that email.","myBookingsPopUpButtonDividerText":"or","myBoookigsPopUpCloseButtonLabel":"Close","signInPopupHeaderText":"Welcome!","signInPopupContentText":"Save up to 30% today by signing in","signInPopupWithEmailText":"Sign in with email"},"links":{"agodaHostnameWithLocale":"//www.agoda.com","myAgodaHostNameWithLocale":"//my.agoda.com","customerSupportLink":"/info/agoda_faq.html","contactLink":"/info/contact.html","openSearchLink":"/opensearch.xml","forgetPasswordUrl":"/account/signin.html?option=reset-password","signupUrl":"/account/signin.html?option=signup","myProfileLink":"/account/profile.html","manageBookingsUrl":"/account/bookings.html","inboxUrl":"/account/inbox.html","myReviewsUrl":"/account/reviews.html","myBookingPage":"/account/bookings.html","myFlightsBookingPage":"/flights/account/bookings","myCreditCardPage":"/account/ccof.html","giftCardUrl":"/account/giftcards.html","giftCardMigrationUrl":"//www.agoda.com/mybookings.html?migration=2","referAFriendUrl":"/account/refer-a-friend.html","aboutusAgodaLink":"/info/about-agoda.html","aboutusAgodaChinaLicense":"","aboutusAgodaInNewsLink":"/info/agoda-news.html","aboutusAgodaPrivacyLink":"/info/privacy.html","aboutusAgodaTermOfUseLink":"/info/termsofuse.html","aboutusTravelBlogLink":"//travelblog.agoda.com","aboutusMediaRoomLink":"//mediaroom.agoda.com","aboutusPressLink":"/press","aboutusWorldLink":"//www.agoda.com/world.html","aboutusBlogLink":"/blog","forYouPropertyPartnersLink":"////ycs.agoda.com","forYouPartnerSolutionsLink":"//connect.agoda.com/","forYouAffiliatePartnersLink":"////partners.agoda.com/index.html","forYouConnectivityPartnersLink":"//www.agodaconnectivity.com/home","forYouCareersLink":"//careersatagoda.com","forYouHelpLink":"//www.agoda.com/info/agoda-faq.html","forYouPriusLink":"//www.agoda.com/pointsmax.html","copyRightVeriSignLink":"//verisign.com/","mobileAppDownloadLink":"http://agoda.onelink.me/1640755593?pid=direct&c=hotel_page_menu&af_dp=agoda%3A%2F%2Fhome&site_id=1716632&af_siteid=1716632&af_sub1=mobile_web","mobileAppsAppleLink":"//app.appsflyer.com/id440676901?pid=direct&c=hotel_page_footer&af_siteid=1716632&site_id=1716632&af_sub1=desktop","mobileAppsAndroidLink":"//app.appsflyer.com/com.agoda.mobile.consumer?pid=direct&c=hotel_page_footer&af_siteid=1716632&site_id=1716632&af_sub1=desktop","mobileAppsWindowsPhoneLink":"//www.windowsphone.com/en-us/store/app/agoda/2ddd154d-1b1a-4e50-bf12-481f0c2109a8","recommendedDestinationLink":"//www.agoda.com/cities.html","favoriteLink":"/favorite.html","listYourPlaceLink":"/homes/?cid=1828703","listYourPlaceBtnLink":"/homes/?cid=1828701","listYourPlaceOldLink":"/homes/?cid=1828702","agodaVipUrl":"/account/vip.html","faqsLink":"/info/contact.html","siteMaintenanceLink":"/content/maintenance","aboutusTermOfUseLink":"/content/terms-of-use/","aboutusPrivacyLink":"/content/privacy-policy/","japanicanCorporateLink":"//www.jtbcorp.jp/en/","japanicanFacebookLink":"//facebook.com/JAPANiCAN","japanicanWeiboLink":"//www.weibo.com/japanican","japanicanTwitterLink":"//twitter.com/jtbjapanican","japanicanYoutubeLink":"//youtube.com/user/JTBJAPANiCAN","travelAgencyClausesLink":"/content/yakkan","travelRequirementsLink":"/content/jyoken","rurubuCorporateLink":"//www.jtbcorp.jp/jp/","rurubuNewsReleaseLink":"//www.jtbcorp.jp/jp/press_release/index.asp?cmd=&page=&method_check=2&keyword=%82%E9%82%E9%82%D4%83g%83%89%83x%83%8B&company_kanji=&=%83j%83%85%81%5B%83X%83%8A%83%8A%81%5B%83X%82%F0%8C%9F%8D%F5%82%B7%82%E9","rurubuRegisterYourPropertyLink":"//info.rurubu.travel/n_question/entry/mailform.asp","rurubuFacebookLink":"//facebook.com/rurubu.travel/","rurubuTwitterLink":"//twitter.com/RurubuTravel","ccpaLink":"/ccpa.html","remainingPointsLink":null},"currencyMenuViewModel":{"cms":{"priceViewText":"PRICE DISPLAY","perNightBasePriceText":"Base price per night","perNightWithTaxesAndFeesText":"Total price per night","suggestedCurrenciesText":"Suggested currencies","topCurrenciesText":"Popular currencies","allCurrenciesText":"All currencies"},"finalPriceView":1,"currency":{"id":7,"code":"USD","text":"US Dollar","isTopCurrency":false,"isSuggested":false,"noDecimal":2,"display":"$"}},"wysiwyp":{"page":"home-desktop","currentPriceView":1},"applyGiftcardMenuText":"","downloadWechatApp":null,"followWechat":null,"cegInfo":null,"isApplyGiftcard":false};
	agoda.reactHeader.logoAndLinksMenu = {
  "homeUrl": "/",
  "agodaLogo": "https://cdn6.agoda.net/images/MVC/default/agoda-logo-v2.png",
  "agodaSecondaryLogoPath": "https://pix6.agoda.net/images/MVC/default/logo-{}.svg",
  "isThemed": true,
  "logoText": "Agoda",
  "links": [
    {
      "productType": -1,
      "link": "/",
      "target": null,
      "dataSelenium": "header-hotels",
      "dataElementName": "header-hotels-links",
      "selected": true,
      "linkItems": {
        "text": "Hotels & Homes",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    },
    {
      "productType": 10,
      "link": "/flights",
      "target": null,
      "dataSelenium": "header-flights",
      "dataElementName": "header-flights-links",
      "selected": false,
      "linkItems": {
        "text": "Flights",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "New!",
      "tagType": 0
    },
    {
      "productType": 0,
      "link": "https://agoda.mozio.com/en-us/?currency={currency}&ref=agoda&utm_campaign=1793794&utm_source=1793794",
      "target": "_blank",
      "dataSelenium": "header-taxi",
      "dataElementName": "header-taxi-links",
      "selected": false,
      "linkItems": {
        "text": "Airport transfer",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    },
    {
      "productType": 0,
      "link": "/deals",
      "target": "_blank",
      "dataSelenium": "header-deals",
      "dataElementName": "header-deals-links",
      "selected": false,
      "linkItems": {
        "text": "Today’s deals",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    },
    {
      "productType": 0,
      "link": "/apartments",
      "target": "_blank",
      "dataSelenium": "header-apartments",
      "dataElementName": "header-apartments-links",
      "selected": false,
      "linkItems": {
        "text": "Apartments",
        "icon": "ficon ficon-18 ficon-agoda-homes"
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    }
  ],
  "ellipsisLinks": [
    {
      "productType": 0,
      "link": "https://agoda.mozio.com/en-us/?currency={currency}&ref=agoda&utm_campaign=1793794&utm_source=1793794",
      "target": "_blank",
      "dataSelenium": "header-taxi",
      "dataElementName": "header-taxi-links",
      "selected": false,
      "linkItems": {
        "text": "Airport transfer",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    },
    {
      "productType": 0,
      "link": "https://www.rentalcars.com/?affiliateCode=agoda633&prefcurrency=USD&preflang=en&adplat=web&adcamp=1802440&popularLoc=true&utm_source=web&utm_medium=whitelabel-linkout&utm_campaign=home-header-cars-links",
      "target": "_blank",
      "dataSelenium": "header-rental-cars",
      "dataElementName": "header-cars-links",
      "selected": false,
      "linkItems": {
        "text": "Car rentals",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    },
    {
      "productType": 0,
      "link": "https://thingstodo-agoda.viator.com/?utm_source=web&utm_medium=whitelabel-linkout&utm_campaign=home-header-thingstodo-links",
      "target": "_blank",
      "dataSelenium": "header-thingstodo",
      "dataElementName": "header-thingstodo-links",
      "selected": false,
      "linkItems": {
        "text": "Things to do",
        "icon": ""
      },
      "className": "",
      "showTag": false,
      "tagText": "",
      "tagType": 0
    }
  ],
  "bltLogo": null
};
	agoda.reactHeader.experiments = {"isOWL177":false,"isShouldUpdateGCBalance":false,"isStickyHeaderForGL":false,"isStickyHeaderForCn":false,"isJagermeister":true,"isUseCronosUserMenuViewModelApi":false,"fullFunnelBannerBelowHeader":true,"fullFunnelBannerRefresh":false,"isFixSecondaryLogo":false,"isLOY5832":false,"isLOY5878":false,"isLOY5879":false};

         agoda.reactHeader.menuViewModel.userMenuViewModel = null;

        agoda.RewardsMember = {
            IsLogin: false,
            IsL1LoggedIn: false,
            IsProfilePicture: false,
            userIconIndex: 0
        };
        </script>
 



        <div id="page-root">
            <header id="page-header" data-selenium="page-header" class="navbar-agoda main-header scrollTo"><div><section class="header-container" data-selenium="header-container-section"><nav class="header-container__item header-container__item--left LogoAndLinksMenu"><div class="LogoAndLinksMenu__LogoContainer"><a href="/" class="LogoAndLinksMenu__Link" data-selenium="agoda-logo" data-element-name="agoda-logo"><img alt="Agoda" src="https://cdn6.agoda.net/images/MVC/default/agoda-logo-v2.png" title="Agoda" class="LogoAndLinksMenu__Logo" data-element-name="site-logo" data-element-value="[NA]" data-provider-id="0" data-element-index="0"><img src="https://pix6.agoda.net/images/MVC/default/logo-en.svg" class="LogoAndLinksMenu__SecondaryLogo LogoAndLinksMenu__SecondaryLogo--loaded" data-element-value="[NA]" data-provider-id="0" data-element-index="0"></a></div><ul class="LinkContainer"><li class="LinkContainer__LinkWrapper" data-selenium="header-link"><hr class="LinkContainer__Highlight"><a href="/" class="LinkContainer__Link" data-selenium="header-hotels" data-element-name="header-hotels-links"><span class="LinkContainer__Link__text">Hotels &amp; Homes</span></a></li><li class="LinkContainer__LinkWrapper" data-selenium="header-link"><a href="/flights" class="LinkContainer__Link" data-selenium="header-flights" data-element-name="header-flights-links"><span class="LinkContainer__Link__text">Flights</span></a></li><li class="LinkContainer__LinkWrapper" data-selenium="header-link"><a href="https://agoda.mozio.com/en-us/?currency=USD&amp;ref=agoda&amp;utm_campaign=1793794&amp;utm_source=1793794" target="_blank" class="LinkContainer__Link" data-selenium="header-taxi" data-element-name="header-taxi-links"><span class="LinkContainer__Link__text">Airport transfer</span></a></li><li class="LinkContainer__LinkWrapper" data-selenium="header-link"><a href="/deals" target="_blank" class="LinkContainer__Link" data-selenium="header-deals" data-element-name="header-deals-links"><span class="LinkContainer__Link__text">Today’s deals</span></a></li><li class="LinkContainer__LinkWrapper" data-selenium="header-link"><a href="/apartments" target="_blank" class="LinkContainer__Link" data-selenium="header-apartments" data-element-name="header-apartments-links"><i class="LinkContainer__Link__icon ficon ficon-18 ficon-agoda-homes"></i><span class="LinkContainer__Link__text">Apartments</span></a></li></ul><div class="EllipsisLinkContainer"><i class="EllipsisLinkContainer__Button ficon ficon-21 ficon-show-more" data-selenium="ellipsisLink-container"></i></div></nav><span class="header-container__space"></span><nav class="header-container__item header-container__item--right"><ul class="header-menu header-menu--reverse-order header-menu--master" data-selenium="navigation"><li class="header-menu__group"><div class="header-menu__subgroup-container header-menu__subgroup-container--login-group" data-selenium=""><span class="header-menu__group-header">Sign in</span><ul class="header-menu__subgroup"><li class="header-menu__item"><button id="sign-in-btn" data-popup="new-header" data-element-name="sign-in-button" data-selenium="sign-in" data-link="signin-popup" data-login-action="signin" data-login-id="2" class="sc-dQppl eTUnGC global-header-signin-button" color="primary"><div class="sc-crrsfI errNK"><div class="sc-bdfBwQ fuGurj"><span class="sc-jSgupP eQWjGE">Sign in</span></div></div></button></li><li class="header-menu__item"><button id="sign-up-btn" data-popup="new-header-signup" data-element-name="sign-up-button" data-selenium="sign-up-btn" data-link="signin-popup" data-login-action="signup" data-login-id="3" class="sc-dQppl bjagrl global-header-signup-button" color="primary"><div class="sc-crrsfI errNK"><div class="sc-bdfBwQ fuGurj"><span class="sc-jSgupP eQWjGE">Create account</span></div></div></button></li></ul></div></li><li class="header-menu__group"><div class="header-menu__subgroup-container header-menu__subgroup-container--lc-group" data-selenium="lc-group"><span class="header-menu__group-header">Settings</span><ul class="header-menu__subgroup"><li class="header-menu__item"><div><a class="language-trigger" data-value="en-us" data-selenium="language-trigger" data-element-name="language-trigger"><i class="language-trigger__icon flag flag-18 flag-18-us"></i><span class="language-trigger__text">English</span></a></div></li><li class="header-menu__item"><div><a class="currency-trigger" data-selenium="currency-trigger" data-element-name="currency-trigger"><span class="currency-trigger__text">$</span><span class="currency-trigger__secondary-text">US Dollar</span></a></div></li></ul></div></li><li class="header-menu__group"><div class="header-menu__subgroup-container header-menu__subgroup-container--lp-group" data-selenium="lp-group"><span class="header-menu__group-header">List your place on Agoda</span><ul class="header-menu__subgroup"><li class="header-menu__item"><button class="sc-dQppl bjagrl ListYourProperty__Btn" data-selenium="list-your-place-btn" data-element-name="header-list-your-place-button" color="primary"><div class="sc-crrsfI errNK"><div class="sc-bdfBwQ fuGurj"><span class="sc-jSgupP eQWjGE">List your place</span></div></div></button><span class="ListYourProperty__Detail">Earn money to pay for your travel!</span><a href="/homes/?cid=1828703" target="_blank" class="ListYourProperty__Link" data-selenium="list-your-property-menu" data-element-name="list-your-place-links"><span> List your place today </span></a></li></ul></div></li></ul><span class="header-menu__slave header-menu__slave--hamburger hidden"><div><i class="header-dropdown__hamburger ficon ficon-20 ficon-hamburger-menu" data-element-name="header-hamburger-menu" data-selenium="header-hamburger-menu"></i><ul class="header-menu header-menu--slave hidden" data-selenium="nav-menu-slave"></ul></div></span></nav></section><div data-element-name="covid19-banner" class="sc-bdfBwQ kWFxWv"><span class="sc-jSgupP lCwwx">We know your travel plans may be impacted by COVID-19. Check local travel restrictions prior to booking your trip.</span><a target="_blank" href="/en-us/coronavirus" data-element-name="covid19-banner-btn" class="sc-bdfBwQ fpxtKM"><span class="sc-jSgupP lCwwx sc-bdfBwQ kGOYhC">Learn more</span></a></div></div></header>
            

<script src="/Scripts/jquery-1.8.3.min.js" crossorigin="anonymous"></script>






<script>
    agoda = agoda || {};
    agoda.cmsText = {"numberOfOtherProperties":"+{0} more properties","reviews":"reviews","review":"Review"};
agoda.recommendedCities = {"title":"Destinations you will love","searchObjectIds":[0]};
agoda.hotcitiesConfig = {"placeholderImageUrl":"https://cdn6.agoda.net/images/mvc/default/background_image/tiles/rs-placeholder.svg","cms":{"citiesHeader":"Recent searches","hotelsHeader":"Recently viewed properties","zenithHeader":"Destinations you will love","abandonedCartHeader":"Still interested?","placeholder":"Your future searches will appear here.","resumeSearch":"RESUME SEARCH","search":"Search"}};
agoda.topDestinations = {"endPoint":"/api/cronos/home/GetTopDestinations","numberOfItems":8,"suggestionMaxItemNumber":6,"headerText":"Most popular destinations"};
agoda.zenithClientConfig = {"endPoint":"/api/en-us/Recommended/_action_","requestData":{"searchObjectId":0,"searchType":0,"searchObjectIds":[0]},"numberOfItems":6};
agoda.isRedirectedFromMyAgoda = false;
agoda.isWlsiFixEnv = true;
agoda.doShowEmailVerificationAlert = false;
agoda.verifyEmailStatus = 0;
agoda.feSessionId = "u4l0a0scdk0zt0yzg2qkst31";

    agoda.reactHeader.covidBanner = {"bannerText":"We know your travel plans may be impacted by COVID-19. Check local travel restrictions prior to booking your trip.","learnMoreText":"Learn more"};
    
    window.homePageParams = window.homePageParams || {};
    window.homePageParams.homeComponent = {"urls":{"homeContentApi":"/api/cronos/home/GetHomeContents","travelerReviews":"/api/cronos/home/GetTravelerReviewsUrl","recentViewedRecommendedProperties":"/api/cronos/Recommendation/PersonalizeRecommendedProperties","timeSale":"/api/cronos/home/GetTimeSaleContent"},"defaultTheme":"greenBluePastel","cmsJson":"{\"69201\":\"{0}, {1}\",\"96921\":\"Change background\",\"108288\":\"Not sure about your travel plans? Look for the EasyCancel badge to find hotels offering free cancellation on select rooms up to the day before check-in. See your chosen room's cancellation policy for more details.\",\"107822\":\"EasyCancel\",\"107018\":\"Recommended places to stay for your next trip!\",\"81907\":\"Exceptional\",\"81906\":\"Excellent\",\"81905\":\"Very good\",\"75207\":\"{0} review\",\"75206\":\"{0} reviews\"}","translations":{"agodaNumbers":{"title":"Agoda is part of the Booking Holdings family, the world's largest online travel site.","alternateTitle":"Enabling the world's journeys","alternateSecondaryTitle":"Agoda is part of the Booking Holdings family, the world's largest online travel site. Wherever you come from, wherever you want to explore, we've got the perfect accommodation for you.","cards":[{"title":"Unique listings","number1":"2,008,130","text1":"hotels and homes with","number2":"7,600","text2":"destinations"},{"title":"Trusted by millions","number1":"100+ million","text1":"travelers from","number2":"200","text2":"countries and regions"},{"title":"Product support","number1":"40","text1":"languages supported","number2":"35","text2":"payment options"},{"title":"24/7 customer service","number1":"2,500","text1":"local agents in","number2":"53","text2":"worldwide offices"}]},"travelerReviews":{"title":"Overheard from travelers","cards":[{"hotelName":"Heritage Hotel","hotelCountry":"in the Philippines","review":"\"We got a great last minute rate with Agoda and this room was spacious with a comfortable and warm bed.\"","reviewer":"- Henry from Australia","moreText":"...more","hotelId":5610},{"hotelName":"Holiday Inn Resort Batam","hotelCountry":"in Indonesia","review":"\"Thanks Agoda for letting me change room without charge and rebate the difference. Nice staffs Agoda and Holiday Inn!\"","reviewer":"- Andy from Singapore","moreText":"...more","hotelId":7416},{"hotelName":"Fairmont Singapore","hotelCountry":"in Singapore","review":"\"The hotel was simple amazing and I couldn't thank Agoda more for helping out. I've been a customer for awhile and I have to say it's probably my favourite app!\"","reviewer":" - Malvin from Singapore","moreText":"...more","hotelId":10615}]},"japanPrefecturesMap":{"backText":"Back"},"reviewScoreDescription":{"reviewExceptionalRate":"Exceptional","reviewExcellentRate":"Excellent","reviewVeryGoodRate":"Very good","reviewWithReplacement":"{0} review","reviewsWithReplacement":"{0} reviews"},"recommendationContainer":{"recommendedPlacesToStay":"Recommended places to stay for your next trip!"},"themedDomestic":{"seeProperties":"See properties","domesticTitle":"Discover the world next door","seeMore":"See more"},"featuredProperties":{"featuredPropertiesRecommendedForYou":"Featured homes recommended for you","seeMoreProperties":"See more ({0}) properties","nightlyRatesAsLowAs":"Price per night as low as","seeMore":"See more"},"previouslyBookedProperties":{"title":"Book Again, Stay Again","placeholderCardText":"Your next booking will appear here."},"agpBltBanner":{"title":"Get 2X AgodaCash for your next trip","message":"Earn 2X more AgodaCash when you book at Agoda’s preferred hotels!","button":"Explore hotels"}},"paymentLogoContainer":null,"topDestination":{"cmsJson":"{\"TopDestination\":\"Most popular destinations\",\"DomesticTabTextLabel\":\"Domestic\",\"InternationalTabTextLabel\":\"International\",\"TopDomesticCity\":\"Top destinations {0}\",\"TopInternationalCity\":\"Popular destinations outside {0}\",\"SingleAccommodation\":\"1 accommodation\",\"MultiAccommodations\":\"{0} accommodations\\n\"}","hasTab":false,"endpoint":"/api/cronos/home/GetTopDestinations","numberOfItems":20,"minimumItems":4,"showTopDomesticCity":true},"dialogModel":null,"isFamilyDeals":false,"isLogin":false,"imageParams":{"brokenImageTrackingUrl":"/NewSite/Tracking/ImageNotFoundTracking","pageType":1,"hotelId":-1,"brokenImages":[],"totalNumberOfImages":0,"brokenImageUrl":"https://cdn6.agoda.net/images/WLSI-179/default/image-place-holder@2x.png","alwaysSendImageInfo":true},"loyaltyProfileInfo":null,"alternativePropertyTypes":{"header":"Explore more travel vacation rentals","description":null,"items":[{"imageUrl":"https://cdn6.agoda.net/images/accommodation/other-property-types/entire-apartment.jpg","title":"Apartments","description":"156,786 properties","link":"/apartments","itemId":29},{"imageUrl":"https://cdn6.agoda.net/images/accommodation/other-property-types/entire-house.jpg","title":"Vacation Rentals","description":"517,703 properties","link":"/vacation-rentals","itemId":131},{"imageUrl":"https://cdn6.agoda.net/images/accommodation/other-property-types/entire-villa.jpg","title":"Private Villas","description":"181,167 properties","link":"/villas","itemId":28},{"imageUrl":"https://cdn6.agoda.net/images/accommodation/other-property-types/entire-bungalow.jpg","title":"Bungalows","description":"8,801 properties","link":"/bungalows","itemId":103}]}};
window.homePageParams.prefetchUrls = [{"key":"js","value":"https://cdn6.agoda.net/js/assets/DYNA/vendors-flightsdetails-flightsresults-home-property_nogql-search-umrah.home-248e06ab3381.js"},{"key":"js","value":"https://cdn6.agoda.net/js/assets/DYNA/default-flightsresults-property_nogql-search-5e7fb1df7325.js"},{"key":"js","value":"https://cdn6.agoda.net/js/assets/DYNA/vendors-flightsresults-property_nogql-search-84be071b0369.js"},{"key":"js","value":"https://cdn6.agoda.net/js/assets/DYNA/vendors-search-8e251f05c04f.js"},{"key":"js","value":"https://cdn6.agoda.net/js/assets/DYNA/search-fa60f435e212.js"}];
window.homePageParams.experiments = {"isOverheardHomeEnabled":true,"showAdsBanner":true,"homePagePhase2":false,"useAkamaiImageManager":false,"showThemedDomestic":false,"shouldAutoApplyFamilyFriendlyFilter":false,"shouldUseFamilyIntent":false,"addFeaturedPropertiesQueryString":false,"isGroundTransport":false,"nhaRemoveBranding":false,"isNhaNewStarRatingDesign":true,"showPreviouslyBookedProperties":false,"isFixPackagesErrorPopup":false,"cheaperDaysInfoOnCalendarHomePage":false,"showTopDestinationDomesticAbove":false,"isFlightBrandCampaignEnabled":false,"improveTextSearchPresentation":false,"showPulseCampaignBanners":false,"showAgpBltBanner":false};
window.homePageParams.seoLdJsonLogo = "";
window.homePageParams.priceView = 1;

    window.homePageParams.features = {"RegulationShowSoloTravelerDiscount":{},"ShowAdsOnNewHomepage":{},"ShowFullLengthBannerOnNewHomePage":{},"PointsMax":{},"AgodaHomes":{},"ShowEasyCancel":{},"ThemedDomestic":{}}
    window.searchBoxReact = {"tabs":[{"type":-1,"title":"Hotels \u0026 Homes","hashName":"","tagText":null},{"type":2,"title":"Private stays","hashName":"#homes","tagText":null},{"type":13,"title":"Monthly stays","hashName":"#longstay","tagText":"New!"}],"paymentLogos":[],"defaultTab":-1,"searchCriteria":{"searchText":"","checkIn":"2021-04-14T00:37:54.370946+07:00","checkOut":"2021-04-15T00:37:54.370946+07:00","occupancy":{"rooms":1,"adults":2,"children":0,"childAges":null,"checkbox":null,"travellerType":1}},"config":{"page":{"locale":"en-us","ckuid":"faf0389c-e42a-4dc1-92bb-3e0aaf6394f3","prid":0,"gclid":"","currency":"USD","correlationId":"7edf52ae-8616-4cb7-b032-3fc87c75d839","pageTypeId":1,"realLanguageId":1,"languageId":1,"origin":"US","stateCode":"","cid":-1,"tag":"","userId":"faf0389c-e42a-4dc1-92bb-3e0aaf6394f3","whitelabelid":1,"loginLvl":0,"storefrontId":3,"currencyId":7,"currencyCode":"USD","htmlLanguage":"en-us","cultureInfoName":"en-us","machineName":"as-crweb-3004","trafficGroupId":4,"sessionId":"u4l0a0scdk0zt0yzg2qkst31","trafficSubGroupId":4,"aid":130243,"useFullPageLogin":true,"cttp":4,"isRealUser":true},"autoComplete":{"autoCompleteUrl":"/api/cronos/search/GetUnifiedSuggestResult/3/1/1/0/en-us/","topDestination":{"url":"/api/en-us/Recommended/GetRecommendedCities","urlFallback":"/api/cronos/home/GetTopDestinations","amount":6},"googleSearchUrl":"https://maps.googleapis.com/maps/api/js?libraries=places\u0026key=AIzaSyCTqBoQYEcHMQuAXJxVbIP1ladksZNEMVY\u0026channel=agoda-textsearch","recentSearchAmount":3,"loadingCount":6},"calendar":{"checkInRange":{"start":-1,"end":365},"checkOutRange":{"start":1,"end":365},"holidaysUrl":"/api/en-us/npcapi/GetHolidays/","calendarExtrasUrl":"","firstDayOfWeek":1,"defaultLos":1,"maximumAllowedLos":90,"showDatePickerAlert":false,"showLongTermRentalHighlight":false},"occupancy":{"rooms":{"min":1,"max":9},"adults":{"min":1,"max":36},"children":{"min":0,"max":9},"maxRooms":9,"defaultChildAge":8,"maximumGuestPerRoom":null},"defaultSearchURL":"","failSafeUrl":"/newsite/en-us/host/SearchResult/Search","searchRenderMessageUrl":null,"searchActionMessageUrl":null,"defaultPopup":-1,"openSearchboxAtLanding":true,"priceFilterSettingsUrl":null,"isCircleRating":false,"restaurantsUrl":null,"groundTransportUrl":null,"groundTransportActionMessageUrl":null,"enableTypeAnywhere":false,"useRoomOccupancy":false,"childRateDescriptionUrl":""},"cms":{"autoComplete":{"properties":"properties","room":"1 room","rooms":"{0} rooms","adult":"1 adult ","adults":"{0} adults","child":"1 child","children":"{0} children","bestSeller":"Best seller","popular":"Popular"},"dateRange":{"months":["January","February","March","April","May","June","July","August","September","October","November","December"],"daysShort":["Su","Mo","Tu","We","Th","Fr","Sa"],"daysLong":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"confirmDateText":"Select your travel dates for pricing and availability","confirmDateCancelText":"No thanks, I’ll do it later","titleFormat":"{MM} {yy}","titleText":"PERFECT CHOICE!"},"occupancy":{"room":"Room","rooms":"Rooms","adult":"Adult","adults":"Adults","child":"Child","children":"Children","childAge":"Child\u0027s age (years)","childrenAge":"Children\u0027s ages (years)","warningText":"Child\u0027s age has been set to {0} years old.","warningTextPlural":"Children\u0027s ages have been set to {0} years old.","warningDesc":"Enter the actual age below – it may lower room prices!","warningDescPlural":"Enter their actual ages below – it may lower room prices!","ageRange":["−","\u003c1","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],"noChildrenTitle":"Traveling with kids?","noChildrenDesc":"Include them above for the best prices and offers available with children friendly properties.","checkbox":{"preferFamilyRooms":"I’d prefer a family room","preferGroupRooms":"I’d prefer a big/family room","showFamilyOptions":"Show me family/child friendly options"},"segmentFamilies":"Family travelers","segmentGroup":"Group travelers","segmentBusiness":"Business travelers","segmentSolo":"Solo traveler","segmentCouples":"Couple/Pair","segmentBadgeText":"Save up to 12%","groupTravellerPartnerHeader":"Need 10 rooms or more?","groupTravellerPartnerSubHeader":"Special rates are now available with our partner HotelPlanner","groupTravellerPartnerNewTag":"NEW","groupTravellerPartnerActionText":"Get a group rate","oneRoomVsMoreTooltip":"Search for 1 room to see all multi-bedroom properties that can fit your entire group","childRateDescriptionLinkText":"About booking with children"},"summary":{"datesFormat":"{0}, {2} {1} {3} - {4}, {6} {5} {7}","dateFormat":"{0}, {1} {2} {3}","singleNightFormat":"(1 night)","pluralNightsFormat":"({0} nights)","shortDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"shortMonthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"confirmTravelDates":"Confirm your travel dates to see prices ","checkInDateText":"Check-in date","checkOutDateText":"Check-out date"},"searchBox":{"dates":{"format":"{d} {M} {yy}","shortFormat":"{0}, {1} {2} {3}","dayNames":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"shortDayNames":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],"monthNames":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"checkInText":"Check-in","checkOutText":"Check-out"},"occupancy":{"room":"1 room","rooms":"{0} rooms","adult":"1 adult","adults":"{0} adults","child":"1 child","children":"{0} children","childAge":null,"childrenAge":null,"warningText":null,"warningTextPlural":null,"warningDesc":null,"warningDescPlural":null,"ageRange":null,"noChildrenTitle":null,"noChildrenDesc":null,"checkbox":null,"segmentFamilies":null,"segmentGroup":null,"segmentBusiness":null,"segmentSolo":null,"segmentCouples":null,"segmentBadgeText":null,"groupTravellerPartnerHeader":null,"groupTravellerPartnerSubHeader":null,"groupTravellerPartnerNewTag":null,"groupTravellerPartnerActionText":null,"oneRoomVsMoreTooltip":null,"childRateDescriptionLinkText":null},"placeholder":"Enter a destination or property","search":"SEARCH","invalidSearch":"Please enter the name of a country, city, airport, neighborhood, landmark, or property to proceed.","invalidPackageDateRangeSearch":"Your check-in and check-out dates must fall within your arrival and departure dates. Please review your dates.","invalidPackageOccupancySearch":"Your occupancy should be same for both flight and hotel. Please review your occupancy","invalidPackageSameDateSearch":"Check-in and check out should be different dates","invalidPackageDifferentCountrySearch":"Your hotel destination should be within same country of flight arrival destination","lengthOfStayCms":{"checkInDateText":"Check-in date","checkOutDatetext":"Check-out date","lengthOfStaySingleText":"1-night stay","lengthOfStayPluralText":"{0}-night stay"},"update":"Update","title":"Hotel","exceedsAllowedLengthOfStay":"Sorry, a booking cannot currently be more than {0} nights.","exceedsAllowedLengthOfStayAsqSearch":"A quarantine stay in this destination requires {0} nights.","exceedsAllowedLengthOfStayAsqSearchTH":"A quarantine stay in Thailand requires 10, 11, 14 or 15 nights.","modifySearch":"Modify search","groundTransport":{"title":"Book a bus, ferry, train and more to reach your end destination!","goingFrom":"Going from\n","goingTo":"Going to\n","passenger":"passenger","passengers":"passengers","searchTickets":"Search Tickets\n","errorMessageTitle":"Route is not supported\n","errorMessageDetails":"We\u0027re sorry! We currently don\u0027t have any availability for your search criteria.","errorMessageOkay":"Okay","oneWay":"One way"},"packageSearchBox":{"modifySearchText":"Modify search","tripFromText":"Trip From {0} To {1}","roomText":"1 room","roomsText":"{0} rooms","adultText":"1 adult ","adultsText":"{0} adults","adultWithChildText":"1 adult, 1 child","adultsWithChildText":"{0} adults, 1 child","adultWithChildrenText":"1 adult, {0} children","adultsWithChildrenText":"{0} adults, {1} children","hotelText":"Hotel","flightText":"Flight"},"noAirportsOnOrigin":"There are no airports in the city you chose, please choose another origin","noAirportsOnDestination":"There are no airports in the city you chose, please choose another destination","sameCitySearch":"Please make sure you select origin and destination in different cities.","searchRooms":"","searchHomes":"","searchFlightsPlusHotel":"SEARCH FLIGHT + HOTEL","searchHotelInDifferentCityOrDate":"Search for hotel in different cities or dates","textSearchInputHeader":"Staying at","ppcPopoverMessage":"Enter your dates to check availability"},"filters":{"priceTitle":"Price per night","expandText":"Advanced search","reviewTitle":"Guest rating","reviewAll":"All","reviewScore":"{0} and up","ratingTitle":"Star rating","ratingAndUp":"and up"},"dateDefinition":{"popularDate":null,"weHaveLimitedAvailability":null,"pricesAreLowerOnTheseDates":"Prices are lower on these dates than the destination\u0027s average price","baseOnCurrentKnownAvailability":"Based on current known availability"},"highlyAvailable":null,"title":"Hotel","showPackageDeals":{"showPackageDealsText":"Show Flight + Hotel deals","saveMoreText":"Save more","cardText":"Save up to {0}% on hotels","ribbonText":"Flight + Hotel"},"showPackageDealsOnFlight":{"addHotelToSaveUpText":"Bundle and Save","bundleAndSaveText":"Add hotel to save up to 25%","searchFlightsPlusHotelText":"SEARCH FLIGHT + HOTEL"},"searchButton":"SEARCH FLIGHTS","searchFlightsButton":"Search","invalidRoundTripSearchMessage":null,"invalidOneWaySearchMessage":null,"noAirportsOnBothOriginAndDestination":null,"noAirportsOnOrigin":null,"noAirportsOnDestination":null,"sameCitySearch":null,"oneWay":null,"roundTrip":null,"newPackageTitle":null,"searchModifyButton":"Modify search"}};
    window.flightSearchBoxReact = null;
</script>


<script>
    (function(defaultTileTheme) {
        var tileContainer = document.getElementById('TileContainer');
        if (!tileContainer) return;
        if (window.location.hash.indexOf('homes') >= 0)
        {
            tileContainer.className = 'TileContainer TileContainer--homes';
        } else if (
            (false && window.location.hash.indexOf('#homes') === -1 && window.location.hash.indexOf('#rooms') ===-1 )
                || window.location.hash.indexOf('#flights') >= 0) {
            tileContainer.className = 'TileContainer TileContainer--full TileContainer--flights';
        }
        else
        {
            tileContainer.className = 'TileContainer TileContainer--' + defaultTileTheme;
        }
    })('greenBluePastel');
</script><div class="hide" id="page-identification" data-page="newhome" data-device="desktop"></div>
<div id="home-react-root"><div class="HomeReactContainer" style=""><section class="TileContainer TileContainer--full" data-selenium="tile-container-section"><div class="sc-jifIRw fIKhbB sc-bdfBwQ bHQUaN"></div><section class="TileContainer__column" data-selenium="tile-container-left"><div class="TileContainer__wrapper"><div class="WelcomeMessage" data-selenium="hero-banner"><div class="WelcomeMessage__wrapper"><h1 data-selenium="hero-banner-h1">HOTELS, RESORTS, HOSTELS &amp; MORE</h1><h2 class="WelcomeMessage__H2" data-selenium="hero-banner-h2">Get the best prices on 2,000,000+ properties, worldwide</h2></div></div><div class="sc-bdfBwQ hutpha"><ul class="sc-bdfBwQ kQvFSN" index="0" style="z-index: 998; position: relative;"><li data-element-name="all-rooms-tab" data-selenium="allRoomsTab" data-element-index="0" data-selected="true" class="sc-bdfBwQ jltGDV LinkComponent__Container"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-gIRixj bJUXcm"><path fill-rule="evenodd" d="M7 2.18a1 1 0 0 1 .164.014l10 1.667a1 1 0 0 1 .836.986V11L21 11a1 1 0 0 1 1 1v10h-8v-5a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v5H6V3.18a1 1 0 0 1 1-1zM5 10v12H2V11a1 1 0 0 1 1-1h2zm16 7h-3v1h3v-1zm0-3h-3v1h3v-1zm-9.5-4H9v2.5h1.01V11h1.49v-1zm4 0H13v2.5h1.01V11h1.49v-1zm-4-4H9v2.5h1.01V7h1.49V6zm4 0H13v2.5h1.01V7h1.49V6z"></path></svg><div class="sc-bdfBwQ hhgkSA"><h6 class="sc-eGCarw hLIRSd kite-js-Typography sc-bdfBwQ lcOhwZ">Hotels &amp; Homes</h6><div class="sc-bdfBwQ dffWdW"></div></div></li><li data-element-name="home" data-selenium="homesTab" data-element-index="1" data-selected="false" class="sc-bdfBwQ jltGDV LinkComponent__Container"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-gIRixj glykWr"><path fill-rule="evenodd" d="M12 2c5.523 0 10 4.477 10 10 0 5.43-4.327 9.848-9.72 9.996L12 22a10 10 0 0 1-9-5.637l-.08-.169A9.963 9.963 0 0 1 2 12C2 6.477 6.477 2 12 2zm-.5 12h-3v4h3v-4zm4 0h-3v4h3v-4zm-4-5c-1.624.274-2.84 1.632-2.985 3.272l-.012.19L8.5 13h3V9zm1 0v4h3v-.508l-.01-.193c-.129-1.593-1.265-2.917-2.796-3.261L12.5 9zM12 3.5a8.5 8.5 0 0 0-8.485 9.014L12 4.5l8.485 8.013A8.5 8.5 0 0 0 12 3.5z"></path></svg><div class="sc-bdfBwQ ejyutt"><h6 class="sc-eGCarw hLIRSd kite-js-Typography sc-bdfBwQ lcOhwZ">Private stays</h6></div></li><li data-element-name="long-stay-tab" data-selenium="longStayTab" data-element-index="2" data-selected="false" class="sc-bdfBwQ jltGDV LinkComponent__Container"><div class="sc-bdfBwQ jGWoKK"><p class="sc-eGCarw bDmENA kite-js-Typography sc-bdfBwQ kBHjwx">New!</p></div><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-gIRixj glykWr"><path fill-rule="evenodd" d="M8.5 1a.5.5 0 0 1 .5.5V3h6V1.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5V3h3a2 2 0 0 1 2 2v5h-2V7H4v12a1 1 0 0 0 .883.993L5 20h14a1 1 0 0 0 .993-.883L20 19v-2h2v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3V1.5a.5.5 0 0 1 .5-.5h1zm5.5 9a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1h2zm-5.5 0a1.5 1.5 0 0 1 1.493 1.356L10 11.5v1c0 .385-.145.736-.383 1.001.208.23.345.527.376.855L10 14.5v1a1.5 1.5 0 0 1-1.356 1.493L8.5 17h-2a.5.5 0 0 1-.09-.992L6.5 16h2a.5.5 0 0 0 .492-.41L9 15.5v-1a.5.5 0 0 0-.41-.492L8.5 14h-2a.5.5 0 0 1-.09-.992L6.5 13h2a.5.5 0 0 0 .492-.41L9 12.5v-1a.5.5 0 0 0-.41-.492L8.5 11h-2a.5.5 0 0 1-.09-.992L6.5 10h2zm10 1a.5.5 0 0 1 .5.5V13h1.5a.5.5 0 0 1 .09.992L20.5 14H19v1.5a.5.5 0 0 1-.41.492L18.5 16a.5.5 0 0 1-.5-.5V14h-1.5a.5.5 0 1 1 0-1H18v-1.5a.5.5 0 0 1 .5-.5zM14 11h-2v5h2v-5z"></path></svg><div class="sc-bdfBwQ ejyutt"><h6 class="sc-eGCarw hLIRSd kite-js-Typography sc-bdfBwQ lcOhwZ">Monthly stays</h6></div></li></ul><div class="SearchBoxContainer SearchBoxContainer--AllRooms SearchBoxContainer--vertical SearchBoxContainer--noanimation SearchBoxContainer--HomePageNewDesign" id="SearchBoxContainer"><div class="sc-bdfBwQ iAfDuT TabContent"><div class="sc-bdfBwQ fuGurj"><div class="PaymentLogos__SearchBox"></div><div class="sc-bdfBwQ fuGurj"><div class="Searchbox Searchbox--vertical" data-selenium="searchBox"><div class="Searchbox__wrapper"><div tabindex="0" class="IconBox IconBox--autocomplete" data-selenium="autocomplete-box" data-element-name="autocomplete-box"><div class="IconBox__wrapper"><i class="ficon IconBox__icon ficon-20 ficon-search-box" data-selenium="ficon-icon-box"></i><div class="IconBox__child" data-selenium="icon-box-child"><input aria-label="Enter a destination or property" data-selenium="textInput" tabindex="-1" type="text" class="SearchBoxTextEditor SearchBoxTextEditor--autocomplete" placeholder="Enter a destination or property" value=""></div></div></div><div tabindex="0" class="IconBox IconBox--checkIn" data-element-name="check-in-box"><div class="IconBox__wrapper"><i class="ficon IconBox__icon ficon-20 ficon-check-in" data-selenium="ficon-icon-box"></i><div class="IconBox__child" data-selenium="icon-box-child"><div data-selenium="checkInBox" data-date="2021-04-13" class="SearchBoxTextDescription SearchBoxTextDescription--checkIn"><div class="SearchBoxTextDescription__title" data-selenium="checkInText">13 Apr 2021</div><div class="SearchBoxTextDescription__desc">Tuesday</div></div></div></div></div><div tabindex="0" class="IconBox IconBox--checkOut" data-element-name="check-out-box"><div class="IconBox__wrapper"><i class="ficon IconBox__icon ficon-20 ficon-check-out" data-selenium="ficon-icon-box"></i><div class="IconBox__child" data-selenium="icon-box-child"><div data-selenium="checkOutBox" data-date="2021-04-14" class="SearchBoxTextDescription SearchBoxTextDescription--checkOut"><div class="SearchBoxTextDescription__title" data-selenium="checkOutText">14 Apr 2021</div><div class="SearchBoxTextDescription__desc">Wednesday</div></div></div></div></div><div tabindex="0" class="IconBox IconBox--occupancy" data-element-name="occupancy-box"><div class="IconBox__wrapper"><i class="ficon IconBox__icon ficon-20 ficon-travelers" data-selenium="ficon-icon-box"></i><div class="IconBox__child" data-selenium="icon-box-child"><div data-selenium="occupancyBox" data-value="1" class="SearchBoxTextDescription SearchBoxTextDescription--occupancy"><div class="SearchBoxTextDescription__title"><span data-selenium="adultValue" data-value="2">2&nbsp;adults</span></div><div class="SearchBoxTextDescription__desc" data-selenium="roomValue" data-value="1">1&nbsp;room</div><div class="SearchBoxTextDescription__child"><i class="ficon ficon ficon-12 ficon-thin-arrow-down"></i></div></div></div></div></div><div class="Popup__container Popup__container--garage-door"><div></div></div></div></div></div></div></div><div class="sc-bdfBwQ fuGurj TabContent__Search--button"><button radius="M" data-selenium="searchButton" data-element-name="search-button" class="sc-dQppl WlVmq sc-bdfBwQ gYNczo" color="primary"><div class="sc-crrsfI errNK"><div class="sc-bdfBwQ fuGurj"><span class="sc-jSgupP gOoegw">SEARCH</span></div></div></button></div> </div></div></div></section></section><div class="sc-bdfBwQ iwcIMs FullLengthBanner"><div class="sc-bdfBwQ fuGurj sc-XhUPp lhmpWa sc-bdfBwQ hgzAOj FullLengthBanner__Banner"><div class="sc-bdfBwQ cEsgjB"><div class="sc-bdfBwQ eYfKqX FullLengthBanner__Banner--image"><img alt="" src="https://cdn6.agoda.net/images/FUSION-2927/agoda-easy-cancel.png"></div><div class="sc-bdfBwQ kobFZR"><div class="sc-bdfBwQ dgwQhW"><h5 class="sc-eGCarw hNBKEp kite-js-Typography ">EasyCancel</h5></div><p class="sc-eGCarw eCotvT kite-js-Typography ">Not sure about your travel plans? Look for the EasyCancel badge to find hotels offering free cancellation on select rooms up to the day before check-in. See your chosen room's cancellation policy for more details.</p></div><div class="sc-ikPAkQ ktdIZT"></div></div></div></div><div data-element-name="tile-bottom"></div><div class="TopDestinationRail" data-selenium="topdestinationrail-domestic" data-element-name="top-destination-cities" data-element-type="domestic"><span class="sc-jSgupP sDQm sc-bdfBwQ bnVnNH">Top destinations in the United States</span><div><div class="sc-bdfBwQ BXroD"><div class="sc-bdfBwQ bXLITL sc-idOhPF csVAZu"></div><div class="sc-bdfBwQ fLILAv sc-dIUggk hIXOVZ"></div><div class="sc-bdfBwQ sc-hHftDr dliboP cNddbp"><a class="sc-iNqMTl iJnrGS"><div class="sc-bdfBwQ iHVwqH"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-eLgOdN bQhjDx"><path d="M8.515 12l9.192 9.192a1 1 0 1 1-1.414 1.415l-9.9-9.9a1 1 0 0 1 0-1.414l9.9-9.9a1 1 0 0 1 1.414 1.415L8.515 12z"></path></svg></div></a></div><div class="sc-bdfBwQ eXdpLH sc-kstrdz kgEIOm"><a class="sc-iNqMTl iJnrGS"><div class="sc-bdfBwQ iHVwqH"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-eLgOdN bQhjDx"><path d="M15.485 12L6.293 2.808a1 1 0 0 1 1.414-1.415l9.9 9.9a1 1 0 0 1 0 1.414l-9.9 9.9a1 1 0 0 1-1.414-1.415L15.485 12z"></path></svg></div></a></div><div class="sc-bdfBwQ hoCIaF"><div class="sc-bkzZxe jjUwRe"><div class="sc-bdfBwQ FtNbH"><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="17072"><a href="/city/las-vegas-nv-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/17072/1_17072_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Las Vegas (NV)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">631 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="12772"><a href="/city/los-angeles-ca-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/12772/1_12772_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Los Angeles (CA)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">2,552 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="10757"><a href="/city/orlando-fl-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/10757/1_10757_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Orlando (FL)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">10,575 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="8683"><a href="/city/dallas-tx-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/8683/1_8683_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Dallas (TX)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,103 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="10461"><a href="/city/phoenix-az-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/10461/1_10461_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Phoenix (AZ)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,957 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="2045"><a href="/city/atlanta-ga-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/2045/1_2045_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Atlanta (GA)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">725 accommodations
</span></a></div></div></div></div><div class="sc-bkzZxe jjUwRe"><div class="sc-bdfBwQ FtNbH"><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="1178"><a href="/city/houston-tx-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/1178/1_1178_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Houston (TX)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,210 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="13899"><a href="/city/chicago-il-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/13899/1_13899_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Chicago (IL)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">781 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="318"><a href="/city/new-york-ny-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/318/1_318_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">New York (NY)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,957 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="11579"><a href="/city/fort-lauderdale-fl-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/11579/1_11579_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Fort Lauderdale (FL)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,484 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="3068"><a href="/city/san-diego-ca-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/3068/1_3068_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">San Diego (CA)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,043 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="domestic" data-element-index="2467"><a href="/city/denver-co-us.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/2467/1_2467_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Denver (CO)</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">420 accommodations
</span></a></div></div></div></div></div></div></div></div><div class="sc-bdfBwQ inzUVf container-agoda" data-element-name="accommodation-entry-panel"><div class="sc-bdfBwQ fEcYkQ"><h3 class="sc-hKgILt glKhLm">Explore more travel vacation rentals</h3></div><div spacing="XXL" class="sc-gTgzIj hYtDEH"><div class="sc-jgHCyG ipyQjp"><a href="/apartments" target="_blank" class="sc-iNqMTl eUDcgy"><div class="sc-bdfBwQ jmFPeO property-type-card" data-element-name="accommodation-entry-card" data-element-index="0" data-element-value="29"><img alt="" src="https://cdn6.agoda.net/images/accommodation/other-property-types/entire-apartment.jpg" width="100%"><div class="sc-bdfBwQ fXbvZn"><span class="sc-jSgupP hoyVWw">Apartments</span><span class="sc-jSgupP bPYcLq sc-bdfBwQ jgfhAa">156,786 properties</span></div></div></a></div><div class="sc-jgHCyG ipyQjp"><a href="/vacation-rentals" target="_blank" class="sc-iNqMTl eUDcgy"><div class="sc-bdfBwQ jmFPeO property-type-card" data-element-name="accommodation-entry-card" data-element-index="1" data-element-value="131"><img alt="" src="https://cdn6.agoda.net/images/accommodation/other-property-types/entire-house.jpg" width="100%"><div class="sc-bdfBwQ fXbvZn"><span class="sc-jSgupP hoyVWw">Vacation Rentals</span><span class="sc-jSgupP bPYcLq sc-bdfBwQ jgfhAa">517,703 properties</span></div></div></a></div><div class="sc-jgHCyG ipyQjp"><a href="/villas" target="_blank" class="sc-iNqMTl eUDcgy"><div class="sc-bdfBwQ jmFPeO property-type-card" data-element-name="accommodation-entry-card" data-element-index="2" data-element-value="28"><img alt="" src="https://cdn6.agoda.net/images/accommodation/other-property-types/entire-villa.jpg" width="100%"><div class="sc-bdfBwQ fXbvZn"><span class="sc-jSgupP hoyVWw">Private Villas</span><span class="sc-jSgupP bPYcLq sc-bdfBwQ jgfhAa">181,167 properties</span></div></div></a></div><div class="sc-jgHCyG ipyQjp"><a href="/bungalows" target="_blank" class="sc-iNqMTl eUDcgy"><div class="sc-bdfBwQ jmFPeO property-type-card" data-element-name="accommodation-entry-card" data-element-index="3" data-element-value="103"><img alt="" src="https://cdn6.agoda.net/images/accommodation/other-property-types/entire-bungalow.jpg" width="100%"><div class="sc-bdfBwQ fXbvZn"><span class="sc-jSgupP hoyVWw">Bungalows</span><span class="sc-jSgupP bPYcLq sc-bdfBwQ jgfhAa">8,801 properties</span></div></div></a></div></div></div><section class="AdsContainerHome"><div id="ads-home-desktop-slot1" data-element-name="ads-horizontal-banner" class="AdsBanner sc-jLiVlK cuqwPs AdsSlot1" data-element-index="1"></div></section><section class="TravelerReviews"><h2 class="TravelerReviews__Title">Overheard from travelers</h2><div class="TravelerReviews__CardsContainer" data-element-name="traveler-reviews"><article class="ReviewCard" data-element-name="traveler-review-card"><a href="/heritage-hotel/hotel/manila-ph.html" class="ReviewCard__HotelLink"><p class="ReviewCard__HotelName" data-element-name="review-card-hotel-name">Heritage Hotel</p></a><p class="ReviewCard__HotelCountry">in the Philippines</p><p id="review-5610" class="ReviewCard__Review ReviewCard__Review--textCenter" style="height: 130px;">"We got a great last minute rate with Agoda and this room was spacious with a comfortable and warm bed."</p><p class="ReviewCard__Reviewer">- Henry from Australia</p></article><article class="ReviewCard" data-element-name="traveler-review-card"><a href="/holiday-inn-resort-batam/hotel/batam-island-id.html" class="ReviewCard__HotelLink"><p class="ReviewCard__HotelName" data-element-name="review-card-hotel-name">Holiday Inn Resort Batam</p></a><p class="ReviewCard__HotelCountry">in Indonesia</p><p id="review-7416" class="ReviewCard__Review ReviewCard__Review--textCenter" style="height: 130px;">"Thanks Agoda for letting me change room without charge and rebate the difference. Nice staffs Agoda and Holiday Inn!"</p><p class="ReviewCard__Reviewer">- Andy from Singapore</p></article><article class="ReviewCard" data-element-name="traveler-review-card"><a href="/fairmont-singapore/hotel/singapore-sg.html" class="ReviewCard__HotelLink"><p class="ReviewCard__HotelName" data-element-name="review-card-hotel-name">Fairmont Singapore</p></a><p class="ReviewCard__HotelCountry">in Singapore</p><p id="review-10615" class="ReviewCard__Review" style="height: 104px;">"The hotel was simple amazing and I couldn't thank Agoda more for helping out. I've been a customer for awhile and I have to say it's probably my favourite app!"</p><span id="moreBtn-10615" class="ReviewCard__Review_btnMore" style="font-size: 20px;">...more</span><span class="ReviewCard__Review">"</span><p class="ReviewCard__Reviewer"> - Malvin from Singapore</p></article></div></section><div class="TopDestinationRail" data-selenium="topdestinationrail-international" data-element-name="top-destination-cities" data-element-type="international"><span class="sc-jSgupP sDQm sc-bdfBwQ bnVnNH">Popular destinations outside United States</span><div><div class="sc-bdfBwQ BXroD"><div class="sc-bdfBwQ bXLITL sc-idOhPF csVAZu"></div><div class="sc-bdfBwQ fLILAv sc-dIUggk hIXOVZ"></div><div class="sc-bdfBwQ sc-hHftDr dliboP cNddbp"><a class="sc-iNqMTl iJnrGS"><div class="sc-bdfBwQ iHVwqH"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-eLgOdN bQhjDx"><path d="M8.515 12l9.192 9.192a1 1 0 1 1-1.414 1.415l-9.9-9.9a1 1 0 0 1 0-1.414l9.9-9.9a1 1 0 0 1 1.414 1.415L8.515 12z"></path></svg></div></a></div><div class="sc-bdfBwQ eXdpLH sc-kstrdz kgEIOm"><a class="sc-iNqMTl iJnrGS"><div class="sc-bdfBwQ iHVwqH"><svg width="1em" height="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sc-eLgOdN bQhjDx"><path d="M15.485 12L6.293 2.808a1 1 0 0 1 1.414-1.415l9.9 9.9a1 1 0 0 1 0 1.414l-9.9 9.9a1 1 0 0 1-1.414-1.415L15.485 12z"></path></svg></div></a></div><div class="sc-bdfBwQ hoCIaF"><div class="sc-bkzZxe jjUwRe"><div class="sc-bdfBwQ FtNbH"><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="14524"><a href="/city/kuala-lumpur-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/14524/1_14524_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Kuala Lumpur</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">10,829 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="8691"><a href="/city/jakarta-id.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/8691/1_8691_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Jakarta</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">7,151 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="9395"><a href="/city/bangkok-th.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/9395/1_9395_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Bangkok</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">10,205 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="1622"><a href="/city/manila-ph.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/1622/1_1622_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Manila</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">6,249 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="4064"><a href="/city/singapore-sg.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/4064/1_4064_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Singapore</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">930 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="16087"><a href="/city/penang-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/16087/1_16087_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Penang</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">3,179 accommodations
</span></a></div></div></div></div><div class="sc-bkzZxe jjUwRe"><div class="sc-bdfBwQ FtNbH"><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="1808"><a href="/city/johor-bahru-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/1808/1_1808_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Johor Bahru</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">3,635 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="2994"><a href="/city/dubai-ae.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/2994/1_2994_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Dubai</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">6,011 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="18943"><a href="/city/bandung-id.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/18943/1_18943_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Bandung</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">3,587 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="11304"><a href="/city/goa-in.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/11304/1_11304_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Goa</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">7,610 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="15121"><a href="/city/malacca-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/15121/1_15121_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Malacca</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">3,126 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="5070"><a href="/city/kota-kinabalu-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/5070/1_5070_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Kota Kinabalu</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,843 accommodations
</span></a></div></div></div></div><div class="sc-bkzZxe jjUwRe"><div class="sc-bdfBwQ FtNbH"><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="4001"><a href="/city/cebu-ph.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/4001/1_4001_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Cebu</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">3,228 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="14552"><a href="/city/new-delhi-and-ncr-in.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/14552/1_14552_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">New Delhi and NCR</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">9,497 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="8584"><a href="/city/pattaya-th.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/8584/1_8584_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Pattaya</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">9,322 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="16808"><a href="/city/hong-kong-hk.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/16808/1_16808_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Hong Kong</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,728 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="3241"><a href="/city/kuantan-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/3241/1_3241_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Kuantan</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">724 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="15903"><a href="/city/boracay-island-ph.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/15903/1_15903_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Boracay Island</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">766 accommodations
</span></a></div></div></div></div><div class="sc-bkzZxe jjUwRe"><div class="sc-bdfBwQ FtNbH"><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="16056"><a href="/city/phuket-th.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/16056/1_16056_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Phuket</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">10,380 accommodations
</span></a></div></div><div class="sc-bdfBwQ drRvTp"><div class="TopDestinationItem" data-element-name="top-destination-city-item" data-element-type="international" data-element-index="15523"><a href="/city/ipoh-my.html" class="sc-iNqMTl eUDcgy sc-bdfBwQ gVEjWG"><img alt="" class="TopDestinationItem__Image" src="//pix6.agoda.net/geo/city/15523/1_15523_02.jpg?s=345x345&amp;ar=1x1"><span class="TopDestinationItem__City">Ipoh</span><span class="sc-jSgupP cfpvrt sc-bdfBwQ eRTHr">1,185 accommodations
</span></a></div></div></div></div></div></div></div></div></div></div>
<div id="page-backdrop" class="hide"></div>

<img alt="" src="/api/pixel/index?u=tAD6mokMiA2Jne7gXl0g8PbuGj3SuOMN" width="0" height="0">


    <script>
        footerProps = {"seoWhiteLabelLinksGroups":[],"linksGroups":[{"title":"Help","dataSelenium":"footer-help-column","className":"","list":[{"text":"Help center","link":"/info/contact.html","id":"footer-contact-us","rel":"nofollow","target":"","data":{"selenium":"footer-contact-us","elementName":"contact-us-footer"}},{"text":"FAQs","link":"/info/contact.html","id":"footer-faqs","rel":"nofollow","target":"","data":{"selenium":"footer-faqs","elementName":""}},{"text":"Privacy policy","link":"/info/privacy.html","id":"footer-privacy-policy","rel":"nofollow","target":"_blank","data":{"selenium":"footer-privacy-policy","elementName":""}},{"text":"Cookie policy","link":"/info/privacy.html#cookies","id":"footer-cookie-policy","rel":"nofollow","target":"_blank","data":{"selenium":"footer-cookie-policy","elementName":""}},{"text":"Terms of use","link":"/info/termsofuse.html","id":"footer-terms-of-service","rel":"nofollow","target":"_blank","data":{"selenium":"footer-terms-of-service","elementName":""}}]},{"title":"About us","dataSelenium":"footer-about-us-column","className":"","list":[{"text":"PointsMAX","link":"//www.agoda.com/pointsmax.html","id":"footer-points-max","rel":"nofollow","target":"","data":{"selenium":"footer-pointsmax","elementName":""}},{"text":"Careers","link":"//careersatagoda.com","id":"footer-careers","rel":"nofollow","target":"_blank","data":{"selenium":"footer-careers","elementName":""}},{"text":"Press","link":"//mediaroom.agoda.com","id":"footer-media","rel":"nofollow","target":"_blank","data":{"selenium":"footer-media","elementName":""}},{"text":"Blog","link":"/blog","id":"footer-blog","rel":"nofollow","target":"_blank","data":{"selenium":"footer-blog","elementName":""}}]},{"title":"Destinations","dataSelenium":"footer-destinations-column","className":"","list":[{"text":"Countries/Territories","link":"//www.agoda.com/world.html","id":"","rel":"","target":"","data":{"selenium":"footer-destination-countries","elementName":""}},{"text":"Cities","link":"//www.agoda.com/cities.html","id":"","rel":"","target":"","data":{"selenium":"footer-destination-cities","elementName":""}}]},{"title":"Partner with us","dataSelenium":"footer-partner-with-us-column","className":"","list":[{"text":"YCS partner portal","link":"////ycs.agoda.com","id":"","rel":"nofollow","target":"_blank","data":{"selenium":"footer-partner-hotels","elementName":""}},{"text":"Partner solutions","link":"//connect.agoda.com/","id":"","rel":"nofollow","target":"_blank","data":{"selenium":"footer-partner-solutions","elementName":""}},{"text":"Affiliates","link":"////partners.agoda.com/index.html","id":"","rel":"nofollow","target":"_blank","data":{"selenium":"footer-partner-affiliates","elementName":""}},{"text":"Connectivity partners","link":"//www.agodaconnectivity.com/home","id":"","rel":"nofollow","target":"_blank","data":{"selenium":"footer-partner-affiliates","elementName":""}}]},{"title":"Get the app","dataSelenium":"footer-mobile-app-column","className":"","list":[{"text":"iOS app","link":"//app.appsflyer.com/id440676901?pid=direct&c=hotel_page_footer&af_siteid=1716632&site_id=1716632&af_sub1=desktop","id":"","rel":"nofollow","target":"","data":{"selenium":"footer-mobile-app-ios","elementName":""}},{"text":"Android app","link":"//app.appsflyer.com/com.agoda.mobile.consumer?pid=direct&c=hotel_page_footer&af_siteid=1716632&site_id=1716632&af_sub1=desktop","id":"","rel":"nofollow","target":"","data":{"selenium":"footer-mobile-app-andriod","elementName":""}}]}],"copyrights":{"material":"All material herein © 2005–2021 Agoda Company Pte. Ltd. All Rights Reserved.","priceline":"Agoda is part of Booking Holdings Inc., the world leader in online travel & related services.","travel":" ","machineName":"as-crweb-3004","showMachineNameBelow":true,"brands":["agoda","priceline","kayak","rental-cars","booking-com","open-table"],"chinaICP":null},"chinaQr":null,"chinaContactUsMessage":null,"cookiePolicy":null,"cookiePopup":null,"seoLinksGroups":[],"topDestinations":"<table style=\"width:100%\" cellspacing=\"0\" cellpadding=\"10\">\n    <tbody>\n        <tr>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Destination Cities</span></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia</span></li>\n                    <li><a href=\"/city/bali-id.html\" title=\"Bali Hotels\">Bali Hotels</a></li>\n                    <li><a href=\"/city/bandung-id.html\" title=\"Bandung Hotels\">Bandung Hotels</a></li>\n                    <li><a href=\"/city/bangkok-th.html\" title=\"Bangkok Hotels\">Bangkok Hotels</a></li>\n                    <li><a href=\"/city/boracay-island-ph.html\" title=\"Boracay Island Hotels\">Boracay Island Hotels</a>\n                    </li>\n                    <li><a href=\"/city/busan-kr.html\" title=\"Busan Hotels\">Busan Hotels</a></li>\n                    <li><a href=\"/city/cebu-ph.html\" title=\"Cebu Hotels\">Cebu Hotels</a></li>\n                    <li><a href=\"/city/chiang-mai-th.html\" title=\"Chiang Mai Hotels\">Chiang Mai Hotels</a></li>\n                    <li><a href=\"/city/da-nang-vn.html\" title=\"Da Nang Hotels\">Da Nang Hotels</a></li>\n                    <li><a href=\"/city/fukuoka-jp.html\" title=\"Fukuoka Hotels\">Fukuoka Hotels</a></li>\n                    <li><a href=\"/city/hanoi-vn.html\" title=\"Hanoi Hotels\">Hanoi Hotels</a></li>\n                    <li><a href=\"/city/hat-yai-th.html\" title=\"Hat Yai Hotels\">Hat Yai Hotels</a></li>\n                    <li><a href=\"/city/ho-chi-minh-city-vn.html\" title=\"Ho Chi Minh City Hotels\">Ho Chi Minh City\n                            Hotels</a></li>\n                    <li><a href=\"/city/hoi-an-vn.html\" title=\"Hoi An Hotels\">Hoi An Hotels</a></li>\n                    <li><a href=\"/city/hong-kong-hk.html\" title=\"Hong Kong Hotels\">Hong Kong Hotels</a></li>\n                    <li><a href=\"/city/hua-hin-cha-am-th.html\" title=\"Hua Hin Hotels\">Hua Hin Hotels</a></li>\n                    <li><a href=\"/city/hualien-tw.html\" title=\"Hualien Hotels\">Hualien Hotels</a></li>\n                    <li><a href=\"/city/ipoh-my.html\" title=\"Ipoh Hotels\">Ipoh Hotels</a></li>\n                    <li><a href=\"/city/jakarta-id.html\" title=\"Jakarta Hotels\">Jakarta Hotels</a></li>\n                    <li><a href=\"/city/jeju-island-kr.html\" title=\"Jeju Island Hotels\">Jeju Island Hotels</a></li>\n                    <li><a href=\"/city/johor-bahru-my.html\" title=\"Johor Bahru Hotels\">Johor Bahru Hotels</a></li>\n                    <li><a href=\"/city/kaohsiung-tw.html\" title=\"Kaohsiung Hotels\">Kaohsiung Hotels</a></li>\n                    <li><a href=\"/city/kota-kinabalu-my.html\" title=\"Kota Kinabalu Hotels\">Kota Kinabalu Hotels</a></li>\n                    <li><a href=\"/city/krabi-th.html\" title=\"Krabi Hotels\">Krabi Hotels</a></li>\n                    <li><a href=\"/city/kuala-lumpur-my.html\" title=\"Kuala Lumpur Hotels\">Kuala Lumpur Hotels</a></li>\n                    <li><a href=\"/city/kuantan-my.html.html\" title=\"Kuantan Hotels\">Kuantan Hotels</a></li>\n                    <li><a href=\"/city/kyoto-jp.html\" title=\"Kyoto Hotels\">Kyoto Hotels</a></li>\n                </ul>\n            </td>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\">\n                    <li><a href=\"/city/macau-mo.html\" title=\"Macau Hotels\">Macau Hotels</a></li>\n                    <li><a href=\"/city/malacca-my.html\" title=\"Malacca Hotels\">Malacca Hotels</a></li>\n                    <li><a href=\"/city/manila-ph.html\" title=\"Manila Hotels\">Manila Hotels</a></li>\n                    <li><a href=\"/city/nagoya-jp.html\" title=\"Nagoya Hotels\">Nagoya Hotels</a></li>\n                    <li><a href=\"/city/nha-trang-vn.html\" title=\"Nha Trang Hotels\">Nha Trang Hotels</a></li>\n                    <li><a href=\"/city/okinawa-main-island-jp.html\" title=\"Okinawa Hotels\">Okinawa Hotels</a></li>\n                    <li><a href=\"/city/osaka-jp.html\" title=\"Osaka Hotels\">Osaka Hotels</a></li>\n                    <li><a href=\"/city/pattaya-th.html\" title=\"Pattaya Hotels\">Pattaya Hotels</a></li>\n                    <li><a href=\"/city/penang-my.html\" title=\"Penang Hotels\">Penang Hotels</a></li>\n                    <li><a href=\"/city/phuket-th.html\" title=\"Phuket Hotels\">Phuket Hotels</a></li>\n                    <li><a href=\"/city/sapporo-jp.html\" title=\"Sapporo Hotels\">Sapporo Hotels</a></li>\n                    <li><a href=\"/city/seoul-kr.html\" title=\"Seoul Hotels\">Seoul Hotels</a></li>\n                    <li><a href=\"/city/shanghai-cn.html\" title=\"Shanghai Hotels\">Shanghai Hotels</a></li>\n                    <li><a href=\"/city/singapore-sg.html\" title=\"Singapore Hotels\">Singapore Hotels</a></li>\n                    <li><a href=\"/city/surabaya-id.html\" title=\"Surabaya Hotels\">Surabaya Hotels</a></li>\n                    <li><a href=\"/city/taichung-tw.html\" title=\"Taichung Hotels\">Taichung Hotels</a></li>\n                    <li><a href=\"/city/tainan-tw.html\" title=\"Tainan Hotels\">Tainan Hotels</a></li>\n                    <li><a href=\"/city/taipei-tw.html\" title=\"Taipei Hotels\">Taipei Hotels</a></li>\n                    <li><a href=\"/city/tokyo-jp.html\" title=\"Tokyo Hotels\">Tokyo Hotels</a></li>\n                    <li><a href=\"/city/yilan-tw.html\" title=\"Yilan Hotels\">Yilan Hotels</a></li>\n                    <li><a href=\"/city/yogyakarta-id.html\" title=\"Yogyakarta Hotels\">Yogyakarta Hotels</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Europe</span></li>\n                    <li><a href=\"/city/london-gb.html\" title=\"London Hotels\">London Hotels</a></li>\n                    <li><a href=\"/city/paris-fr.html\" title=\"Paris Hotels\">Paris Hotels</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Middle East</span></li>\n                    <li><a href=\"/city/dubai-ae.html\" title=\"Dubai Hotels\">Dubai Hotels</a></li>\n                </ul>\n            </td>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Countries & Territories</span></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Africa</span></li>\n                    <li><a href=\"/country/morocco.html\" title=\"Morocco Hotels\">Morocco Hotels</a></li>\n                    <li><a href=\"/country/south-africa.html\" title=\"South Africa Hotels\">South Africa Hotels</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Americas</span></li>\n                    <li><a href=\"/country/argentina.html\" title=\"Argentina Hotels\">Argentina Hotels</a></li>\n                    <li><a href=\"/country/brazil.html\" title=\"Brazil Hotels\">Brazil Hotels</a></li>\n                    <li><a href=\"/country/canada.html\" title=\"Canada Hotels\">Canada Hotels</a></li>\n                    <li><a href=\"/country/mexico.html\" title=\"Mexico Hotels\">Mexico Hotels</a></li>\n                    <li><a href=\"/country/united-states.html\" title=\"United States Hotels\">United States Hotels</a></li>\n                    <li><a href=\"/country/venezuela.html\" title=\"Venezuela Hotels\">Venezuela Hotels</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia</span></li>\n                    <li><a href=\"/country/cambodia.html\" title=\"Cambodia Hotels\">Cambodia Hotels</a></li>\n                    <li><a href=\"/country/china.html\" title=\"China Hotels\">China Hotels</a></li>\n                    <li><a href=\"/country/india.html\" title=\"India Hotels\">India Hotels</a></li>\n                    <li><a href=\"/country/indonesia.html\" title=\"Indonesia Hotels\">Indonesia Hotels</a></li>\n                    <li><a href=\"/country/japan.html\" title=\"Japan Hotels\">Japan Hotels</a></li>\n                    <li><a href=\"/country/laos.html\" title=\"Laos Hotels\">Laos Hotels</a></li>\n                    <li><a href=\"/country/malaysia.html\" title=\"Malaysia Hotels\">Malaysia Hotels</a></li>\n                    <li><a href=\"/country/myanmar.html\" title=\"Myanmar Hotels\">Myanmar Hotels</a></li>\n                    <li><a href=\"/country/nepal.html\" title=\"Nepal Hotels\">Nepal Hotels</a></li>\n                    <li><a href=\"/country/philippines.html\" title=\"Philippines Hotels\">Philippines Hotels</a></li>\n                    <li><a href=\"/country/south-korea.html\" title=\"South Korea Hotels\">South Korea Hotels</a></li>\n                    <li><a href=\"/country/sri-lanka.html\" title=\"Sri Lanka Hotels\">Sri Lanka Hotels</a></li>\n                    <li><a href=\"/country/taiwan.html\" title=\"Taiwan Hotels\">Taiwan Hotels</a></li>\n                    <li><a href=\"/country/thailand.html\" title=\"Thailand Hotels\">Thailand Hotels</a></li>\n                    <li><a href=\"/country/vietnam.html\" title=\"Vietnam Hotels\">Vietnam Hotels</a></li>\n                </ul>\n            </td>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Europe</span></li>\n                    <li><a href=\"/country/austria.html\" title=\"Austria Hotels\">Austria Hotels</a></li>\n                    <li><a href=\"/country/czech-republic.html\" title=\"Czech Republic Hotels\">Czech Republic Hotels</a>\n                    </li>\n                    <li><a href=\"/country/denmark.html\" title=\"Denmark Hotels\">Denmark Hotels</a></li>\n                    <li><a href=\"/country/finland.html\" title=\"Finland Hotels\">Finland Hotels</a></li>\n                    <li><a href=\"/country/france.html\" title=\"France Hotels\">France Hotels</a></li>\n                    <li><a href=\"/country/germany.html\" title=\"Germany Hotels\">Germany Hotels</a></li>\n                    <li><a href=\"/country/greece.html\" title=\"Greece Hotels\">Greece Hotels</a></li>\n                    <li><a href=\"/country/hungary.html\" title=\"Hungary Hotels\">Hungary Hotels</a></li>\n                    <li><a href=\"/country/ireland.html\" title=\"Ireland Hotels\">Ireland Hotels</a></li>\n                    <li><a href=\"/country/italy.html\" title=\"Italy Hotels\">Italy Hotels</a></li>\n                    <li><a href=\"/country/netherlands.html\" title=\"Netherlands Hotels\">Netherlands Hotels</a></li>\n                    <li><a href=\"/country/russia.html\" title=\"Russia Hotels\">Russia Hotels</a></li>\n                    <li><a href=\"/country/spain.html\" title=\"Spain Hotels\">Spain Hotels</a></li>\n                    <li><a href=\"/country/sweden.html\" title=\"Sweden Hotels\">Sweden Hotels</a></li>\n                    <li><a href=\"/country/switzerland.html\" title=\"Switzerland Hotels\">Switzerland Hotels</a></li>\n                    <li><a href=\"/country/united-kingdom.html\" title=\"United Kingdom Hotels\">United Kingdom Hotels</a>\n                    </li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Middle East</span></li>\n                    <li><a href=\"/country/bahrain.html\" title=\"Bahrain Hotels\">Bahrain Hotels</a></li>\n                    <li><a href=\"/country/egypt.html\" title=\"Egypt Hotels\">Egypt Hotels</a></li>\n                    <li><a href=\"/country/israel.html\" title=\"Israel Hotels\">Israel Hotels</a></li>\n                    <li><a href=\"/country/united-arab-emirates.html\" title=\"United Arab Emirates Hotels\">United Arab\n                            Emirates Hotels</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Oceania</span></li>\n                    <li><a href=\"/country/australia.html\" title=\"Australia Hotels\">Australia Hotels</a></li>\n                    <li><a href=\"/country/new-zealand.html\" title=\"New Zealand Hotels\">New Zealand Hotels</a></li>\n                </ul>\n            </td>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Destination Guides</span></li>\n                    <li><a href=\"/travel-guides\">Destination Guides Home</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia</span></li>\n                    <li><a href=\"/travel-guides/indonesia/bali\" title=\"Bali Guide\">Bali Guide</a></li>\n                    <li><a href=\"/travel-guides/thailand/bangkok\" title=\"Bangkok Guide\">Bangkok Guide</a></li>\n                    <li><a href=\"/travel-guides/hong-kong\" title=\"Hong Kong Guide\">Hong Kong Guide</a></li>\n                    <li><a href=\"/travel-guides/indonesia/jakarta\" title=\"Jakarta Guide\">Jakarta Guide</a></li>\n                    <li><a href=\"/travel-guides/south-korea/jeju-island\" title=\"Jeju Island Guide\">Jeju Island Guide</a>\n                    </li>\n                    <li><a href=\"/travel-guides/malaysia/kuala-lumpur\" title=\"Kuala Lumpur Guide\">Kuala Lumpur Guide</a>\n                    </li>\n                    <li><a href=\"/travel-guides/japan/kyoto\" title=\"Kyoto Guide\">Kyoto Guide</a></li>\n                    <li><a href=\"/travel-guides/japan/kyushu\" title=\"Kyushu Guide\">Kyushu Guide</a></li>\n                    <li><a href=\"/travel-guides/malaysia/malacca\" title=\"Malacca Guide\">Malacca Guide</a></li>\n                    <li><a href=\"/travel-guides/philippines/manila\" title=\"Manila Guide\">Manila Guide</a></li>\n                    <li><a href=\"/travel-guides/japan/nara\" title=\"Nara Guide\">Nara Guide</a></li>\n                    <li><a href=\"/travel-guides/japan/osaka\" title=\"Osaka Guide\">Osaka Guide</a></li>\n                    <li><a href=\"/travel-guides/thailand/phuket\" title=\"Phuket Guide\">Phuket Guide</a></li>\n                    <li><a href=\"/travel-guides/japan/sapporo\" title=\"Sapporo Guide\">Sapporo Guide</a></li>\n                    <li><a href=\"/travel-guides/south-korea/seoul\" title=\"Seoul Guide\">Seoul Guide</a></li>\n                    <li><a href=\"/travel-guides/singapore\" title=\"Singapore Guide\">Singapore Guide</a></li>\n                    <li><a href=\"/travel-guides/taiwan/taichung\" title=\"Taichung Guide\">Taichung Guide</a></li>\n                    <li><a href=\"/travel-guides/taiwan/taipei\" title=\"Taipei Guide\">Taipei Guide</a></li>\n                    <li><a href=\"/travel-guides/japan/tokyo\" title=\"Tokyo Guide\">Tokyo Guide</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Europe</span></li>\n                    <li><a href=\"/travel-guides/france/paris\" title=\"Paris Guide\">Paris Guide</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Middle East</span></li>\n                    <li><a href=\"/travel-guides/united-arab-emirates-uae/dubai\" title=\"Dubai Guide\">Dubai Guide</a></li>\n                    <li><a href=\"/travel-guides/saudi-arabia/jeddah\" title=\"Jeddah Guide\">Jeddah Guide</a></li>\n                    <li><a href=\"/travel-guides/saudi-arabia\" title=\"Saudi Arabia Guide\">Saudi Arabia Guide</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Oceania</span></li>\n                    <li><a href=\"/travel-guides/australia/brisbane\" title=\"Brisbane Guide\">Brisbane Guide</a></li>\n                    <li><a href=\"/travel-guides/australia/melbourne\" title=\"Melbourne Guide\">Melbourne Guide</a></li>\n                    <li><a href=\"/travel-guides/australia/sydney\" title=\"Sydney Guide\">Sydney Guide</a></li>\n                </ul>\n            </td>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Agoda Homes</span></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia Apartments</span></li>\n                    <li><a href=\"/apartments/city/bangkok-th.html\" title=\"Bangkok Apartments\">Bangkok Apartments</a>\n                    </li>\n                    <li><a href=\"/apartments/city/kuala-lumpur-my.html\" title=\"Kuala Lumpur Apartments\">Kuala Lumpur\n                            Apartments</a></li>\n                    <li><a href=\"/apartments/city/manila-ph.html\" title=\"Manila Apartments\">Manila Apartments</a></li>\n                    <li><a href=\"/apartments/city/osaka-jp.html\" title=\"Osaka Apartments\">Osaka Apartments</a></li>\n                    <li><a href=\"/apartments/city/pattaya-th.html\" title=\"Pattaya Apartments\">Pattaya Apartments</a>\n                    </li>\n                    <li><a href=\"/apartments/city/tokyo-jp.html\" title=\"Tokyo Apartments\">Tokyo Apartments</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia Bungalows</span></li>\n                    <li><a href=\"/bungalows/city/bali-id.html\" title=\"Bali Bungalows\">Bali Bungalows</a></li>\n                    <li><a href=\"/bungalows/city/koh-kood-th.html\" title=\"Koh Kood Bungalows\">Koh Kood Bungalows</a>\n                    </li>\n                    <li><a href=\"/bungalows/city/koh-lanta-th.html\" title=\"Koh Lanta Bungalows\">Koh Lanta Bungalows</a>\n                    </li>\n                    <li><a href=\"/bungalows/city/koh-phangan-th.html\" title=\"Koh Phangan Bungalows\">Koh Phangan\n                            Bungalows</a></li>\n                    <li><a href=\"/bungalows/city/koh-samet-th.html\" title=\"Koh Samet Bungalows\">Koh Samet Bungalows</a>\n                    </li>\n                    <li><a href=\"/bungalows/city/phu-quoc-island-vn.html\" title=\"Phu Quoc Island Bungalows\">Phu Quoc\n                            Island Bungalows</a></li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia Villas</span></li>\n                    <li><a href=\"/villas/city/bali-id.html\" title=\"Bali Villas\">Bali Villas</a></li>\n                    <li><a href=\"/villas/city/phuket-th.html\" title=\"Phuket Villas\">Phuket Villas</a></li>\n                    <li><a href=\"/villas/city/pattaya-th.html\" title=\"Pattaya Villas\">Pattaya Villas</a></li>\n                    <li><a href=\"/villas/city/hua-hin-cha-am-th.html\" title=\"Hua Hin / Cha-am Villas\">Hua Hin / Cha-am\n                            Villas</a></li>\n                    <li><a href=\"/villas/city/seoul-kr.html\" title=\"Seoul Villas\">Seoul Villas</a></li>\n                    <li><a href=\"/villas/city/port-dickson-my.html\" title=\"Port Dickson Villas\">Port Dickson Villas</a>\n                    </li>\n                </ul>\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Asia Vacation Rentals</span></li>\n                    <li><a href=\"/vacation-rentals/city/jeju-island-kr.html\" title=\"Jeju Island Vacation Rentals\">Jeju\n                            Island Vacation Rentals</a></li>\n                    <li><a href=\"/vacation-rentals/city/okinawa-main-island-jp.html\"\n                            title=\"Okinawa Main island Vacation Rentals\">Okinawa Main island Vacation Rentals</a></li>\n                    <li><a href=\"/vacation-rentals/city/tokyo-jp.html\" title=\"Tokyo Vacation Rentals\">Tokyo Vacation\n                            Rentals</a></li>\n                    <li><a href=\"/vacation-rentals/city/bangkok-th.html\" title=\"Bangkok Vacation Rentals\">Bangkok\n                            Vacation Rentals</a></li>\n                    <li><a href=\"/vacation-rentals/city/kuala-lumpur-my.html\"\n                            title=\"Kuala Lumpur Vacation Rentals\">Kuala Lumpur Vacation Rentals</a></li>\n                    <li><a href=\"/vacation-rentals/city/malacca-my.html\" title=\"Malacca Vacation Rentals\">Malacca\n                            Vacation Rentals</a></li>\n                </ul>\n            </td>\n            <td style=\"width:14%\">\n                <ul class=\"xslgray tex_left\">\n                    <li class=\"slgraybold\"><span>Explore</span></li>\n                    <li><a href=\"/longstay\">Long stays</a></li>\n                </ul>\n            </td>\n        </tr>\n    </tbody>\n</table>"};
    </script>
    <div id="react-footer"><footer class="Footer" data-selenium="footer" data-element-name="footer"><section class="Footer-links" data-selenium="footer-links-section"><div class="LinksList l-container"><div class="LinksListGroup LinksListGroup--vertical" data-selenium="footer-help-column"><h5 class="LinksListGroup-title LinksListGroup-title--vertical">Help</h5><ul class="LinksListGroup-list"><li class="LinksListLink"><a id="footer-contact-us" href="/info/contact.html" rel="nofollow" class="LinksListLink-link" data-selenium="footer-contact-us" data-element-name="contact-us-footer">Help center</a></li><li class="LinksListLink"><a id="footer-faqs" href="/info/contact.html" rel="nofollow" class="LinksListLink-link" data-selenium="footer-faqs" data-element-name="">FAQs</a></li><li class="LinksListLink"><a id="footer-privacy-policy" href="/info/privacy.html" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-privacy-policy" data-element-name="">Privacy policy</a></li><li class="LinksListLink"><a id="footer-cookie-policy" href="/info/privacy.html#cookies" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-cookie-policy" data-element-name="">Cookie policy</a></li><li class="LinksListLink"><a id="footer-terms-of-service" href="/info/termsofuse.html" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-terms-of-service" data-element-name="">Terms of use</a></li></ul></div><div class="LinksListGroup LinksListGroup--vertical" data-selenium="footer-about-us-column"><h5 class="LinksListGroup-title LinksListGroup-title--vertical">About us</h5><ul class="LinksListGroup-list"><li class="LinksListLink"><a id="footer-points-max" href="//www.agoda.com/pointsmax.html" rel="nofollow" class="LinksListLink-link" data-selenium="footer-pointsmax" data-element-name="">PointsMAX</a></li><li class="LinksListLink"><a id="footer-careers" href="//careersatagoda.com" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-careers" data-element-name="">Careers</a></li><li class="LinksListLink"><a id="footer-media" href="//mediaroom.agoda.com" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-media" data-element-name="">Press</a></li><li class="LinksListLink"><a id="footer-blog" href="/blog" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-blog" data-element-name="">Blog</a></li></ul></div><div class="LinksListGroup LinksListGroup--vertical" data-selenium="footer-destinations-column"><h5 class="LinksListGroup-title LinksListGroup-title--vertical">Destinations</h5><ul class="LinksListGroup-list"><li class="LinksListLink"><a id="footer-destination-countries" href="//www.agoda.com/world.html" class="LinksListLink-link" data-selenium="footer-destination-countries" data-element-name="">Countries/Territories</a></li><li class="LinksListLink"><a id="footer-destination-cities" href="//www.agoda.com/cities.html" class="LinksListLink-link" data-selenium="footer-destination-cities" data-element-name="">Cities</a></li></ul></div><div class="LinksListGroup LinksListGroup--vertical" data-selenium="footer-partner-with-us-column"><h5 class="LinksListGroup-title LinksListGroup-title--vertical">Partner with us</h5><ul class="LinksListGroup-list"><li class="LinksListLink"><a id="footer-partner-hotels" href="////ycs.agoda.com" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-partner-hotels" data-element-name="">YCS partner portal</a></li><li class="LinksListLink"><a id="footer-partner-solutions" href="//connect.agoda.com/" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-partner-solutions" data-element-name="">Partner solutions</a></li><li class="LinksListLink"><a id="footer-partner-affiliates" href="////partners.agoda.com/index.html" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-partner-affiliates" data-element-name="">Affiliates</a></li><li class="LinksListLink"><a id="footer-partner-affiliates" href="//www.agodaconnectivity.com/home" rel="nofollow" target="_blank" class="LinksListLink-link" data-selenium="footer-partner-affiliates" data-element-name="">Connectivity partners</a></li></ul></div><div class="LinksListGroup LinksListGroup--vertical" data-selenium="footer-mobile-app-column"><h5 class="LinksListGroup-title LinksListGroup-title--vertical">Get the app</h5><ul class="LinksListGroup-list"><li class="LinksListLink"><a id="footer-mobile-app-ios" href="//app.appsflyer.com/id440676901?pid=direct&amp;c=hotel_page_footer&amp;af_siteid=1716632&amp;site_id=1716632&amp;af_sub1=desktop" rel="nofollow" class="LinksListLink-link" data-selenium="footer-mobile-app-ios" data-element-name="">iOS app</a></li><li class="LinksListLink"><a id="footer-mobile-app-andriod" href="//app.appsflyer.com/com.agoda.mobile.consumer?pid=direct&amp;c=hotel_page_footer&amp;af_siteid=1716632&amp;site_id=1716632&amp;af_sub1=desktop" rel="nofollow" class="LinksListLink-link" data-selenium="footer-mobile-app-andriod" data-element-name="">Android app</a></li></ul></div></div></section><section class="Footer-topDestinations" data-selenium="footer-seo-section"><div class="SeoLinks l-container" data-selenium="top-destinations-div"><table style="width:100%" cellspacing="0" cellpadding="10">
    <tbody>
        <tr>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Destination Cities</span></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia</span></li>
                    <li><a href="/city/bali-id.html" title="Bali Hotels">Bali Hotels</a></li>
                    <li><a href="/city/bandung-id.html" title="Bandung Hotels">Bandung Hotels</a></li>
                    <li><a href="/city/bangkok-th.html" title="Bangkok Hotels">Bangkok Hotels</a></li>
                    <li><a href="/city/boracay-island-ph.html" title="Boracay Island Hotels">Boracay Island Hotels</a>
                    </li>
                    <li><a href="/city/busan-kr.html" title="Busan Hotels">Busan Hotels</a></li>
                    <li><a href="/city/cebu-ph.html" title="Cebu Hotels">Cebu Hotels</a></li>
                    <li><a href="/city/chiang-mai-th.html" title="Chiang Mai Hotels">Chiang Mai Hotels</a></li>
                    <li><a href="/city/da-nang-vn.html" title="Da Nang Hotels">Da Nang Hotels</a></li>
                    <li><a href="/city/fukuoka-jp.html" title="Fukuoka Hotels">Fukuoka Hotels</a></li>
                    <li><a href="/city/hanoi-vn.html" title="Hanoi Hotels">Hanoi Hotels</a></li>
                    <li><a href="/city/hat-yai-th.html" title="Hat Yai Hotels">Hat Yai Hotels</a></li>
                    <li><a href="/city/ho-chi-minh-city-vn.html" title="Ho Chi Minh City Hotels">Ho Chi Minh City
                            Hotels</a></li>
                    <li><a href="/city/hoi-an-vn.html" title="Hoi An Hotels">Hoi An Hotels</a></li>
                    <li><a href="/city/hong-kong-hk.html" title="Hong Kong Hotels">Hong Kong Hotels</a></li>
                    <li><a href="/city/hua-hin-cha-am-th.html" title="Hua Hin Hotels">Hua Hin Hotels</a></li>
                    <li><a href="/city/hualien-tw.html" title="Hualien Hotels">Hualien Hotels</a></li>
                    <li><a href="/city/ipoh-my.html" title="Ipoh Hotels">Ipoh Hotels</a></li>
                    <li><a href="/city/jakarta-id.html" title="Jakarta Hotels">Jakarta Hotels</a></li>
                    <li><a href="/city/jeju-island-kr.html" title="Jeju Island Hotels">Jeju Island Hotels</a></li>
                    <li><a href="/city/johor-bahru-my.html" title="Johor Bahru Hotels">Johor Bahru Hotels</a></li>
                    <li><a href="/city/kaohsiung-tw.html" title="Kaohsiung Hotels">Kaohsiung Hotels</a></li>
                    <li><a href="/city/kota-kinabalu-my.html" title="Kota Kinabalu Hotels">Kota Kinabalu Hotels</a></li>
                    <li><a href="/city/krabi-th.html" title="Krabi Hotels">Krabi Hotels</a></li>
                    <li><a href="/city/kuala-lumpur-my.html" title="Kuala Lumpur Hotels">Kuala Lumpur Hotels</a></li>
                    <li><a href="/city/kuantan-my.html.html" title="Kuantan Hotels">Kuantan Hotels</a></li>
                    <li><a href="/city/kyoto-jp.html" title="Kyoto Hotels">Kyoto Hotels</a></li>
                </ul>
            </td>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold">
                    </li><li><a href="/city/macau-mo.html" title="Macau Hotels">Macau Hotels</a></li>
                    <li><a href="/city/malacca-my.html" title="Malacca Hotels">Malacca Hotels</a></li>
                    <li><a href="/city/manila-ph.html" title="Manila Hotels">Manila Hotels</a></li>
                    <li><a href="/city/nagoya-jp.html" title="Nagoya Hotels">Nagoya Hotels</a></li>
                    <li><a href="/city/nha-trang-vn.html" title="Nha Trang Hotels">Nha Trang Hotels</a></li>
                    <li><a href="/city/okinawa-main-island-jp.html" title="Okinawa Hotels">Okinawa Hotels</a></li>
                    <li><a href="/city/osaka-jp.html" title="Osaka Hotels">Osaka Hotels</a></li>
                    <li><a href="/city/pattaya-th.html" title="Pattaya Hotels">Pattaya Hotels</a></li>
                    <li><a href="/city/penang-my.html" title="Penang Hotels">Penang Hotels</a></li>
                    <li><a href="/city/phuket-th.html" title="Phuket Hotels">Phuket Hotels</a></li>
                    <li><a href="/city/sapporo-jp.html" title="Sapporo Hotels">Sapporo Hotels</a></li>
                    <li><a href="/city/seoul-kr.html" title="Seoul Hotels">Seoul Hotels</a></li>
                    <li><a href="/city/shanghai-cn.html" title="Shanghai Hotels">Shanghai Hotels</a></li>
                    <li><a href="/city/singapore-sg.html" title="Singapore Hotels">Singapore Hotels</a></li>
                    <li><a href="/city/surabaya-id.html" title="Surabaya Hotels">Surabaya Hotels</a></li>
                    <li><a href="/city/taichung-tw.html" title="Taichung Hotels">Taichung Hotels</a></li>
                    <li><a href="/city/tainan-tw.html" title="Tainan Hotels">Tainan Hotels</a></li>
                    <li><a href="/city/taipei-tw.html" title="Taipei Hotels">Taipei Hotels</a></li>
                    <li><a href="/city/tokyo-jp.html" title="Tokyo Hotels">Tokyo Hotels</a></li>
                    <li><a href="/city/yilan-tw.html" title="Yilan Hotels">Yilan Hotels</a></li>
                    <li><a href="/city/yogyakarta-id.html" title="Yogyakarta Hotels">Yogyakarta Hotels</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Europe</span></li>
                    <li><a href="/city/london-gb.html" title="London Hotels">London Hotels</a></li>
                    <li><a href="/city/paris-fr.html" title="Paris Hotels">Paris Hotels</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Middle East</span></li>
                    <li><a href="/city/dubai-ae.html" title="Dubai Hotels">Dubai Hotels</a></li>
                </ul>
            </td>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Countries &amp; Territories</span></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Africa</span></li>
                    <li><a href="/country/morocco.html" title="Morocco Hotels">Morocco Hotels</a></li>
                    <li><a href="/country/south-africa.html" title="South Africa Hotels">South Africa Hotels</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Americas</span></li>
                    <li><a href="/country/argentina.html" title="Argentina Hotels">Argentina Hotels</a></li>
                    <li><a href="/country/brazil.html" title="Brazil Hotels">Brazil Hotels</a></li>
                    <li><a href="/country/canada.html" title="Canada Hotels">Canada Hotels</a></li>
                    <li><a href="/country/mexico.html" title="Mexico Hotels">Mexico Hotels</a></li>
                    <li><a href="/country/united-states.html" title="United States Hotels">United States Hotels</a></li>
                    <li><a href="/country/venezuela.html" title="Venezuela Hotels">Venezuela Hotels</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia</span></li>
                    <li><a href="/country/cambodia.html" title="Cambodia Hotels">Cambodia Hotels</a></li>
                    <li><a href="/country/china.html" title="China Hotels">China Hotels</a></li>
                    <li><a href="/country/india.html" title="India Hotels">India Hotels</a></li>
                    <li><a href="/country/indonesia.html" title="Indonesia Hotels">Indonesia Hotels</a></li>
                    <li><a href="/country/japan.html" title="Japan Hotels">Japan Hotels</a></li>
                    <li><a href="/country/laos.html" title="Laos Hotels">Laos Hotels</a></li>
                    <li><a href="/country/malaysia.html" title="Malaysia Hotels">Malaysia Hotels</a></li>
                    <li><a href="/country/myanmar.html" title="Myanmar Hotels">Myanmar Hotels</a></li>
                    <li><a href="/country/nepal.html" title="Nepal Hotels">Nepal Hotels</a></li>
                    <li><a href="/country/philippines.html" title="Philippines Hotels">Philippines Hotels</a></li>
                    <li><a href="/country/south-korea.html" title="South Korea Hotels">South Korea Hotels</a></li>
                    <li><a href="/country/sri-lanka.html" title="Sri Lanka Hotels">Sri Lanka Hotels</a></li>
                    <li><a href="/country/taiwan.html" title="Taiwan Hotels">Taiwan Hotels</a></li>
                    <li><a href="/country/thailand.html" title="Thailand Hotels">Thailand Hotels</a></li>
                    <li><a href="/country/vietnam.html" title="Vietnam Hotels">Vietnam Hotels</a></li>
                </ul>
            </td>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Europe</span></li>
                    <li><a href="/country/austria.html" title="Austria Hotels">Austria Hotels</a></li>
                    <li><a href="/country/czech-republic.html" title="Czech Republic Hotels">Czech Republic Hotels</a>
                    </li>
                    <li><a href="/country/denmark.html" title="Denmark Hotels">Denmark Hotels</a></li>
                    <li><a href="/country/finland.html" title="Finland Hotels">Finland Hotels</a></li>
                    <li><a href="/country/france.html" title="France Hotels">France Hotels</a></li>
                    <li><a href="/country/germany.html" title="Germany Hotels">Germany Hotels</a></li>
                    <li><a href="/country/greece.html" title="Greece Hotels">Greece Hotels</a></li>
                    <li><a href="/country/hungary.html" title="Hungary Hotels">Hungary Hotels</a></li>
                    <li><a href="/country/ireland.html" title="Ireland Hotels">Ireland Hotels</a></li>
                    <li><a href="/country/italy.html" title="Italy Hotels">Italy Hotels</a></li>
                    <li><a href="/country/netherlands.html" title="Netherlands Hotels">Netherlands Hotels</a></li>
                    <li><a href="/country/russia.html" title="Russia Hotels">Russia Hotels</a></li>
                    <li><a href="/country/spain.html" title="Spain Hotels">Spain Hotels</a></li>
                    <li><a href="/country/sweden.html" title="Sweden Hotels">Sweden Hotels</a></li>
                    <li><a href="/country/switzerland.html" title="Switzerland Hotels">Switzerland Hotels</a></li>
                    <li><a href="/country/united-kingdom.html" title="United Kingdom Hotels">United Kingdom Hotels</a>
                    </li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Middle East</span></li>
                    <li><a href="/country/bahrain.html" title="Bahrain Hotels">Bahrain Hotels</a></li>
                    <li><a href="/country/egypt.html" title="Egypt Hotels">Egypt Hotels</a></li>
                    <li><a href="/country/israel.html" title="Israel Hotels">Israel Hotels</a></li>
                    <li><a href="/country/united-arab-emirates.html" title="United Arab Emirates Hotels">United Arab
                            Emirates Hotels</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Oceania</span></li>
                    <li><a href="/country/australia.html" title="Australia Hotels">Australia Hotels</a></li>
                    <li><a href="/country/new-zealand.html" title="New Zealand Hotels">New Zealand Hotels</a></li>
                </ul>
            </td>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Destination Guides</span></li>
                    <li><a href="/travel-guides">Destination Guides Home</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia</span></li>
                    <li><a href="/travel-guides/indonesia/bali" title="Bali Guide">Bali Guide</a></li>
                    <li><a href="/travel-guides/thailand/bangkok" title="Bangkok Guide">Bangkok Guide</a></li>
                    <li><a href="/travel-guides/hong-kong" title="Hong Kong Guide">Hong Kong Guide</a></li>
                    <li><a href="/travel-guides/indonesia/jakarta" title="Jakarta Guide">Jakarta Guide</a></li>
                    <li><a href="/travel-guides/south-korea/jeju-island" title="Jeju Island Guide">Jeju Island Guide</a>
                    </li>
                    <li><a href="/travel-guides/malaysia/kuala-lumpur" title="Kuala Lumpur Guide">Kuala Lumpur Guide</a>
                    </li>
                    <li><a href="/travel-guides/japan/kyoto" title="Kyoto Guide">Kyoto Guide</a></li>
                    <li><a href="/travel-guides/japan/kyushu" title="Kyushu Guide">Kyushu Guide</a></li>
                    <li><a href="/travel-guides/malaysia/malacca" title="Malacca Guide">Malacca Guide</a></li>
                    <li><a href="/travel-guides/philippines/manila" title="Manila Guide">Manila Guide</a></li>
                    <li><a href="/travel-guides/japan/nara" title="Nara Guide">Nara Guide</a></li>
                    <li><a href="/travel-guides/japan/osaka" title="Osaka Guide">Osaka Guide</a></li>
                    <li><a href="/travel-guides/thailand/phuket" title="Phuket Guide">Phuket Guide</a></li>
                    <li><a href="/travel-guides/japan/sapporo" title="Sapporo Guide">Sapporo Guide</a></li>
                    <li><a href="/travel-guides/south-korea/seoul" title="Seoul Guide">Seoul Guide</a></li>
                    <li><a href="/travel-guides/singapore" title="Singapore Guide">Singapore Guide</a></li>
                    <li><a href="/travel-guides/taiwan/taichung" title="Taichung Guide">Taichung Guide</a></li>
                    <li><a href="/travel-guides/taiwan/taipei" title="Taipei Guide">Taipei Guide</a></li>
                    <li><a href="/travel-guides/japan/tokyo" title="Tokyo Guide">Tokyo Guide</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Europe</span></li>
                    <li><a href="/travel-guides/france/paris" title="Paris Guide">Paris Guide</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Middle East</span></li>
                    <li><a href="/travel-guides/united-arab-emirates-uae/dubai" title="Dubai Guide">Dubai Guide</a></li>
                    <li><a href="/travel-guides/saudi-arabia/jeddah" title="Jeddah Guide">Jeddah Guide</a></li>
                    <li><a href="/travel-guides/saudi-arabia" title="Saudi Arabia Guide">Saudi Arabia Guide</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Oceania</span></li>
                    <li><a href="/travel-guides/australia/brisbane" title="Brisbane Guide">Brisbane Guide</a></li>
                    <li><a href="/travel-guides/australia/melbourne" title="Melbourne Guide">Melbourne Guide</a></li>
                    <li><a href="/travel-guides/australia/sydney" title="Sydney Guide">Sydney Guide</a></li>
                </ul>
            </td>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Agoda Homes</span></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia Apartments</span></li>
                    <li><a href="/apartments/city/bangkok-th.html" title="Bangkok Apartments">Bangkok Apartments</a>
                    </li>
                    <li><a href="/apartments/city/kuala-lumpur-my.html" title="Kuala Lumpur Apartments">Kuala Lumpur
                            Apartments</a></li>
                    <li><a href="/apartments/city/manila-ph.html" title="Manila Apartments">Manila Apartments</a></li>
                    <li><a href="/apartments/city/osaka-jp.html" title="Osaka Apartments">Osaka Apartments</a></li>
                    <li><a href="/apartments/city/pattaya-th.html" title="Pattaya Apartments">Pattaya Apartments</a>
                    </li>
                    <li><a href="/apartments/city/tokyo-jp.html" title="Tokyo Apartments">Tokyo Apartments</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia Bungalows</span></li>
                    <li><a href="/bungalows/city/bali-id.html" title="Bali Bungalows">Bali Bungalows</a></li>
                    <li><a href="/bungalows/city/koh-kood-th.html" title="Koh Kood Bungalows">Koh Kood Bungalows</a>
                    </li>
                    <li><a href="/bungalows/city/koh-lanta-th.html" title="Koh Lanta Bungalows">Koh Lanta Bungalows</a>
                    </li>
                    <li><a href="/bungalows/city/koh-phangan-th.html" title="Koh Phangan Bungalows">Koh Phangan
                            Bungalows</a></li>
                    <li><a href="/bungalows/city/koh-samet-th.html" title="Koh Samet Bungalows">Koh Samet Bungalows</a>
                    </li>
                    <li><a href="/bungalows/city/phu-quoc-island-vn.html" title="Phu Quoc Island Bungalows">Phu Quoc
                            Island Bungalows</a></li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia Villas</span></li>
                    <li><a href="/villas/city/bali-id.html" title="Bali Villas">Bali Villas</a></li>
                    <li><a href="/villas/city/phuket-th.html" title="Phuket Villas">Phuket Villas</a></li>
                    <li><a href="/villas/city/pattaya-th.html" title="Pattaya Villas">Pattaya Villas</a></li>
                    <li><a href="/villas/city/hua-hin-cha-am-th.html" title="Hua Hin / Cha-am Villas">Hua Hin / Cha-am
                            Villas</a></li>
                    <li><a href="/villas/city/seoul-kr.html" title="Seoul Villas">Seoul Villas</a></li>
                    <li><a href="/villas/city/port-dickson-my.html" title="Port Dickson Villas">Port Dickson Villas</a>
                    </li>
                </ul>
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Asia Vacation Rentals</span></li>
                    <li><a href="/vacation-rentals/city/jeju-island-kr.html" title="Jeju Island Vacation Rentals">Jeju
                            Island Vacation Rentals</a></li>
                    <li><a href="/vacation-rentals/city/okinawa-main-island-jp.html" title="Okinawa Main island Vacation Rentals">Okinawa Main island Vacation Rentals</a></li>
                    <li><a href="/vacation-rentals/city/tokyo-jp.html" title="Tokyo Vacation Rentals">Tokyo Vacation
                            Rentals</a></li>
                    <li><a href="/vacation-rentals/city/bangkok-th.html" title="Bangkok Vacation Rentals">Bangkok
                            Vacation Rentals</a></li>
                    <li><a href="/vacation-rentals/city/kuala-lumpur-my.html" title="Kuala Lumpur Vacation Rentals">Kuala Lumpur Vacation Rentals</a></li>
                    <li><a href="/vacation-rentals/city/malacca-my.html" title="Malacca Vacation Rentals">Malacca
                            Vacation Rentals</a></li>
                </ul>
            </td>
            <td style="width:14%">
                <ul class="xslgray tex_left">
                    <li class="slgraybold"><span>Explore</span></li>
                    <li><a href="/longstay">Long stays</a></li>
                </ul>
            </td>
        </tr>
    </tbody>
</table></div></section><section class="Footer-copyrights" data-selenium="footer-copyright-section"><div class="Copyrights l-container"><p class="Copyrights--info">All material herein © 2005–2021 Agoda Company Pte. Ltd. All Rights Reserved.</p><p class="Copyrights--info">Agoda is part of Booking Holdings Inc., the world leader in online travel &amp; related services.</p><ul class="Copyrights-brands"><li class="Copyrights-brandsItem"><i class="Copyrights-brandsIcon icon agoda"></i></li><li class="Copyrights-brandsItem"><i class="Copyrights-brandsIcon icon priceline"></i></li><li class="Copyrights-brandsItem"><i class="Copyrights-brandsIcon icon kayak"></i></li><li class="Copyrights-brandsItem"><i class="Copyrights-brandsIcon icon rental-cars"></i></li><li class="Copyrights-brandsItem"><i class="Copyrights-brandsIcon icon booking-com"></i></li><li class="Copyrights-brandsItem"><i class="Copyrights-brandsIcon icon open-table"></i></li></ul><small class="Copyrights-machine" id="server-name">as-crweb-3004</small></div></section></footer></div>
         </div>

    
    <script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/vendors-flightsdetails-flightsresults-home-property_nogql-search-umrah.home-248e06ab3381.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/commons-flightsresults-home-property_nogql-umrah.home-9f77f0ad1264.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/default-flightsresults-home-property_nogql-umrah.home-5a751e0dc3d3.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/vendors-flightsresults-home-property_nogql-umrah.home-ed8bfaf1c557.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/vendors-home-property_nogql-44317b62e2c9.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/commons-home-d2a8f3315789.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/vendors-home-8ad2fb3c3298.js"></script><script defer="" src="https://cdn6.agoda.net/js/assets/DYNA/home-0f5dcbcc656f.js"></script>



<script type="text/javascript">function securedTouchInit(){var e;e=window,e._securedTouchDependencies||(e._securedTouchDependencies={}),window._securedTouchDependencies.StPromiseQueue=function(){var e=function(){};function t(e,t,n){this.options=n=n||{},this.pendingPromises=0,this.maxPendingPromises=void 0!==e?e:1/0,this.maxQueuedPromises=void 0!==t?t:1/0,this.queue=[]}return t.prototype.add=function(t){var n=this;return new Promise((function(r,o,i){n.queue.length>=n.maxQueuedPromises?o(new Error("Queue limit reached")):(n.queue.push({promiseGenerator:t,resolve:r,reject:o,notify:i||e}),n._dequeue())}))},t.prototype.getPendingLength=function(){return this.pendingPromises},t.prototype.getQueueLength=function(){return this.queue.length},t.prototype._dequeue=function(){var e=this;if(this.pendingPromises>=this.maxPendingPromises)return!1;var t,n=this.queue.shift();if(!n)return this.options.onEmpty&&this.options.onEmpty(),!1;try{this.pendingPromises++,(t=n.promiseGenerator(),t&&"function"==typeof t.then?t:new Promise((function(e){e(t)}))).then((function(t){e.pendingPromises--,n.resolve(t),e._dequeue()}),(function(t){e.pendingPromises--,n.reject(t),e._dequeue()}),(function(e){n.notify(e)}))}catch(t){e.pendingPromises--,n.reject(t),e._dequeue()}return!0},t}(),function(root){var ERROR="input is invalid type",NODE_JS=!1,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e,t){return function(n){return new Sha256(t,!0).update(n)[e]()}},createMethod=function(e){var t=createOutputMethod("hex",e);NODE_JS&&(t=nodeWrap(t,e)),t.create=function(){return new Sha256(e)},t.update=function(e){return t.create().update(e)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createOutputMethod(r,e)}return t},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(e){if("string"==typeof e)return crypto.createHash(algorithm).update(e,"utf8").digest("hex");if(null==e)throw new Error(ERROR);return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod},createHmacOutputMethod=function(e,t){return function(n,r){return new HmacSha256(n,t,!0).update(r)[e]()}},createHmacMethod=function(e){var t=createHmacOutputMethod("hex",e);t.create=function(t){return new HmacSha256(t,e)},t.update=function(e,n){return t.create(e).update(n)};for(var n=0;n<OUTPUT_TYPES.length;++n){var r=OUTPUT_TYPES[n];t[r]=createHmacOutputMethod(r,e)}return t};function Sha256(e,t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=e}function HmacSha256(e,t,n){var r,o=typeof e;if("string"===o){var i,a=[],c=e.length,s=0;for(r=0;r<c;++r)(i=e.charCodeAt(r))<128?a[s++]=i:i<2048?(a[s++]=192|i>>6,a[s++]=128|63&i):i<55296||i>=57344?(a[s++]=224|i>>12,a[s++]=128|i>>6&63,a[s++]=128|63&i):(i=65536+((1023&i)<<10|1023&e.charCodeAt(++r)),a[s++]=240|i>>18,a[s++]=128|i>>12&63,a[s++]=128|i>>6&63,a[s++]=128|63&i);e=a}else{if("object"!==o)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR)}e.length>64&&(e=new Sha256(t,!0).update(e).array());var u=[],l=[];for(r=0;r<64;++r){var d=e[r]||0;u[r]=92^d,l[r]=54^d}Sha256.call(this,t,n),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=n}Sha256.prototype.update=function(e){if(!this.finalized){var t,n=typeof e;if("string"!==n){if("object"!==n)throw new Error(ERROR);if(null===e)throw new Error(ERROR);if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!(Array.isArray(e)||ARRAY_BUFFER&&ArrayBuffer.isView(e)))throw new Error(ERROR);t=!0}for(var r,o,i=0,a=e.length,c=this.blocks;i<a;){if(this.hashed&&(this.hashed=!1,c[0]=this.block,c[16]=c[1]=c[2]=c[3]=c[4]=c[5]=c[6]=c[7]=c[8]=c[9]=c[10]=c[11]=c[12]=c[13]=c[14]=c[15]=0),t)for(o=this.start;i<a&&o<64;++i)c[o>>2]|=e[i]<<SHIFT[3&o++];else for(o=this.start;i<a&&o<64;++i)(r=e.charCodeAt(i))<128?c[o>>2]|=r<<SHIFT[3&o++]:r<2048?(c[o>>2]|=(192|r>>6)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]):r<55296||r>=57344?(c[o>>2]|=(224|r>>12)<<SHIFT[3&o++],c[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),c[o>>2]|=(240|r>>18)<<SHIFT[3&o++],c[o>>2]|=(128|r>>12&63)<<SHIFT[3&o++],c[o>>2]|=(128|r>>6&63)<<SHIFT[3&o++],c[o>>2]|=(128|63&r)<<SHIFT[3&o++]);this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.block=c[16],this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var e,t,n,r,o,i,a,c,s,u=this.h0,l=this.h1,d=this.h2,f=this.h3,p=this.h4,h=this.h5,g=this.h6,b=this.h7,m=this.blocks;for(e=16;e<64;++e)t=((o=m[e-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,n=((o=m[e-2])>>>17|o<<15)^(o>>>19|o<<13)^o>>>10,m[e]=m[e-16]+t+m[e-7]+n<<0;for(s=l&d,e=0;e<64;e+=4)this.first?(this.is224?(i=300032,b=(o=m[0]-1413257819)-150054599<<0,f=o+24177077<<0):(i=704751109,b=(o=m[0]-210244248)-1521486534<<0,f=o+143694565<<0),this.first=!1):(t=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(i=u&l)^u&d^s,b=f+(o=b+(n=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&h^~p&g)+K[e]+m[e])<<0,f=o+(t+r)<<0),t=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(a=f&u)^f&l^i,g=d+(o=g+(n=(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7))+(b&p^~b&h)+K[e+1]+m[e+1])<<0,t=((d=o+(t+r)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),r=(c=d&f)^d&u^a,h=l+(o=h+(n=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&b^~g&p)+K[e+2]+m[e+2])<<0,t=((l=o+(t+r)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),r=(s=l&d)^l&f^c,p=u+(o=p+(n=(h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&g^~h&b)+K[e+3]+m[e+3])<<0,u=o+(t+r)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+f<<0,this.h4=this.h4+p<<0,this.h5=this.h5+h<<0,this.h6=this.h6+g<<0,this.h7=this.h7+b<<0},Sha256.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,a=this.h6,c=this.h7,s=HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a];return this.is224||(s+=HEX_CHARS[c>>28&15]+HEX_CHARS[c>>24&15]+HEX_CHARS[c>>20&15]+HEX_CHARS[c>>16&15]+HEX_CHARS[c>>12&15]+HEX_CHARS[c>>8&15]+HEX_CHARS[c>>4&15]+HEX_CHARS[15&c]),s},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,n=this.h2,r=this.h3,o=this.h4,i=this.h5,a=this.h6,c=this.h7,s=[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,n>>24&255,n>>16&255,n>>8&255,255&n,r>>24&255,r>>16&255,r>>8&255,255&r,o>>24&255,o>>16&255,o>>8&255,255&o,i>>24&255,i>>16&255,i>>8&255,255&i,a>>24&255,a>>16&255,a>>8&255,255&a];return this.is224||s.push(c>>24&255,c>>16&255,c>>8&255,255&c),s},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(this.is224?28:32),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),t.setUint32(20,this.h5),t.setUint32(24,this.h6),this.is224||t.setUint32(28,this.h7),e},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var e=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(e),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),root.sha256=exports.sha256,root.sha224=exports.sha224}(window._securedTouchDependencies),window._securedTouchDependencies.Fingerprint2=function(){var e=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},t=function(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]},n=function(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])},r=function(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]},o=function(e,t){return[e[0]^t[0],e[1]^t[1]]},i=function(e){return e=o(e,[0,e[0]>>>1]),e=t(e,[4283543511,3981806797]),e=o(e,[0,e[0]>>>1]),e=t(e,[3301882366,444984403]),o(e,[0,e[0]>>>1])},a=function(a,c){c=c||0;for(var s=(a=a||"").length%16,u=a.length-s,l=[0,c],d=[0,c],f=[0,0],p=[0,0],h=[2277735313,289559509],g=[1291169091,658871167],b=0;b<u;b+=16)f=[255&a.charCodeAt(b+4)|(255&a.charCodeAt(b+5))<<8|(255&a.charCodeAt(b+6))<<16|(255&a.charCodeAt(b+7))<<24,255&a.charCodeAt(b)|(255&a.charCodeAt(b+1))<<8|(255&a.charCodeAt(b+2))<<16|(255&a.charCodeAt(b+3))<<24],p=[255&a.charCodeAt(b+12)|(255&a.charCodeAt(b+13))<<8|(255&a.charCodeAt(b+14))<<16|(255&a.charCodeAt(b+15))<<24,255&a.charCodeAt(b+8)|(255&a.charCodeAt(b+9))<<8|(255&a.charCodeAt(b+10))<<16|(255&a.charCodeAt(b+11))<<24],f=t(f,h),f=n(f,31),f=t(f,g),l=o(l,f),l=n(l,27),l=e(l,d),l=e(t(l,[0,5]),[0,1390208809]),p=t(p,g),p=n(p,33),p=t(p,h),d=o(d,p),d=n(d,31),d=e(d,l),d=e(t(d,[0,5]),[0,944331445]);switch(f=[0,0],p=[0,0],s){case 15:p=o(p,r([0,a.charCodeAt(b+14)],48));case 14:p=o(p,r([0,a.charCodeAt(b+13)],40));case 13:p=o(p,r([0,a.charCodeAt(b+12)],32));case 12:p=o(p,r([0,a.charCodeAt(b+11)],24));case 11:p=o(p,r([0,a.charCodeAt(b+10)],16));case 10:p=o(p,r([0,a.charCodeAt(b+9)],8));case 9:p=o(p,[0,a.charCodeAt(b+8)]),p=t(p,g),p=n(p,33),p=t(p,h),d=o(d,p);case 8:f=o(f,r([0,a.charCodeAt(b+7)],56));case 7:f=o(f,r([0,a.charCodeAt(b+6)],48));case 6:f=o(f,r([0,a.charCodeAt(b+5)],40));case 5:f=o(f,r([0,a.charCodeAt(b+4)],32));case 4:f=o(f,r([0,a.charCodeAt(b+3)],24));case 3:f=o(f,r([0,a.charCodeAt(b+2)],16));case 2:f=o(f,r([0,a.charCodeAt(b+1)],8));case 1:f=o(f,[0,a.charCodeAt(b)]),f=t(f,h),f=n(f,31),f=t(f,g),l=o(l,f)}return l=o(l,[0,a.length]),d=o(d,[0,a.length]),l=e(l,d),d=e(d,l),l=i(l),d=i(d),l=e(l,d),d=e(d,l),("00000000"+(l[0]>>>0).toString(16)).slice(-8)+("00000000"+(l[1]>>>0).toString(16)).slice(-8)+("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)},c={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:"fingerprintjs2",swfPath:"flash/compiled/FontList.swf",userDefinedFonts:[],extendedJsFonts:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},extraComponents:[],excludes:{enumerateDevices:!0,pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},NOT_AVAILABLE:"not available",ERROR:"error",EXCLUDED:"excluded"},s=function(e,t){if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t);else if(e.length===+e.length)for(var n=0,r=e.length;n<r;n++)t(e[n],n,e);else for(var o in e)e.hasOwnProperty(o)&&t(e[o],o,e)},u=function(e,t){var n=[];return null==e?n:Array.prototype.map&&e.map===Array.prototype.map?e.map(t):(s(e,(function(e,r,o){n.push(t(e,r,o))})),n)},l=function(e){if(null==navigator.plugins)return e.NOT_AVAILABLE;for(var t=[],n=0,r=navigator.plugins.length;n<r;n++)navigator.plugins[n]&&t.push(navigator.plugins[n]);return d(e)&&(t=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0}))),u(t,(function(e){var t=u(e,(function(e){return[e.type,e.suffixes]}));return[e.name,e.description,t]}))},d=function(e){for(var t=!1,n=0,r=e.plugins.sortPluginsFor.length;n<r;n++){var o=e.plugins.sortPluginsFor[n];if(navigator.userAgent.match(o)){t=!0;break}}return t},f=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},p=function(){if(!f())return!1;var e=h();return!!window.WebGLRenderingContext&&!!e},h=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}return t||(t=null),t},g=[{key:"userAgent",getData:function(e){e(navigator.userAgent)}},{key:"webdriver",getData:function(e,t){e(null==navigator.webdriver?t.NOT_AVAILABLE:navigator.webdriver)}},{key:"language",getData:function(e,t){e(navigator.language||navigator.userLanguage||navigator.browserLanguage||navigator.systemLanguage||t.NOT_AVAILABLE)}},{key:"colorDepth",getData:function(e,t){e(window.screen.colorDepth||t.NOT_AVAILABLE)}},{key:"deviceMemory",getData:function(e,t){e(navigator.deviceMemory||t.NOT_AVAILABLE)}},{key:"pixelRatio",getData:function(e,t){e(window.devicePixelRatio||t.NOT_AVAILABLE)}},{key:"hardwareConcurrency",getData:function(e,t){e(function(e){return navigator.hardwareConcurrency?navigator.hardwareConcurrency:e.NOT_AVAILABLE}(t))}},{key:"screenResolution",getData:function(e,t){e(function(e){var t=[window.screen.width,window.screen.height];return e.screen.detectScreenOrientation&&t.sort().reverse(),t}(t))}},{key:"availableScreenResolution",getData:function(e,t){e(function(e){if(window.screen.availWidth&&window.screen.availHeight){var t=[window.screen.availHeight,window.screen.availWidth];return e.screen.detectScreenOrientation&&t.sort().reverse(),t}return e.NOT_AVAILABLE}(t))}},{key:"timezoneOffset",getData:function(e){e((new Date).getTimezoneOffset())}},{key:"timezone",getData:function(e,t){window.Intl&&window.Intl.DateTimeFormat?e((new window.Intl.DateTimeFormat).resolvedOptions().timeZone):e(t.NOT_AVAILABLE)}},{key:"sessionStorage",getData:function(e,t){e(function(e){try{return!!window.sessionStorage}catch(t){return e.ERROR}}(t))}},{key:"localStorage",getData:function(e,t){e(function(e){try{return!!window.localStorage}catch(t){return e.ERROR}}(t))}},{key:"indexedDb",getData:function(e,t){e(function(e){try{return!!window.indexedDB}catch(t){return e.ERROR}}(t))}},{key:"addBehavior",getData:function(e){e(!(!document.body||!document.body.addBehavior))}},{key:"openDatabase",getData:function(e){e(!!window.openDatabase)}},{key:"cpuClass",getData:function(e,t){e(function(e){return navigator.cpuClass||e.NOT_AVAILABLE}(t))}},{key:"platform",getData:function(e,t){e(function(e){return navigator.platform?navigator.platform:e.NOT_AVAILABLE}(t))}},{key:"doNotTrack",getData:function(e,t){e(function(e){return navigator.doNotTrack?navigator.doNotTrack:navigator.msDoNotTrack?navigator.msDoNotTrack:window.doNotTrack?window.doNotTrack:e.NOT_AVAILABLE}(t))}},{key:"plugins",getData:function(e,t){"Microsoft Internet Explorer"===navigator.appName||"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?t.plugins.excludeIE?e(t.EXCLUDED):e(function(e){var t=[];return Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window?t=u(["AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","MacromediaFlashPaper.MacromediaFlashPaper","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","Skype.Detection","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1"],(function(t){try{return new window.ActiveXObject(t),t}catch(t){return e.ERROR}})):t.push(e.NOT_AVAILABLE),navigator.plugins&&(t=t.concat(l(e))),t}(t)):e(l(t))}},{key:"canvas",getData:function(e,t){f()?e(function(e){var t=[],n=document.createElement("canvas");n.width=2e3,n.height=200,n.style.display="inline";var r=n.getContext("2d");return r.rect(0,0,10,10),r.rect(2,2,6,6),t.push("canvas winding:"+(!1===r.isPointInPath(5,5,"evenodd")?"yes":"no")),r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",e.dontUseFakeFontInCanvas?r.font="11pt Arial":r.font="11pt no-real-font-123",r.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),r.fillStyle="rgba(102, 204, 0, 0.2)",r.font="18pt Arial",r.fillText("Cwm fjordbank glyphs vext quiz, 😃",4,45),r.globalCompositeOperation="multiply",r.fillStyle="rgb(255,0,255)",r.beginPath(),r.arc(50,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(0,255,255)",r.beginPath(),r.arc(100,50,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,255,0)",r.beginPath(),r.arc(75,100,50,0,2*Math.PI,!0),r.closePath(),r.fill(),r.fillStyle="rgb(255,0,255)",r.arc(75,75,75,0,2*Math.PI,!0),r.arc(75,75,25,0,2*Math.PI,!0),r.fill("evenodd"),n.toDataURL&&t.push("canvas fp:"+n.toDataURL()),t}(t)):e(t.NOT_AVAILABLE)}},{key:"webgl",getData:function(e,t){p()?e(function(){var e,t=function(t){return e.clearColor(0,0,0,1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),"["+t[0]+", "+t[1]+"]"};if(!(e=h()))return null;var n=[],r=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,r);var o=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0]);e.bufferData(e.ARRAY_BUFFER,o,e.STATIC_DRAW),r.itemSize=3,r.numItems=3;var i=e.createProgram(),a=e.createShader(e.VERTEX_SHADER);e.shaderSource(a,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),e.compileShader(a);var c=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(c,"precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}"),e.compileShader(c),e.attachShader(i,a),e.attachShader(i,c),e.linkProgram(i),e.useProgram(i),i.vertexPosAttrib=e.getAttribLocation(i,"attrVertex"),i.offsetUniform=e.getUniformLocation(i,"uniformOffset"),e.enableVertexAttribArray(i.vertexPosArray),e.vertexAttribPointer(i.vertexPosAttrib,r.itemSize,e.FLOAT,!1,0,0),e.uniform2f(i.offsetUniform,1,1),e.drawArrays(e.TRIANGLE_STRIP,0,r.numItems);try{n.push(e.canvas.toDataURL())}catch(e){}n.push("extensions:"+(e.getSupportedExtensions()||[]).join(";")),n.push("webgl aliased line width range:"+t(e.getParameter(e.ALIASED_LINE_WIDTH_RANGE))),n.push("webgl aliased point size range:"+t(e.getParameter(e.ALIASED_POINT_SIZE_RANGE))),n.push("webgl alpha bits:"+e.getParameter(e.ALPHA_BITS)),n.push("webgl antialiasing:"+(e.getContextAttributes().antialias?"yes":"no")),n.push("webgl blue bits:"+e.getParameter(e.BLUE_BITS)),n.push("webgl depth bits:"+e.getParameter(e.DEPTH_BITS)),n.push("webgl green bits:"+e.getParameter(e.GREEN_BITS)),n.push("webgl max anisotropy:"+function(e){var t=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic");if(t){var n=e.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT);return 0===n&&(n=2),n}return null}(e)),n.push("webgl max combined texture image units:"+e.getParameter(e.MAX_COMBINED_TEXTURE_IMAGE_UNITS)),n.push("webgl max cube map texture size:"+e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE)),n.push("webgl max fragment uniform vectors:"+e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS)),n.push("webgl max render buffer size:"+e.getParameter(e.MAX_RENDERBUFFER_SIZE)),n.push("webgl max texture image units:"+e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS)),n.push("webgl max texture size:"+e.getParameter(e.MAX_TEXTURE_SIZE)),n.push("webgl max varying vectors:"+e.getParameter(e.MAX_VARYING_VECTORS)),n.push("webgl max vertex attribs:"+e.getParameter(e.MAX_VERTEX_ATTRIBS)),n.push("webgl max vertex texture image units:"+e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS)),n.push("webgl max vertex uniform vectors:"+e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS)),n.push("webgl max viewport dims:"+t(e.getParameter(e.MAX_VIEWPORT_DIMS))),n.push("webgl red bits:"+e.getParameter(e.RED_BITS)),n.push("webgl renderer:"+e.getParameter(e.RENDERER)),n.push("webgl shading language version:"+e.getParameter(e.SHADING_LANGUAGE_VERSION)),n.push("webgl stencil bits:"+e.getParameter(e.STENCIL_BITS)),n.push("webgl vendor:"+e.getParameter(e.VENDOR)),n.push("webgl version:"+e.getParameter(e.VERSION));try{var u=e.getExtension("WEBGL_debug_renderer_info");u&&(n.push("webgl unmasked vendor:"+e.getParameter(u.UNMASKED_VENDOR_WEBGL)),n.push("webgl unmasked renderer:"+e.getParameter(u.UNMASKED_RENDERER_WEBGL)))}catch(e){}return e.getShaderPrecisionFormat?(s(["FLOAT","INT"],(function(t){s(["VERTEX","FRAGMENT"],(function(r){s(["HIGH","MEDIUM","LOW"],(function(o){s(["precision","rangeMin","rangeMax"],(function(i){var a=e.getShaderPrecisionFormat(e[r+"_SHADER"],e[o+"_"+t])[i];"precision"!==i&&(i="precision "+i);var c=["webgl ",r.toLowerCase()," shader ",o.toLowerCase()," ",t.toLowerCase()," ",i,":",a].join("");n.push(c)}))}))}))})),n):n}()):e(t.NOT_AVAILABLE)}},{key:"webglVendorAndRenderer",getData:function(e){p()?e(function(){try{var e=h(),t=e.getExtension("WEBGL_debug_renderer_info");return e.getParameter(t.UNMASKED_VENDOR_WEBGL)+"~"+e.getParameter(t.UNMASKED_RENDERER_WEBGL)}catch(e){return null}}()):e()}},{key:"adBlock",getData:function(e){e(function(){var e=document.createElement("div");e.innerHTML="&nbsp;",e.className="adsbox";var t=!1;try{document.body.appendChild(e),t=0===document.getElementsByClassName("adsbox")[0].offsetHeight,document.body.removeChild(e)}catch(e){t=!1}return t}())}},{key:"hasLiedLanguages",getData:function(e){e(function(){if(void 0!==navigator.languages)try{if(navigator.languages[0].substr(0,2)!==navigator.language.substr(0,2))return!0}catch(e){return!0}return!1}())}},{key:"hasLiedResolution",getData:function(e){e(window.screen.width<window.screen.availWidth||window.screen.height<window.screen.availHeight)}},{key:"hasLiedOs",getData:function(e){e(function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.oscpu,r=navigator.platform.toLowerCase();if(e=t.indexOf("windows phone")>=0?"Windows Phone":t.indexOf("win")>=0?"Windows":t.indexOf("android")>=0?"Android":t.indexOf("linux")>=0||t.indexOf("cros")>=0?"Linux":t.indexOf("iphone")>=0||t.indexOf("ipad")>=0?"iOS":t.indexOf("mac")>=0?"Mac":"Other",("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0)&&"Windows Phone"!==e&&"Android"!==e&&"iOS"!==e&&"Other"!==e)return!0;if(void 0!==n){if((n=n.toLowerCase()).indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e)return!0;if(n.indexOf("linux")>=0&&"Linux"!==e&&"Android"!==e)return!0;if(n.indexOf("mac")>=0&&"Mac"!==e&&"iOS"!==e)return!0;if((-1===n.indexOf("win")&&-1===n.indexOf("linux")&&-1===n.indexOf("mac"))!=("Other"===e))return!0}return r.indexOf("win")>=0&&"Windows"!==e&&"Windows Phone"!==e||(r.indexOf("linux")>=0||r.indexOf("android")>=0||r.indexOf("pike")>=0)&&"Linux"!==e&&"Android"!==e||(r.indexOf("mac")>=0||r.indexOf("ipad")>=0||r.indexOf("ipod")>=0||r.indexOf("iphone")>=0)&&"Mac"!==e&&"iOS"!==e||(r.indexOf("win")<0&&r.indexOf("linux")<0&&r.indexOf("mac")<0&&r.indexOf("iphone")<0&&r.indexOf("ipad")<0)!=("Other"===e)||void 0===navigator.plugins&&"Windows"!==e&&"Windows Phone"!==e}())}},{key:"hasLiedBrowser",getData:function(e){e(function(){var e,t=navigator.userAgent.toLowerCase(),n=navigator.productSub;if(("Chrome"==(e=t.indexOf("firefox")>=0?"Firefox":t.indexOf("opera")>=0||t.indexOf("opr")>=0?"Opera":t.indexOf("chrome")>=0?"Chrome":t.indexOf("safari")>=0?"Safari":t.indexOf("trident")>=0?"Internet Explorer":"Other")||"Safari"===e||"Opera"===e)&&"20030107"!==n)return!0;var r,o=eval.toString().length;if(37===o&&"Safari"!==e&&"Firefox"!==e&&"Other"!==e)return!0;if(39===o&&"Internet Explorer"!==e&&"Other"!==e)return!0;if(33===o&&"Chrome"!==e&&"Opera"!==e&&"Other"!==e)return!0;try{throw"a"}catch(e){try{e.toSource(),r=!0}catch(e){r=!1}}return r&&"Firefox"!==e&&"Other"!==e}())}},{key:"touchSupport",getData:function(e){e(function(){var e,t=0;void 0!==navigator.maxTouchPoints?t=navigator.maxTouchPoints:void 0!==navigator.msMaxTouchPoints&&(t=navigator.msMaxTouchPoints);try{document.createEvent("TouchEvent"),e=!0}catch(t){e=!1}return[t,e,"ontouchstart"in window]}())}},{key:"fonts",getData:function(e,t){var n=["monospace","sans-serif","serif"],r=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"];t.fonts.extendedJsFonts&&(r=r.concat(["Abadi MT Condensed Light","Academy Engraved LET","ADOBE CASLON PRO","Adobe Garamond","ADOBE GARAMOND PRO","Agency FB","Aharoni","Albertus Extra Bold","Albertus Medium","Algerian","Amazone BT","American Typewriter","American Typewriter Condensed","AmerType Md BT","Andalus","Angsana New","AngsanaUPC","Antique Olive","Aparajita","Apple Chancery","Apple Color Emoji","Apple SD Gothic Neo","Arabic Typesetting","ARCHER","ARNO PRO","Arrus BT","Aurora Cn BT","AvantGarde Bk BT","AvantGarde Md BT","AVENIR","Ayuthaya","Bandy","Bangla Sangam MN","Bank Gothic","BankGothic Md BT","Baskerville","Baskerville Old Face","Batang","BatangChe","Bauer Bodoni","Bauhaus 93","Bazooka","Bell MT","Bembo","Benguiat Bk BT","Berlin Sans FB","Berlin Sans FB Demi","Bernard MT Condensed","BernhardFashion BT","BernhardMod BT","Big Caslon","BinnerD","Blackadder ITC","BlairMdITC TT","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bodoni MT","Bodoni MT Black","Bodoni MT Condensed","Bodoni MT Poster Compressed","Bookshelf Symbol 7","Boulder","Bradley Hand","Bradley Hand ITC","Bremen Bd BT","Britannic Bold","Broadway","Browallia New","BrowalliaUPC","Brush Script MT","Californian FB","Calisto MT","Calligrapher","Candara","CaslonOpnface BT","Castellar","Centaur","Cezanne","CG Omega","CG Times","Chalkboard","Chalkboard SE","Chalkduster","Charlesworth","Charter Bd BT","Charter BT","Chaucer","ChelthmITC Bk BT","Chiller","Clarendon","Clarendon Condensed","CloisterBlack BT","Cochin","Colonna MT","Constantia","Cooper Black","Copperplate","Copperplate Gothic","Copperplate Gothic Bold","Copperplate Gothic Light","CopperplGoth Bd BT","Corbel","Cordia New","CordiaUPC","Cornerstone","Coronet","Cuckoo","Curlz MT","DaunPenh","Dauphin","David","DB LCD Temp","DELICIOUS","Denmark","DFKai-SB","Didot","DilleniaUPC","DIN","DokChampa","Dotum","DotumChe","Ebrima","Edwardian Script ITC","Elephant","English 111 Vivace BT","Engravers MT","EngraversGothic BT","Eras Bold ITC","Eras Demi ITC","Eras Light ITC","Eras Medium ITC","EucrosiaUPC","Euphemia","Euphemia UCAS","EUROSTILE","Exotc350 Bd BT","FangSong","Felix Titling","Fixedsys","FONTIN","Footlight MT Light","Forte","FrankRuehl","Fransiscan","Freefrm721 Blk BT","FreesiaUPC","Freestyle Script","French Script MT","FrnkGothITC Bk BT","Fruitger","FRUTIGER","Futura","Futura Bk BT","Futura Lt BT","Futura Md BT","Futura ZBlk BT","FuturaBlack BT","Gabriola","Galliard BT","Gautami","Geeza Pro","Geometr231 BT","Geometr231 Hv BT","Geometr231 Lt BT","GeoSlab 703 Lt BT","GeoSlab 703 XBd BT","Gigi","Gill Sans","Gill Sans MT","Gill Sans MT Condensed","Gill Sans MT Ext Condensed Bold","Gill Sans Ultra Bold","Gill Sans Ultra Bold Condensed","Gisha","Gloucester MT Extra Condensed","GOTHAM","GOTHAM BOLD","Goudy Old Style","Goudy Stout","GoudyHandtooled BT","GoudyOLSt BT","Gujarati Sangam MN","Gulim","GulimChe","Gungsuh","GungsuhChe","Gurmukhi MN","Haettenschweiler","Harlow Solid Italic","Harrington","Heather","Heiti SC","Heiti TC","HELV","Herald","High Tower Text","Hiragino Kaku Gothic ProN","Hiragino Mincho ProN","Hoefler Text","Humanst 521 Cn BT","Humanst521 BT","Humanst521 Lt BT","Imprint MT Shadow","Incised901 Bd BT","Incised901 BT","Incised901 Lt BT","INCONSOLATA","Informal Roman","Informal011 BT","INTERSTATE","IrisUPC","Iskoola Pota","JasmineUPC","Jazz LET","Jenson","Jester","Jokerman","Juice ITC","Kabel Bk BT","Kabel Ult BT","Kailasa","KaiTi","Kalinga","Kannada Sangam MN","Kartika","Kaufmann Bd BT","Kaufmann BT","Khmer UI","KodchiangUPC","Kokila","Korinna BT","Kristen ITC","Krungthep","Kunstler Script","Lao UI","Latha","Leelawadee","Letter Gothic","Levenim MT","LilyUPC","Lithograph","Lithograph Light","Long Island","Lydian BT","Magneto","Maiandra GD","Malayalam Sangam MN","Malgun Gothic","Mangal","Marigold","Marion","Marker Felt","Market","Marlett","Matisse ITC","Matura MT Script Capitals","Meiryo","Meiryo UI","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Tai Le","Microsoft Uighur","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU_HKSCS","MingLiU_HKSCS-ExtB","MingLiU-ExtB","Minion","Minion Pro","Miriam","Miriam Fixed","Mistral","Modern","Modern No. 20","Mona Lisa Solid ITC TT","Mongolian Baiti","MONO","MoolBoran","Mrs Eaves","MS LineDraw","MS Mincho","MS PMincho","MS Reference Specialty","MS UI Gothic","MT Extra","MUSEO","MV Boli","Nadeem","Narkisim","NEVIS","News Gothic","News GothicMT","NewsGoth BT","Niagara Engraved","Niagara Solid","Noteworthy","NSimSun","Nyala","OCR A Extended","Old Century","Old English Text MT","Onyx","Onyx BT","OPTIMA","Oriya Sangam MN","OSAKA","OzHandicraft BT","Palace Script MT","Papyrus","Parchment","Party LET","Pegasus","Perpetua","Perpetua Titling MT","PetitaBold","Pickwick","Plantagenet Cherokee","Playbill","PMingLiU","PMingLiU-ExtB","Poor Richard","Poster","PosterBodoni BT","PRINCETOWN LET","Pristina","PTBarnum BT","Pythagoras","Raavi","Rage Italic","Ravie","Ribbon131 Bd BT","Rockwell","Rockwell Condensed","Rockwell Extra Bold","Rod","Roman","Sakkal Majalla","Santa Fe LET","Savoye LET","Sceptre","Script","Script MT Bold","SCRIPTINA","Serifa","Serifa BT","Serifa Th BT","ShelleyVolante BT","Sherwood","Shonar Bangla","Showcard Gothic","Shruti","Signboard","SILKSCREEN","SimHei","Simplified Arabic","Simplified Arabic Fixed","SimSun","SimSun-ExtB","Sinhala Sangam MN","Sketch Rockwell","Skia","Small Fonts","Snap ITC","Snell Roundhand","Socket","Souvenir Lt BT","Staccato222 BT","Steamer","Stencil","Storybook","Styllo","Subway","Swis721 BlkEx BT","Swiss911 XCm BT","Sylfaen","Synchro LET","System","Tamil Sangam MN","Technical","Teletype","Telugu Sangam MN","Tempus Sans ITC","Terminal","Thonburi","Traditional Arabic","Trajan","TRAJAN PRO","Tristan","Tubular","Tunga","Tw Cen MT","Tw Cen MT Condensed","Tw Cen MT Condensed Extra Bold","TypoUpright BT","Unicorn","Univers","Univers CE 55 Medium","Univers Condensed","Utsaah","Vagabond","Vani","Vijaya","Viner Hand ITC","VisualUI","Vivaldi","Vladimir Script","Vrinda","Westminster","WHITNEY","Wide Latin","ZapfEllipt BT","ZapfHumnst BT","ZapfHumnst Dm BT","Zapfino","Zurich BlkEx BT","Zurich Ex BT","ZWAdobeF"])),r=(r=r.concat(t.fonts.userDefinedFonts)).filter((function(e,t){return r.indexOf(e)===t}));var o=document.getElementsByTagName("body")[0],i=document.createElement("div"),a=document.createElement("div"),c={},s={},u=function(){var e=document.createElement("span");return e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="72px",e.style.fontStyle="normal",e.style.fontWeight="normal",e.style.letterSpacing="normal",e.style.lineBreak="auto",e.style.lineHeight="normal",e.style.textTransform="none",e.style.textAlign="left",e.style.textDecoration="none",e.style.textShadow="none",e.style.whiteSpace="normal",e.style.wordBreak="normal",e.style.wordSpacing="normal",e.innerHTML="mmmmmmmmmmlli",e},l=function(e,t){var n=u();return n.style.fontFamily="'"+e+"',"+t,n},d=function(e){for(var t=!1,r=0;r<n.length;r++)if(t=e[r].offsetWidth!==c[n[r]]||e[r].offsetHeight!==s[n[r]])return t;return t},f=function(){for(var e=[],t=0,r=n.length;t<r;t++){var o=u();o.style.fontFamily=n[t],i.appendChild(o),e.push(o)}return e}();o.appendChild(i);for(var p=0,h=n.length;p<h;p++)c[n[p]]=f[p].offsetWidth,s[n[p]]=f[p].offsetHeight;var g=function(){for(var e={},t=0,o=r.length;t<o;t++){for(var i=[],c=0,s=n.length;c<s;c++){var u=l(r[t],n[c]);a.appendChild(u),i.push(u)}e[r[t]]=i}return e}();o.appendChild(a);for(var b=[],m=0,v=r.length;m<v;m++)d(g[r[m]])&&b.push(r[m]);o.removeChild(a),o.removeChild(i),e(b)},pauseBefore:!0},{key:"fontsFlash",getData:function(e,t){return void 0===window.swfobject?e("swf object not loaded"):window.swfobject.hasFlashPlayerVersion("9.0.0")?t.fonts.swfPath?void function(e,t){window.___fp_swf_loaded=function(t){e(t)};var n=t.fonts.swfContainerId;!function(e){var t=document.createElement("div");t.setAttribute("id",(void 0).fonts.swfContainerId),document.body.appendChild(t)}(),window.swfobject.embedSWF(t.fonts.swfPath,n,"1","1","9.0.0",!1,{onReady:"___fp_swf_loaded"},{allowScriptAccess:"always",menu:"false"},{})}((function(t){e(t)}),t):e("missing options.fonts.swfPath"):e("flash not installed")},pauseBefore:!0},{key:"audio",getData:function(e,t){var n=t.audio;if(n.excludeIOS11&&navigator.userAgent.match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED);var r=window.OfflineAudioContext||window.webkitOfflineAudioContext;if(null==r)return e(t.NOT_AVAILABLE);var o=new r(1,44100,44100),i=o.createOscillator();i.type="triangle",i.frequency.setValueAtTime(1e4,o.currentTime);var a=o.createDynamicsCompressor();s([["threshold",-50],["knee",40],["ratio",12],["reduction",-20],["attack",0],["release",.25]],(function(e){void 0!==a[e[0]]&&"function"==typeof a[e[0]].setValueAtTime&&a[e[0]].setValueAtTime(e[1],o.currentTime)})),i.connect(a),a.connect(o.destination),i.start(0),o.startRendering();var c=setTimeout((function(){return console.warn('Audio fingerprint timed out. Please report bug at https://github.com/Valve/fingerprintjs2 with your user agent: "'+navigator.userAgent+'".'),o.oncomplete=function(){},o=null,e("audioTimeout")}),n.timeout);o.oncomplete=function(t){var n;try{clearTimeout(c),n=t.renderedBuffer.getChannelData(0).slice(4500,5e3).reduce((function(e,t){return e+Math.abs(t)}),0).toString(),i.disconnect(),a.disconnect()}catch(t){return void e(t)}e(n)}}},{key:"enumerateDevices",getData:function(e,t){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return e(t.NOT_AVAILABLE);navigator.mediaDevices.enumerateDevices().then((function(t){e(t.map((function(e){return"id="+e.deviceId+";gid="+e.groupId+";"+e.kind+";"+e.label})))})).catch((function(t){e(t)}))}}],b=function(e){throw new Error("'new Fingerprint()' is deprecated, see https://github.com/Valve/fingerprintjs2#upgrade-guide-from-182-to-200")};return b.get=function(e,t){t?e||(e={}):(t=e,e={}),function(e,t){if(null==t)return e;var n,r;for(r in t)null==(n=t[r])||Object.prototype.hasOwnProperty.call(e,r)||(e[r]=n)}(e,c),e.components=e.extraComponents.concat(g);var n={data:[],addPreprocessedComponent:function(t,r){"function"==typeof e.preprocessor&&(r=e.preprocessor(t,r)),n.data.push({key:t,value:r})}},r=-1,o=function(i){if((r+=1)>=e.components.length)t(n.data);else{var a=e.components[r];if(e.excludes[a.key])o(!1);else{if(!i&&a.pauseBefore)return r-=1,void setTimeout((function(){o(!0)}),1);try{a.getData((function(e){n.addPreprocessedComponent(a.key,e),o(!1)}),e)}catch(e){n.addPreprocessedComponent(a.key,String(e)),o(!1)}}}};o(!1)},b.getPromise=function(e){return new Promise((function(t,n){b.get(e,t)}))},b.getV18=function(e,t){return null==t&&(t=e,e={}),b.get(e,(function(n){for(var r=[],o=0;o<n.length;o++){var i=n[o];if(i.value===(e.NOT_AVAILABLE||"not available"))r.push({key:i.key,value:"unknown"});else if("plugins"===i.key)r.push({key:"plugins",value:u(i.value,(function(e){var t=u(e[2],(function(e){return e.join?e.join("~"):e})).join(",");return[e[0],e[1],t].join("::")}))});else if(-1!==["canvas","webgl"].indexOf(i.key))r.push({key:i.key,value:i.value.join("~")});else if(-1!==["sessionStorage","localStorage","indexedDb","addBehavior","openDatabase"].indexOf(i.key)){if(!i.value)continue;r.push({key:i.key,value:1})}else i.value?r.push(i.value.join?{key:i.key,value:i.value.join(";")}:i):r.push({key:i.key,value:i.value})}var c=a(u(r,(function(e){return e.value})).join("~~~"),31);t(c,r)}))},b.x64hash128=a,b.VERSION="2.1.0",b}(),function(e){function t(e,n){var r;n=n||{},this._id=t._generateUUID(),this._promise=n.promise||Promise,this._frameId=n.frameId||"CrossStorageClient-"+this._id,this._origin=t._getOrigin(e),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=n.timeout||5e3,this._listener=null,this._installListener(),n.frameId&&(r=document.getElementById(n.frameId)),r&&this._poll(),r=r||this._createFrame(e),this._hub=r.contentWindow}t.frameStyle={width:0,height:0,border:"none",display:"none",position:"absolute",top:"-999px",left:"-999px"},t._getOrigin=function(e){var t;return(t=document.createElement("a")).href=e,t.host||(t=window.location),((t.protocol&&":"!==t.protocol?t.protocol:window.location.protocol)+"//"+t.host).replace(/:80$|:443$/,"")},t._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},t.prototype.onConnect=function(){var e=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise((function(t,n){var r=setTimeout((function(){n(new Error("CrossStorageClient could not connect"))}),e._timeout);e._requests.connect.push((function(e){if(clearTimeout(r),e)return n(e);t()}))})))},t.prototype.set=function(e,t){return this._request("set",{key:e,value:t})},t.prototype.get=function(e){var t=Array.prototype.slice.call(arguments);return this._request("get",{keys:t})},t.prototype.del=function(){var e=Array.prototype.slice.call(arguments);return this._request("del",{keys:e})},t.prototype.clear=function(){return this._request("clear")},t.prototype.getKeys=function(){return this._request("getKeys")},t.prototype.close=function(){var e=document.getElementById(this._frameId);e&&e.parentNode.removeChild(e),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},t.prototype._installListener=function(){var e=this;this._listener=function(t){var n,r,o;if(!e._closed&&t.data&&"string"==typeof t.data&&("null"===t.origin?"file://":t.origin)===e._origin)if("cross-storage:unavailable"!==t.data){if(-1!==t.data.indexOf("cross-storage:")&&!e._connected){if(e._connected=!0,!e._requests.connect)return;for(n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r);delete e._requests.connect}if("cross-storage:ready"!==t.data){try{o=JSON.parse(t.data)}catch(e){return}o.id&&e._requests[o.id]&&e._requests[o.id](o.error,o.result)}}else{if(e._closed||e.close(),!e._requests.connect)return;for(r=new Error("Closing client. Could not access localStorage in hub."),n=0;n<e._requests.connect.length;n++)e._requests.connect[n](r)}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},t.prototype._poll=function(){var e,t,n;n="file://"===(e=this)._origin?"*":e._origin,t=setInterval((function(){if(e._connected)return clearInterval(t);e._hub&&e._hub.postMessage("cross-storage:poll",n)}),1e3)},t.prototype._createFrame=function(e){var n,r;for(r in(n=window.document.createElement("iframe")).id=this._frameId,t.frameStyle)t.frameStyle.hasOwnProperty(r)&&(n.style[r]=t.frameStyle[r]);return window.document.body.appendChild(n),n.src=e,n},t.prototype._request=function(e,t){var n,r;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):((r=this)._count++,n={id:this._id+":"+r._count,method:"cross-storage:"+e,params:t},new this._promise((function(e,t){var o,i,a;o=setTimeout((function(){r._requests[n.id]&&(delete r._requests[n.id],t(new Error("Timeout: could not perform "+n.method)))}),r._timeout),r._requests[n.id]=function(i,a){if(clearTimeout(o),delete r._requests[n.id],i)return t(new Error(i));e(a)},Array.prototype.toJSON&&(i=Array.prototype.toJSON,Array.prototype.toJSON=null),a="file://"===r._origin?"*":r._origin,r._hub.postMessage(JSON.stringify(n),a),i&&(Array.prototype.toJSON=i)})))},e.CrossStorageClient=t}(window),function(e,t){"function"!=typeof e.CustomEvent&&(e.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n})}(window),function(e){var t=e.history;if(t){var n=t.pushState;n&&(t.pushState=function(r){"function"==typeof t.onpushstate&&t.onpushstate({state:r});var o=n.apply(t,arguments);return e.dispatchEvent(new CustomEvent("_onlocationchange")),o})}}(window),Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)};return function(e){var n=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var a,c=r(n.length),s=t(this)?Object(new this(c)):new Array(c),u=0;u<c;)a=n[u],s[u]=i?void 0===o?i(a,u):i.call(o,a,u):a,u+=1;return s.length=c,s}}()),function(e,t){var n="model",r="name",o="type",i="vendor",a="version",c="mobile",s="tablet",u="smarttv",l={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},d={rgx:function(e,t){for(var n,r,o,i,a,c,s=0;s<t.length&&!a;){var u=t[s],l=t[s+1];for(n=r=0;n<u.length&&!a;)if(a=u[n++].exec(e))for(o=0;o<l.length;o++)c=a[++r],"object"==typeof(i=l[o])&&i.length>0?2==i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,c):this[i[0]]=i[1]:3==i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=c?c.replace(i[1],i[2]):void 0:this[i[0]]=c?i[1].call(this,c,i[2]):void 0:4==i.length&&(this[i[0]]=c?i[3].call(this,c.replace(i[1],i[2])):void 0):this[i]=c||void 0;s+=2}},str:function(e,t){for(var n in t)if("object"==typeof t[n]&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(l.has(t[n][r],e))return"?"===n?void 0:n}else if(l.has(t[n],e))return"?"===n?void 0:n;return e}},f={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},p={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[r,a],[/(opios)[\/\s]+([\w\.]+)/i],[[r,"Opera Mini"],a],[/\s(opr)\/([\w\.]+)/i],[[r,"Opera"],a],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[r,a],[/(konqueror)\/([\w\.]+)/i],[[r,"Konqueror"],a],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[r,"IE"],a],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[r,"Edge"],a],[/(yabrowser)\/([\w\.]+)/i],[[r,"Yandex"],a],[/(Avast)\/([\w\.]+)/i],[[r,"Avast Secure Browser"],a],[/(AVG)\/([\w\.]+)/i],[[r,"AVG Secure Browser"],a],[/(puffin)\/([\w\.]+)/i],[[r,"Puffin"],a],[/(focus)\/([\w\.]+)/i],[[r,"Firefox Focus"],a],[/(opt)\/([\w\.]+)/i],[[r,"Opera Touch"],a],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[r,"UCBrowser"],a],[/(comodo_dragon)\/([\w\.]+)/i],[[r,/_/g," "],a],[/(windowswechat qbcore)\/([\w\.]+)/i],[[r,"WeChat(Win) Desktop"],a],[/(micromessenger)\/([\w\.]+)/i],[[r,"WeChat"],a],[/(brave)\/([\w\.]+)/i],[[r,"Brave"],a],[/(qqbrowserlite)\/([\w\.]+)/i],[r,a],[/(QQ)\/([\d\.]+)/i],[r,a],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[r,a],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[r,a],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[r,a],[/(MetaSr)[\/\s]?([\w\.]+)/i],[r],[/(LBBROWSER)/i],[r],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[a,[r,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[a,[r,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[r,a],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[a,[r,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[r,/(.+)/,"$1 WebView"],a],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[r,/(.+(?:g|us))(.+)/,"$1 $2"],a],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[a,[r,"Android Browser"]],[/(sailfishbrowser)\/([\w\.]+)/i],[[r,"Sailfish Browser"],a],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[r,a],[/(dolfin)\/([\w\.]+)/i],[[r,"Dolphin"],a],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[r,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[r,"Chrome"],a],[/(coast)\/([\w\.]+)/i],[[r,"Opera Coast"],a],[/fxios\/([\w\.-]+)/i],[a,[r,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[a,[r,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[a,r],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[r,"GSA"],a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[r,[a,d.str,f.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[r,a],[/(navigator|netscape)\/([\w\.-]+)/i],[[r,"Netscape"],a],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[r,a]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",l.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",l.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",l.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[n,i,[o,s]],[/applecoremedia\/[\w\.]+ \((ipad)/],[n,[i,"Apple"],[o,s]],[/(apple\s{0,1}tv)/i],[[n,"Apple TV"],[i,"Apple"],[o,u]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[i,n,[o,s]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[n,[i,"Amazon"],[o,s]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[n,d.str,f.device.amazon.model],[i,"Amazon"],[o,c]],[/android.+aft([bms])\sbuild/i],[n,[i,"Amazon"],[o,u]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[n,i,[o,c]],[/\((ip[honed|\s\w*]+);/i],[n,[i,"Apple"],[o,c]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[i,n,[o,c]],[/\(bb10;\s(\w+)/i],[n,[i,"BlackBerry"],[o,c]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[n,[i,"Asus"],[o,s]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[i,"Sony"],[n,"Xperia Tablet"],[o,s]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[i,"Sony"],[o,c]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[i,n,[o,"console"]],[/android.+;\s(shield)\sbuild/i],[n,[i,"Nvidia"],[o,"console"]],[/(playstation\s[34portablevi]+)/i],[n,[i,"Sony"],[o,"console"]],[/(sprint\s(\w+))/i],[[i,d.str,f.device.sprint.vendor],[n,d.str,f.device.sprint.model],[o,c]],[/(htc)[;_\s-]+([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[i,[n,/_/g," "],[o,c]],[/(nexus\s9)/i],[n,[i,"HTC"],[o,s]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p|vog-l29|ane-lx1|eml-l29)/i],[n,[i,"Huawei"],[o,c]],[/android.+(bah2?-a?[lw]\d{2})/i],[n,[i,"Huawei"],[o,s]],[/(microsoft);\s(lumia[\s\w]+)/i],[i,n,[o,c]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[n,[i,"Microsoft"],[o,"console"]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[i,"Microsoft"],[o,c]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[n,[i,"Motorola"],[o,c]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[n,[i,"Motorola"],[o,s]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[i,l.trim],[n,l.trim],[o,u]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[i,"Samsung"],[o,u]],[/\(dtv[\);].+(aquos)/i],[n,[i,"Sharp"],[o,u]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[i,"Samsung"],n,[o,s]],[/smart-tv.+(samsung)/i],[i,[o,u],n],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[i,"Samsung"],n,[o,c]],[/sie-(\w*)/i],[n,[i,"Siemens"],[o,c]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[i,"Nokia"],n,[o,c]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[n,[i,"Acer"],[o,s]],[/android.+([vl]k\-?\d{3})\s+build/i],[n,[i,"LG"],[o,s]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[i,"LG"],n,[o,s]],[/(lg) netcast\.tv/i],[i,n,[o,u]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[n,[i,"LG"],[o,c]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[i,n,[o,s]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[n,[i,"Lenovo"],[o,s]],[/(lenovo)[_\s-]?([\w-]+)/i],[i,n,[o,c]],[/linux;.+((jolla));/i],[i,n,[o,c]],[/((pebble))app\/[\d\.]+\s/i],[i,n,[o,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[i,n,[o,c]],[/crkey/i],[[n,"Chromecast"],[i,"Google"],[o,u]],[/android.+;\s(glass)\s\d/i],[n,[i,"Google"],[o,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[n,[i,"Google"],[o,s]],[/android.+;\s(pixel( [23])?( xl)?)[\s)]/i],[n,[i,"Google"],[o,c]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:a\d|one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[n,/_/g," "],[i,"Xiaomi"],[o,c]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[n,/_/g," "],[i,"Xiaomi"],[o,s]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[n,[i,"Meizu"],[o,c]],[/(mz)-([\w-]{2,})/i],[[i,"Meizu"],n,[o,c]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[n,[i,"OnePlus"],[o,c]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[n,[i,"RCA"],[o,s]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[n,[i,"Dell"],[o,s]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[n,[i,"Verizon"],[o,s]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[i,"Barnes & Noble"],n,[o,s]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[n,[i,"NuVision"],[o,s]],[/android.+;\s(k88)\sbuild/i],[n,[i,"ZTE"],[o,s]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[n,[i,"Swiss"],[o,c]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[n,[i,"Swiss"],[o,s]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[n,[i,"Zeki"],[o,s]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[i,"Dragon Touch"],n,[o,s]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[n,[i,"Insignia"],[o,s]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[n,[i,"NextBook"],[o,s]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[i,"Voice"],n,[o,c]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[i,"LvTel"],n,[o,c]],[/android.+;\s(PH-1)\s/i],[n,[i,"Essential"],[o,c]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[n,[i,"Envizen"],[o,s]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[i,n,[o,s]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[n,[i,"MachSpeed"],[o,s]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[i,n,[o,s]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[n,[i,"Rotor"],[o,s]],[/android.+(KS(.+))\s+build/i],[n,[i,"Amazon"],[o,s]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[i,n,[o,s]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[o,l.lowerize],i,n],[/[\s\/\(](smart-?tv)[;\)]/i],[[o,u]],[/(android[\w\.\s\-]{0,9});.+build/i],[n,[i,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[a,[r,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[a,[r,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[r,a],[/rv\:([\w\.]{1,9}).+(gecko)/i],[a,r]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[r,a],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[r,[a,d.str,f.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[r,"Windows"],[a,d.str,f.os.windows.version]],[/\((bb)(10);/i],[[r,"BlackBerry"],a],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[r,a],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[r,"Symbian"],a],[/\((series40);/i],[r],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[r,"Firefox OS"],a],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[r,a],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[r,"Chromium OS"],a],[/(sunos)\s?([\w\.\d]*)/i],[[r,"Solaris"],a],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[r,a],[/(haiku)\s(\w+)/i],[r,a],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[a,/_/g,"."],[r,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[r,"Mac OS"],[a,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[r,a]]},h=function(t,n){if("object"==typeof t&&(n=t,t=void 0),!(this instanceof h))return new h(t,n).getResult();var r=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),o=n?l.extend(p,n):p;return this.getBrowser=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,o.browser),e.major=l.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return d.rgx.call(e,r,o.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return d.rgx.call(e,r,o.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,o.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return d.rgx.call(e,r,o.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};h.VERSION="0.7.21",h.BROWSER={NAME:r,MAJOR:"major",VERSION:a},h.CPU={ARCHITECTURE:"architecture"},h.DEVICE={MODEL:n,VENDOR:i,TYPE:o,CONSOLE:"console",MOBILE:c,SMARTTV:u,TABLET:s,WEARABLE:"wearable",EMBEDDED:"embedded"},h.ENGINE={NAME:r,VERSION:a},h.OS={NAME:r,VERSION:a},e._securedTouchDependencies.UAParser=h}(window),window._securedTouchDependencies.pako=function e(t,n,r){function o(a,c){if(!n[a]){if(!t[a]){if(!c&&"function"==typeof require&&require)return require(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var u=n[a]={exports:{}};t[a][0].call(u.exports,(function(e){return o(t[a][1][e]||e)}),u,u.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var o="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var o in n)r(n,o)&&(e[o]=n[o])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},a={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(o)},{}],2:[function(e,t,n){function r(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var o=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var c=new o.Buf8(256),s=0;s<256;s++)c[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;c[254]=c[254]=1,n.string2buf=function(e){var t,n,r,i,a,c=e.length,s=0;for(i=0;i<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(s),a=0,i=0;a<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<c&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o,i,a,s=t||e.length,u=new Array(2*s);for(o=0,n=0;n<s;)if((i=e[n++])<128)u[o++]=i;else if((a=c[i])>4)u[o++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&e[n++],a--;a>1?u[o++]=65533:i<65536?u[o++]=i:(i-=65536,u[o++]=55296|i>>10&1023,u[o++]=56320|1023&i)}return r(u,o)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+c[e[n]]>t?n:t}},{"./common":1}],3:[function(e,t,n){t.exports=function(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}},{}],4:[function(e,t,n){var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,o){var i=r,a=o+n;e^=-1;for(var c=o;c<a;c++)e=e>>>8^i[255&(e^t[c])];return-1^e}},{}],5:[function(e,t,n){function r(e,t){return e.msg=O[t],t}function o(e){return(e<<1)-(e>4?9:0)}function i(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(k.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function c(e,t){w._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function s(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,k.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=E(e.adler,t,o,n):2===e.state.wrap&&(e.adler=T(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function d(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,c=e.nice_match,s=e.strstart>e.w_size-G?e.strstart-(e.w_size-G):0,u=e.window,l=e.w_mask,d=e.prev,f=e.strstart+W,p=u[i+a-1],h=u[i+a];e.prev_length>=e.good_match&&(o>>=2),c>e.lookahead&&(c=e.lookahead);do{if(u[(n=t)+a]===h&&u[n+a-1]===p&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<f);if(r=W-(f-i),i=f-W,r>a){if(e.match_start=t,a=r,r>=c)break;p=u[i+a-1],h=u[i+a]}}}while((t=d[t&l])>s&&0!=--o);return a<=e.lookahead?a:e.lookahead}function f(e){var t,n,r,o,i,a=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-G)){k.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);o+=a}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=H)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+H-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<H)););}while(e.lookahead<G&&0!==e.strm.avail_in)}function p(e,t){for(var n,r;;){if(e.lookahead<G){if(f(e),e.lookahead<G&&t===A)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=H&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-G&&(e.match_length=d(e,n)),e.match_length>=H)if(r=w._tr_tally(e,e.strstart-e.match_start,e.match_length-H),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=H){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(c(e,!1),0===e.strm.avail_out))return Y}return e.insert=e.strstart<H-1?e.strstart:H-1,t===C?(c(e,!0),0===e.strm.avail_out?$:J):e.last_lit&&(c(e,!1),0===e.strm.avail_out)?Y:K}function h(e,t){for(var n,r,o;;){if(e.lookahead<G){if(f(e),e.lookahead<G&&t===A)return Y;if(0===e.lookahead)break}if(n=0,e.lookahead>=H&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=H-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-G&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===D||e.match_length===H&&e.strstart-e.match_start>4096)&&(e.match_length=H-1)),e.prev_length>=H&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-H,r=w._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-H),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=H-1,e.strstart++,r&&(c(e,!1),0===e.strm.avail_out))return Y}else if(e.match_available){if((r=w._tr_tally(e,0,e.window[e.strstart-1]))&&c(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Y}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=w._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<H-1?e.strstart:H-1,t===C?(c(e,!0),0===e.strm.avail_out?$:J):e.last_lit&&(c(e,!1),0===e.strm.avail_out)?Y:K}function g(e,t){for(var n,r,o,i,a=e.window;;){if(e.lookahead<=W){if(f(e),e.lookahead<=W&&t===A)return Y;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=H&&e.strstart>0&&(r=a[o=e.strstart-1])===a[++o]&&r===a[++o]&&r===a[++o]){i=e.strstart+W;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=W-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=H?(n=w._tr_tally(e,1,e.match_length-H),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(c(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===C?(c(e,!0),0===e.strm.avail_out?$:J):e.last_lit&&(c(e,!1),0===e.strm.avail_out)?Y:K}function b(e,t){for(var n;;){if(0===e.lookahead&&(f(e),0===e.lookahead)){if(t===A)return Y;break}if(e.match_length=0,n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(c(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===C?(c(e,!0),0===e.strm.avail_out?$:J):e.last_lit&&(c(e,!1),0===e.strm.avail_out)?Y:K}function m(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function v(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=I,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new k.Buf16(2*X),this.dyn_dtree=new k.Buf16(2*(2*B+1)),this.bl_tree=new k.Buf16(2*(2*z+1)),i(this.dyn_ltree),i(this.dyn_dtree),i(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new k.Buf16(U+1),this.heap=new k.Buf16(2*R+1),i(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new k.Buf16(2*R+1),i(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function y(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=F,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?V:q,e.adler=2===t.wrap?0:1,t.last_flush=A,w._tr_init(t),M):r(e,P)}function x(e){var t=y(e);return t===M&&function(e){e.window_size=2*e.w_size,i(e.head),e.max_lazy_match=S[e.level].max_lazy,e.good_match=S[e.level].good_length,e.nice_match=S[e.level].nice_length,e.max_chain_length=S[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=H-1,e.match_available=0,e.ins_h=0}(e.state),t}function _(e,t,n,o,i,a){if(!e)return P;var c=1;if(t===j&&(t=6),o<0?(c=0,o=-o):o>15&&(c=2,o-=16),i<1||i>N||n!==I||o<8||o>15||t<0||t>9||a<0||a>L)return r(e,P);8===o&&(o=9);var s=new v;return e.state=s,s.strm=e,s.wrap=c,s.gzhead=null,s.w_bits=o,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+H-1)/H),s.window=new k.Buf8(2*s.w_size),s.head=new k.Buf16(s.hash_size),s.prev=new k.Buf16(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new k.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=a,s.method=n,x(e)}var S,k=e("../utils/common"),w=e("./trees"),E=e("./adler32"),T=e("./crc32"),O=e("./messages"),A=0,C=4,M=0,P=-2,j=-1,D=1,L=4,F=2,I=8,N=9,R=286,B=30,z=19,X=2*R+1,U=15,H=3,W=258,G=W+H+1,V=42,q=113,Y=1,K=2,$=3,J=4;S=[new m(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(f(e),0===e.lookahead&&t===A)return Y;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,c(e,!1),0===e.strm.avail_out))return Y;if(e.strstart-e.block_start>=e.w_size-G&&(c(e,!1),0===e.strm.avail_out))return Y}return e.insert=0,t===C?(c(e,!0),0===e.strm.avail_out?$:J):(e.strstart>e.block_start&&(c(e,!1),e.strm.avail_out),Y)})),new m(4,4,8,4,p),new m(4,5,16,8,p),new m(4,6,32,32,p),new m(4,4,16,16,h),new m(8,16,32,32,h),new m(8,16,128,128,h),new m(8,32,128,256,h),new m(32,128,258,1024,h),new m(32,258,258,4096,h)],n.deflateInit=function(e,t){return _(e,t,I,15,8,0)},n.deflateInit2=_,n.deflateReset=x,n.deflateResetKeep=y,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?P:(e.state.gzhead=t,M):P},n.deflate=function(e,t){var n,c,l,d;if(!e||!e.state||t>5||t<0)return e?r(e,P):P;if(c=e.state,!e.output||!e.input&&0!==e.avail_in||666===c.status&&t!==C)return r(e,0===e.avail_out?-5:P);if(c.strm=e,n=c.last_flush,c.last_flush=t,c.status===V)if(2===c.wrap)e.adler=0,s(c,31),s(c,139),s(c,8),c.gzhead?(s(c,(c.gzhead.text?1:0)+(c.gzhead.hcrc?2:0)+(c.gzhead.extra?4:0)+(c.gzhead.name?8:0)+(c.gzhead.comment?16:0)),s(c,255&c.gzhead.time),s(c,c.gzhead.time>>8&255),s(c,c.gzhead.time>>16&255),s(c,c.gzhead.time>>24&255),s(c,9===c.level?2:c.strategy>=2||c.level<2?4:0),s(c,255&c.gzhead.os),c.gzhead.extra&&c.gzhead.extra.length&&(s(c,255&c.gzhead.extra.length),s(c,c.gzhead.extra.length>>8&255)),c.gzhead.hcrc&&(e.adler=T(e.adler,c.pending_buf,c.pending,0)),c.gzindex=0,c.status=69):(s(c,0),s(c,0),s(c,0),s(c,0),s(c,0),s(c,9===c.level?2:c.strategy>=2||c.level<2?4:0),s(c,3),c.status=q);else{var f=I+(c.w_bits-8<<4)<<8;f|=(c.strategy>=2||c.level<2?0:c.level<6?1:6===c.level?2:3)<<6,0!==c.strstart&&(f|=32),f+=31-f%31,c.status=q,u(c,f),0!==c.strstart&&(u(c,e.adler>>>16),u(c,65535&e.adler)),e.adler=1}if(69===c.status)if(c.gzhead.extra){for(l=c.pending;c.gzindex<(65535&c.gzhead.extra.length)&&(c.pending!==c.pending_buf_size||(c.gzhead.hcrc&&c.pending>l&&(e.adler=T(e.adler,c.pending_buf,c.pending-l,l)),a(e),l=c.pending,c.pending!==c.pending_buf_size));)s(c,255&c.gzhead.extra[c.gzindex]),c.gzindex++;c.gzhead.hcrc&&c.pending>l&&(e.adler=T(e.adler,c.pending_buf,c.pending-l,l)),c.gzindex===c.gzhead.extra.length&&(c.gzindex=0,c.status=73)}else c.status=73;if(73===c.status)if(c.gzhead.name){l=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>l&&(e.adler=T(e.adler,c.pending_buf,c.pending-l,l)),a(e),l=c.pending,c.pending===c.pending_buf_size)){d=1;break}d=c.gzindex<c.gzhead.name.length?255&c.gzhead.name.charCodeAt(c.gzindex++):0,s(c,d)}while(0!==d);c.gzhead.hcrc&&c.pending>l&&(e.adler=T(e.adler,c.pending_buf,c.pending-l,l)),0===d&&(c.gzindex=0,c.status=91)}else c.status=91;if(91===c.status)if(c.gzhead.comment){l=c.pending;do{if(c.pending===c.pending_buf_size&&(c.gzhead.hcrc&&c.pending>l&&(e.adler=T(e.adler,c.pending_buf,c.pending-l,l)),a(e),l=c.pending,c.pending===c.pending_buf_size)){d=1;break}d=c.gzindex<c.gzhead.comment.length?255&c.gzhead.comment.charCodeAt(c.gzindex++):0,s(c,d)}while(0!==d);c.gzhead.hcrc&&c.pending>l&&(e.adler=T(e.adler,c.pending_buf,c.pending-l,l)),0===d&&(c.status=103)}else c.status=103;if(103===c.status&&(c.gzhead.hcrc?(c.pending+2>c.pending_buf_size&&a(e),c.pending+2<=c.pending_buf_size&&(s(c,255&e.adler),s(c,e.adler>>8&255),e.adler=0,c.status=q)):c.status=q),0!==c.pending){if(a(e),0===e.avail_out)return c.last_flush=-1,M}else if(0===e.avail_in&&o(t)<=o(n)&&t!==C)return r(e,-5);if(666===c.status&&0!==e.avail_in)return r(e,-5);if(0!==e.avail_in||0!==c.lookahead||t!==A&&666!==c.status){var p=2===c.strategy?b(c,t):3===c.strategy?g(c,t):S[c.level].func(c,t);if(p!==$&&p!==J||(c.status=666),p===Y||p===$)return 0===e.avail_out&&(c.last_flush=-1),M;if(p===K&&(1===t?w._tr_align(c):5!==t&&(w._tr_stored_block(c,0,0,!1),3===t&&(i(c.head),0===c.lookahead&&(c.strstart=0,c.block_start=0,c.insert=0))),a(e),0===e.avail_out))return c.last_flush=-1,M}return t!==C?M:c.wrap<=0?1:(2===c.wrap?(s(c,255&e.adler),s(c,e.adler>>8&255),s(c,e.adler>>16&255),s(c,e.adler>>24&255),s(c,255&e.total_in),s(c,e.total_in>>8&255),s(c,e.total_in>>16&255),s(c,e.total_in>>24&255)):(u(c,e.adler>>>16),u(c,65535&e.adler)),a(e),c.wrap>0&&(c.wrap=-c.wrap),0!==c.pending?M:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==V&&69!==t&&73!==t&&91!==t&&103!==t&&t!==q&&666!==t?r(e,P):(e.state=null,t===q?r(e,-3):M):P},n.deflateSetDictionary=function(e,t){var n,r,o,a,c,s,u,l,d=t.length;if(!e||!e.state)return P;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==V||n.lookahead)return P;for(1===a&&(e.adler=E(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(i(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new k.Buf8(n.w_size),k.arraySet(l,t,d-n.w_size,n.w_size,0),t=l,d=n.w_size),c=e.avail_in,s=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,f(n);n.lookahead>=H;){r=n.strstart,o=n.lookahead-(H-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+H-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=H-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=H-1,n.match_available=0,e.next_in=s,e.input=u,e.avail_in=c,n.wrap=a,M},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":3,"./crc32":4,"./messages":6,"./trees":7}],6:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],7:[function(e,t,n){function r(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function i(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?z[e]:z[256+(e>>>7)]}function c(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function s(e,t,n){e.bi_valid>C-n?(e.bi_buf|=t<<e.bi_valid&65535,c(e,e.bi_buf),e.bi_buf=t>>C-e.bi_valid,e.bi_valid+=n-C):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){s(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function d(e,t,n){var r,o,i=new Array(A+1),a=0;for(r=1;r<=A;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var c=e[2*o+1];0!==c&&(e[2*o]=l(i[c]++,c))}}function f(e){var t;for(t=0;t<w;t++)e.dyn_ltree[2*t]=0;for(t=0;t<E;t++)e.dyn_dtree[2*t]=0;for(t=0;t<T;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*M]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function p(e){e.bi_valid>8?c(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function h(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function g(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&h(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!h(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function b(e,t,n){var r,o,i,c,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===r?u(e,o,t):(u(e,(i=X[o])+k+1,t),0!==(c=L[i])&&s(e,o-=U[i],c),u(e,i=a(--r),n),0!==(c=F[i])&&s(e,r-=H[i],c))}while(l<e.last_lit);u(e,M,t)}function m(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,c=t.stat_desc.has_stree,s=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=O,n=0;n<s;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,c&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)g(e,i,n);o=s;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,g(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,o,i,a,c,s=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,f=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,h=t.stat_desc.max_length,g=0;for(i=0;i<=A;i++)e.bl_count[i]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<O;n++)(i=s[2*s[2*(r=e.heap[n])+1]+1]+1)>h&&(i=h,g++),s[2*r+1]=i,r>u||(e.bl_count[i]++,a=0,r>=p&&(a=f[r-p]),c=s[2*r],e.opt_len+=c*(i+a),d&&(e.static_len+=c*(l[2*r+1]+a)));if(0!==g){do{for(i=h-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[h]--,g-=2}while(g>0);for(i=h;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>u||(s[2*o+1]!==i&&(e.opt_len+=(i-s[2*o+1])*s[2*o],s[2*o+1]=i),r--)}}(e,t),d(i,u,e.bl_count)}function v(e,t,n){var r,o,i=-1,a=t[1],c=0,s=7,u=4;for(0===a&&(s=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++c<s&&o===a||(c<u?e.bl_tree[2*o]+=c:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*P]++):c<=10?e.bl_tree[2*j]++:e.bl_tree[2*D]++,c=0,i=o,0===a?(s=138,u=3):o===a?(s=6,u=3):(s=7,u=4))}function y(e,t,n){var r,o,i=-1,a=t[1],c=0,l=7,d=4;for(0===a&&(l=138,d=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++c<l&&o===a)){if(c<d)do{u(e,o,e.bl_tree)}while(0!=--c);else 0!==o?(o!==i&&(u(e,o,e.bl_tree),c--),u(e,P,e.bl_tree),s(e,c-3,2)):c<=10?(u(e,j,e.bl_tree),s(e,c-3,3)):(u(e,D,e.bl_tree),s(e,c-11,7));c=0,i=o,0===a?(l=138,d=3):o===a?(l=6,d=3):(l=7,d=4)}}function x(e,t,n,r){s(e,(S<<1)+(r?1:0),3),function(e,t,n,r){p(e),c(e,n),c(e,~n),_.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}var _=e("../utils/common"),S=0,k=256,w=k+1+29,E=30,T=19,O=2*w+1,A=15,C=16,M=256,P=16,j=17,D=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],R=new Array(2*(w+2));r(R);var B=new Array(2*E);r(B);var z=new Array(512);r(z);var X=new Array(256);r(X);var U=new Array(29);r(U);var H=new Array(E);r(H);var W,G,V,q=!1;n._tr_init=function(e){q||(function(){var e,t,n,r,i,a=new Array(A+1);for(n=0,r=0;r<28;r++)for(U[r]=n,e=0;e<1<<L[r];e++)X[n++]=r;for(X[n-1]=r,i=0,r=0;r<16;r++)for(H[r]=i,e=0;e<1<<F[r];e++)z[i++]=r;for(i>>=7;r<E;r++)for(H[r]=i<<7,e=0;e<1<<F[r]-7;e++)z[256+i++]=r;for(t=0;t<=A;t++)a[t]=0;for(e=0;e<=143;)R[2*e+1]=8,e++,a[8]++;for(;e<=255;)R[2*e+1]=9,e++,a[9]++;for(;e<=279;)R[2*e+1]=7,e++,a[7]++;for(;e<=287;)R[2*e+1]=8,e++,a[8]++;for(d(R,w+1,a),e=0;e<E;e++)B[2*e+1]=5,B[2*e]=l(e,5);W=new o(R,L,k+1,w,A),G=new o(B,F,0,E,A),V=new o(new Array(0),I,0,T,7)}(),q=!0),e.l_desc=new i(e.dyn_ltree,W),e.d_desc=new i(e.dyn_dtree,G),e.bl_desc=new i(e.bl_tree,V),e.bi_buf=0,e.bi_valid=0,f(e)},n._tr_stored_block=x,n._tr_flush_block=function(e,t,n,r){var o,i,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<k;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),m(e,e.l_desc),m(e,e.d_desc),a=function(e){var t;for(v(e,e.dyn_ltree,e.l_desc.max_code),v(e,e.dyn_dtree,e.d_desc.max_code),m(e,e.bl_desc),t=T-1;t>=3&&0===e.bl_tree[2*N[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?x(e,t,n,r):4===e.strategy||i===o?(s(e,2+(r?1:0),3),b(e,R,B)):(s(e,4+(r?1:0),3),function(e,t,n,r){var o;for(s(e,t-257,5),s(e,n-1,5),s(e,r-4,4),o=0;o<r;o++)s(e,e.bl_tree[2*N[o]+1],3);y(e,e.dyn_ltree,t-1),y(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),b(e,e.dyn_ltree,e.dyn_dtree)),f(e),r&&p(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(X[n]+k+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){s(e,2,3),u(e,M,R),function(e){16===e.bi_valid?(c(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":1}],8:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],"/lib/deflate.js":[function(e,t,n){function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({level:f,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(s[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var o;if(o="string"==typeof t.dictionary?c.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,o))!==d)throw new Error(s[n]);this._dict_set=!0}}function o(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}var i=e("./zlib/deflate"),a=e("./utils/common"),c=e("./utils/strings"),s=e("./zlib/messages"),u=e("./zlib/zstream"),l=Object.prototype.toString,d=0,f=-1,p=0,h=8;r.prototype.push=function(e,t){var n,r,o=this.strm,s=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=c.string2buf(e):"[object ArrayBuffer]"===l.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new a.Buf8(s),o.next_out=0,o.avail_out=s),1!==(n=i.deflate(o,r))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(c.buf2binstring(a.shrinkBuf(o.output,o.next_out))):this.onData(a.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===r?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==r||(this.onEnd(d),o.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===d&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=o,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,o(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,o(e,t)}},{"./utils/common":1,"./utils/strings":2,"./zlib/deflate":5,"./zlib/messages":6,"./zlib/zstream":8}]},{},[])("/lib/deflate.js"),_securedTouchDependencies.evaluateModernizr=function(){!function(e,t,n){function r(e,t){return typeof e===t}function o(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):x?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function i(e,t){return!!~(""+e).indexOf(t)}function a(e,n,r,i){var a,c,s,u,l="modernizr",d=o("div"),f=function(){var e=t.body;return e||((e=o(x?"svg":"body")).fake=!0),e}();if(parseInt(r,10))for(;r--;)(s=o("div")).id=i?i[r]:l+(r+1),d.appendChild(s);return(a=o("style")).type="text/css",a.id="s"+l,(f.fake?f:d).appendChild(a),f.appendChild(d),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),d.id=l,f.fake&&(f.style.background="",f.style.overflow="hidden",u=y.style.overflow,y.style.overflow="hidden",y.appendChild(f)),c=n(d,e),f.fake?(f.parentNode.removeChild(f),y.style.overflow=u,y.offsetHeight):d.parentNode.removeChild(d),!!c}function c(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function s(t,n,r){var o;if("getComputedStyle"in e){o=getComputedStyle.call(e,t,n);var i=e.console;null!==o?r&&(o=o.getPropertyValue(r)):i&&i[i.error?"error":"log"].call(i,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else o=!n&&t.currentStyle&&t.currentStyle[r];return o}function u(t,r){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(c(t[o]),r))return!0;return!1}if("CSSSupportsRule"in e){for(var i=[];o--;)i.push("("+c(t[o])+":"+r+")");return a("@supports ("+(i=i.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===s(e,null,"position")}))}return n}function l(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function d(e,t,a,c){function s(){f&&(delete E.style,delete E.modElem)}if(c=!r(c,"undefined")&&c,!r(a,"undefined")){var d=u(e,a);if(!r(d,"undefined"))return d}for(var f,p,h,g,b,m=["modernizr","tspan","samp"];!E.style&&m.length;)f=!0,E.modElem=o(m.shift()),E.style=E.modElem.style;for(h=e.length,p=0;p<h;p++)if(g=e[p],b=E.style[g],i(g,"-")&&(g=l(g)),E.style[g]!==n){if(c||r(a,"undefined"))return s(),"pfx"!==t||g;try{E.style[g]=a}catch(e){}if(E.style[g]!==b)return s(),"pfx"!==t||g}return s(),!1}function f(e,t){return function(){return e.apply(t,arguments)}}function p(e,t,n,o,i){var a=e.charAt(0).toUpperCase()+e.slice(1),c=(e+" "+k.join(a+" ")+a).split(" ");return r(t,"string")||r(t,"undefined")?d(c,t,o,i):function(e,t,n){var o;for(var i in e)if(e[i]in t)return!1===n?e[i]:r(o=t[e[i]],"function")?f(o,n||t):o;return!1}(c=(e+" "+T.join(a+" ")+a).split(" "),t,n)}function h(e,t,r){return p(e,n,n,t,r)}var g=[],b={_version:"3.9.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){g.push({name:e,fn:t,options:n})},addAsyncTest:function(e){g.push({name:null,fn:e})}},m=function(){};m.prototype=b,m=new m;var v=[],y=t.documentElement,x="svg"===y.nodeName.toLowerCase(),_=function(){var e=!("onblur"in y);return function(t,r){var i;return!!t&&(r&&"string"!=typeof r||(r=o(r||"div")),!(i=(t="on"+t)in r)&&e&&(r.setAttribute||(r=o("div")),r.setAttribute(t,""),i="function"==typeof r[t],r[t]!==n&&(r[t]=n),r.removeAttribute(t)),i)}}();b.hasEvent=_,m.addTest("ambientlight",_("devicelight",e)),m.addTest("applicationcache","applicationCache"in e);var S="Moz O ms Webkit",k=b._config.usePrefixes?S.split(" "):[];b._cssomPrefixes=k;var w={elem:o("modernizr")};m._q.push((function(){delete w.elem}));var E={style:w.elem.style};m._q.unshift((function(){delete E.style}));var T=b._config.usePrefixes?S.toLowerCase().split(" "):[];b._domPrefixes=T,b.testAllProps=p;var O=function(t){var r,o=P.length,i=e.CSSRule;if(void 0===i)return n;if(!t)return!1;if((r=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in i)return"@"+t;for(var a=0;a<o;a++){var c=P[a];if(c.toUpperCase()+"_"+r in i)return"@-"+c.toLowerCase()+"-"+t}return!1};b.atRule=O;var A=b.prefixed=function(e,t,n){return 0===e.indexOf("@")?O(e):(-1!==e.indexOf("-")&&(e=l(e)),t?p(e,t,n):p(e,"pfx"))};m.addTest("batteryapi",!!A("battery",navigator)||!!A("getBattery",navigator),{aliases:["battery-api"]}),m.addTest("blobconstructor",(function(){try{return!!new Blob}catch(e){return!1}}),{aliases:["blob-constructor"]}),m.addTest("contextmenu","contextMenu"in y&&"HTMLMenuItemElement"in e),m.addTest("cors","XMLHttpRequest"in e&&"withCredentials"in new XMLHttpRequest);var C=A("crypto",e);m.addTest("crypto",!!A("subtle",C)),m.addTest("customelements","customElements"in e),m.addTest("customprotocolhandler",(function(){if(!navigator.registerProtocolHandler)return!1;try{navigator.registerProtocolHandler("thisShouldFail")}catch(e){return e instanceof TypeError}return!1})),m.addTest("customevent","CustomEvent"in e&&"function"==typeof e.CustomEvent),m.addTest("dart",!!A("startDart",navigator)),m.addTest("dataview","undefined"!=typeof DataView&&"getFloat64"in DataView.prototype),m.addTest("eventlistener","addEventListener"in e),m.addTest("forcetouch",(function(){return!!_(A("mouseforcewillbegin",e,!1),e)&&MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN&&MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN})),m.addTest("fullscreen",!(!A("exitFullscreen",t,!1)&&!A("cancelFullScreen",t,!1))),m.addTest("gamepads",!!A("getGamepads",navigator)),m.addTest("geolocation","geolocation"in navigator),m.addTest("ie8compat",!e.addEventListener&&!!t.documentMode&&7===t.documentMode),m.addTest("intl",!!A("Intl",e)),m.addTest("json","JSON"in e&&"parse"in JSON&&"stringify"in JSON),b.testAllProps=h,m.addTest("ligatures",h("fontFeatureSettings",'"liga" 1')),m.addTest("messagechannel","MessageChannel"in e),m.addTest("notification",(function(){if(!e.Notification||!e.Notification.requestPermission)return!1;if("granted"===e.Notification.permission)return!0;try{new e.Notification("")}catch(e){if("TypeError"===e.name)return!1}return!0})),m.addTest("pagevisibility",!!A("hidden",t,!1)),m.addTest("performance",!!A("performance",e));var M=[""].concat(T);b._domPrefixesAll=M,m.addTest("pointerevents",(function(){for(var e=0,t=M.length;e<t;e++)if(_(M[e]+"pointerdown"))return!0;return!1})),m.addTest("pointerlock",!!A("exitPointerLock",t)),m.addTest("queryselector","querySelector"in t&&"querySelectorAll"in t),m.addTest("quotamanagement",(function(){var e=A("temporaryStorage",navigator),t=A("persistentStorage",navigator);return!(!e||!t)})),m.addTest("requestanimationframe",!!A("requestAnimationFrame",e),{aliases:["raf"]}),m.addTest("serviceworker","serviceWorker"in navigator);var P=b._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];b._prefixes=P;var j=function(){var t=e.matchMedia||e.msMatchMedia;return t?function(e){var n=t(e);return n&&n.matches||!1}:function(t){var n=!1;return a("@media "+t+" { #modernizr { position: absolute; } }",(function(t){n="absolute"===(e.getComputedStyle?e.getComputedStyle(t,null):t.currentStyle).position})),n}}();b.mq=j,m.addTest("touchevents",(function(){if("ontouchstart"in e||e.TouchEvent||e.DocumentTouch&&t instanceof DocumentTouch)return!0;var n=["(",P.join("touch-enabled),("),"heartz",")"].join("");return j(n)})),m.addTest("typedarrays","ArrayBuffer"in e),m.addTest("vibrate",!!A("vibrate",navigator)),m.addTest("webgl",(function(){return"WebGLRenderingContext"in e}));var D=!1;try{D="WebSocket"in e&&2===e.WebSocket.CLOSING}catch(e){}m.addTest("websockets",D),m.addTest("xdomainrequest","XDomainRequest"in e),function(){var e,t,n,o,i,a;for(var c in g)if(g.hasOwnProperty(c)){if(e=[],(t=g[c]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(o=r(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)1===(a=e[i].split(".")).length?m[a[0]]=o:(m[a[0]]&&(!m[a[0]]||m[a[0]]instanceof Boolean)||(m[a[0]]=new Boolean(m[a[0]])),m[a[0]][a[1]]=o),v.push((o?"":"no-")+a.join("-"))}}(),delete b.addTest,delete b.addAsyncTest;for(var L=0;L<m._q.length;L++)m._q[L]();e.Modernizr=m}(window,document)};var __awaiter=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{s(r.next(e))}catch(e){i(e)}}function c(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(a,c)}s((r=r.apply(e,t||[])).next())}))},__generator=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},__extends=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities,_securedTouchEntities;!function(e){!function(e){e[e.Unknown=0]="Unknown",e[e.FlingRight=1]="FlingRight",e[e.FlingLeft=2]="FlingLeft",e[e.FlingUp=3]="FlingUp",e[e.FlingDown=4]="FlingDown",e[e.Diagonal=5]="Diagonal",e[e.ScrollRight=6]="ScrollRight",e[e.ScrollLeft=7]="ScrollLeft",e[e.ScrollUp=8]="ScrollUp",e[e.ScrollDown=9]="ScrollDown",e[e.Tap=10]="Tap",e[e.DoubleTap=11]="DoubleTap"}(e.GestureType||(e.GestureType={}))}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"isLogEnabled",{get:function(){return this._isLogEnabled||window["enable-logs-securedtouch"]},set:function(e){this._isLogEnabled=e},enumerable:!0,configurable:!0}),e.debug=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t="[WebSDK] "+t,e.isLogEnabled&&(n&&n.length>0?console.debug?console.debug(t,n):console.log(t,n):console.debug?console.debug(t):console.log(t))},e.error=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t="[WebSDK] "+t,e.isLogEnabled&&(n&&n.length>0?console.error(t,n):console.error(t))},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t="[WebSDK] "+t,e.isLogEnabled&&(n&&n.length>0?console.warn(t,n):console.warn(t))},e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t="[WebSDK] "+t,e.isLogEnabled&&(n&&n.length>0?console.info(t,n):console.info(t))},e}();e.STLogger=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"CLIENT_VERSION",{get:function(){return"3.6.4w"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SALT",{get:function(){return"ST8irbd3bB"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WINDOW_ID_KEY",{get:function(){return"SecuredTouchWindowId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPS_KEY",{get:function(){return"Ops"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WEB_GL_KEY",{get:function(){return"WebGlId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TOKEN_BASE_KEY",{get:function(){return"U2Vzc2lvblRva2Vu"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TOKEN_TS_BASE_KEY",{get:function(){return"TSU2Vzc2lvblRva2Vu"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"APP_SECRET_KEY",{get:function(){return"QXBwU2VjcmV0"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"INIT_PARAMS_KEY",{get:function(){return"SecuredTouchInitParams"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"INIT_PARAMS_TS_KEY",{get:function(){return"SecuredTouchInitParamsTS"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ST_INIT_KEY",{get:function(){return"SecuredTouchInitST"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"TOTAL_GESTURE_COUNTER_KEY",{get:function(){return"SecuredTouchTotalGestureCounter"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"APP_SESSION_ID_KEY",{get:function(){return"SecuredTouchAppSessionId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LAST_DISPOSED_PAYLOAD_KEY",{get:function(){return"SecuredTouchDisposedPayload"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"LAST_DISPOSED_TS_KEY",{get:function(){return"SecuredTouchDisposedTimestamp"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DEVICE_CREDENTIALS_KEY",{get:function(){return"U2VjdXJlZFRvdWNoRGV2aWNlU2VjcmV0"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"DEVICE_ID_KEY",{get:function(){return"SecuredTouchDeviceId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"REMOTE_LOG_ENABLED_KEY",{get:function(){return"SecuredTouchRemoteLogEnabled"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"USER_ID_KEY",{get:function(){return"SecuredTouchUserId"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"USER_ID_TS_KEY",{get:function(){return"SecuredTouchUserIdTs"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CAPTURED_KEYBOARD_INTERACTIONS",{get:function(){return"SecuredTouchCapturedKeyboard"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CAPTURED_MOUSE_INTERACTIONS",{get:function(){return"SecuredTouchCapturedMouse"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CAPTURED_GESTURES",{get:function(){return"SecuredTouchCapturedGestures"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CAPTURED_INDIRECT",{get:function(){return"SecuredTouchCapturedIndirect"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CANCELED_INTERACTIONS",{get:function(){return"SecuredTouchCanceledInteractions"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CANCELED_GESTURES",{get:function(){return"SecuredTouchCanceledGestures"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SESSION_STORAGE_UPDATE_TS",{get:function(){return"SecuredTouchBufferPushedTs"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SESSION_STORAGE_TTL_MILLIS",{get:function(){return 1e4},enumerable:!0,configurable:!0}),Object.defineProperty(e,"METADATA_TTL_MILLIS",{get:function(){return 5184e5},enumerable:!0,configurable:!0}),Object.defineProperty(e,"HEART_BEAT_TAG",{get:function(){return"HeartBeat"},enumerable:!0,configurable:!0}),e}();e.SecuredTouchConstants=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){}return t.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.makeId=function(e){for(var t="",n="abcdefghijklmnopqrstuvwxyz".length,r=0;r<e;r++)t+="abcdefghijklmnopqrstuvwxyz".charAt(Math.floor(Math.random()*n));return t},t.ieFix=function(){(-1!=navigator.userAgent.indexOf("MSIE")?/MSIE (\d+\.\d+);/:/Trident.*rv[ :]*(\d+\.\d+)/).test(navigator.userAgent)&&(document.body.setAttribute("style","-ms-touch-action:none;"),document.body.style.touchAction="none",document.body.style.msTouchAction="none")},t.now=function(){var e=window.performance||{};return e.now=e.now||e.webkitNow||e.msNow||e.oNow||e.mozNow||function(){return(new Date).getTime()},e.now()},Object.defineProperty(t,"isMobile",{get:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t},enumerable:!0,configurable:!0}),t.encodeBase64=function(e){var n,r,o,i,a,c,s,u="",l=0;for(e=t.utf8Encode(e);l<e.length;)i=(n=e.charCodeAt(l++))>>2,a=(3&n)<<4|(r=e.charCodeAt(l++))>>4,c=(15&r)<<2|(o=e.charCodeAt(l++))>>6,s=63&o,isNaN(r)?c=s=64:isNaN(o)&&(s=64),u=u+t.keyStr.charAt(i)+t.keyStr.charAt(a)+t.keyStr.charAt(c)+t.keyStr.charAt(s);return u},t.utf8Encode=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(63&r|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(63&r|128))}return t},t.hash=function(n){var r=t.hashCache.get(n);return r||(r=_securedTouchDependencies.sha256(n+e.SecuredTouchConstants.SALT),t.hashCache.set(n,r)),r},t.utf8Decode=function(e){for(var t="",n=0,r=0,o=0,i=0;n<e.length;)(r=e.charCodeAt(n))<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((31&r)<<6|63&o),n+=2):(o=e.charCodeAt(n+1),i=e.charCodeAt(n+2),t+=String.fromCharCode((15&r)<<12|(63&o)<<6|63&i),n+=3);return t},t.decodeBase64=function(e){var n,r,o,i,a,c,s="",u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)n=t.keyStr.indexOf(e.charAt(u++))<<2|(i=t.keyStr.indexOf(e.charAt(u++)))>>4,r=(15&i)<<4|(a=t.keyStr.indexOf(e.charAt(u++)))>>2,o=(3&a)<<6|(c=t.keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(n),64!=a&&(s+=String.fromCharCode(r)),64!=c&&(s+=String.fromCharCode(o));return t.utf8Decode(s)},t.hashCode=function(e){var t=0,n=e?e.length:0,r=0;if(n>0)for(;r<n;)t=(t<<5)-t+e.charCodeAt(r++)|0;return t},t.extractEnv=function(e){var t=e.indexOf("://");t>0&&(t+="://".length);var n=e.indexOf(".securedtouch.com");return e.substring(t,n)},t.extendPrimitiveValues=function(e,n,r){for(var o=t.allKeys(n),i=0;i<o.length;)t.isObject(n[o[i]])||r&&(!r||void 0!==e[o[i]])||(e[o[i]]=n[o[i]]),i++;return e},t.extend=function(e,n,r){for(var o=t.allKeys(n),i=0;i<o.length;)(!r||r&&void 0===e[o[i]])&&(e[o[i]]=n[o[i]]),i++;return e},t.flatten=function(e){var n={};return t.dive("",e,n),n},t.dive=function(e,n,r){for(var o in n)if(n.hasOwnProperty(o)){var i=o,a=n[o];e.length>0&&(i=e+"."+o),t.isObject(a)?t.dive(i,a,r):r[i]=a}},t.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},t.isFunction=function(e){return e&&"function"==typeof e},t.isPassiveSupported=function(){var e=!1,t=function(){};try{var n={get passive(){return e=!0,!0}};window.addEventListener("test",t,n),window.removeEventListener("test",t,!1)}catch(t){e=!1}return e},t.getAttribute=function(e,t){try{if(e&&this.isFunction(e.getAttribute))return e.getAttribute(t)||""}catch(e){}return""},t.allKeys=function(e){if(!t.isObject(e))return[];var n=[];for(var r in e)n.push(r);return n},t.values=function(e){for(var n=t.allKeys(e),r=n.length,o=Array(r),i=0;i<r;i++)o[i]=e[n[i]];return o},t.modifiersKeys=function(e){var t=[];return e.getModifierState&&["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"].forEach((function(n){e.getModifierState(n.toString())&&t.push(n)})),t},t.getKeyboardEvent=function(e){return e||window.event},t.getSrcElement=function(e){return e.srcElement||e.target},t.getObjectType=function(e){try{var t=/function (.{1,})\(/.exec(e.constructor.toString());return t&&t.length>1?t[1]:""}catch(e){return""}},t.isSelectorMatches=function(e,t){try{var n=Element.prototype;return!!(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector).call(e,t)}catch(e){return!1}},t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},t.safeJsonParse=function(t){var n=null;try{t&&(n=JSON.parse(t))}catch(t){e.STLogger.warn("Failed to parse object "+t),n=null}return n},t.getElementSelectionStart=function(e){var t;try{t=e.selectionStart}catch(e){t=""}return t},t.getElementSelectionEnd=function(e){var t;try{t=e.selectionEnd}catch(e){t=""}return t},t.getDeviceOrientation=function(){var e=screen.orientation||screen.mozOrientation||{},t=screen.msOrientation||e.type,n=e.angle;return{orientation:t?t.toString():"",angle:null!=n?n.toString():""}},t.getCurrentLocationUrl=function(){return e.SecuredTouchPointerConfig.instance.sendLocation?window.location.href:""},t.collectBehavioralData=function(t){var n=e.SecuredTouchPointerConfig.instance.behavioralBlacklist;return!n||!n[t]||!Boolean(window.location.href.match(n[t]))},t.getCookie=function(e){var t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return t?t[2]:null},t.setCookie=function(e,t,n){var r=new Date;r.setTime(r.getTime()+1e3*n),document.cookie=e+"="+t+";path=/;secure;expires="+r.toUTCString()},t.deleteCookie=function(e){t.setCookie(e,"",-1)},t.delay=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.addEventListener=function(t,n,r,o){e.SecuredTouchPointerConfig.instance.eventsBlackList.has(n)||t.addEventListener(n,r,o)},t.getErrorAsString=function(e){var t;if(e)try{t="string"==typeof e||e instanceof String?e:e instanceof Error?e.toString():JSON.stringify(e)}catch(n){t=e.toString()}return t||""},t.getHostnameFromRegex=function(e){if(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]}return null},t.inIframe=function(){try{return window.self!==window.top}catch(e){return!0}},t.hashCache=new Map,t.hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),t.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",t}();e.SecuredTouchUtil=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){var e={urlWhitelist:t.SDK_PROPERTIES_DEFAULT.urlWhitelist,webRtcUrl:t.SDK_PROPERTIES_DEFAULT.webRtcUrl,localStorageTtlMs:t.SDK_PROPERTIES_DEFAULT.localStorageTtlMs,eventsBlackList:t.SDK_PROPERTIES_DEFAULT.eventsBlackList,indirectInterval:t.SDK_PROPERTIES_DEFAULT.indirectInterval,updateInterval:t.SDK_PROPERTIES_DEFAULT.updateInterval,idleTimeoutMs:t.SDK_PROPERTIES_DEFAULT.idleTimeoutMs,maxEventsCount:t.SDK_PROPERTIES_DEFAULT.maxEventsCount,fieldBlackList:t.SDK_PROPERTIES_DEFAULT.fieldBlackList,cssSelectors:t.SDK_PROPERTIES_DEFAULT.cssSelectors,tagsCssSelectors:t.SDK_PROPERTIES_DEFAULT.tagsCssSelectors,maxRequestQueueSize:t.SDK_PROPERTIES_DEFAULT.maxRequestQueueSize,requestTimeout:t.SDK_PROPERTIES_DEFAULT.requestTimeout,sendLocation:t.SDK_PROPERTIES_DEFAULT.sendLocation,heartBeatFrequencyMs:t.SDK_PROPERTIES_DEFAULT.heartBeatFrequencyMs,beforeunloadEnabled:t.SDK_PROPERTIES_DEFAULT.beforeunloadEnabled,devToolsEnabled:t.SDK_PROPERTIES_DEFAULT.devToolsEnabled,snapshotsReduceFactor:t.SDK_PROPERTIES_DEFAULT.snapshotsReduceFactor,eventsReduceFactorMap:t.SDK_PROPERTIES_DEFAULT.eventsReduceFactorMap,remoteLogsEnabled:t.SDK_PROPERTIES_DEFAULT.remoteLogsEnabled,maxRemoteLogs:t.SDK_PROPERTIES_DEFAULT.maxRemoteLogs,failuresAmountToReport:t.SDK_PROPERTIES_DEFAULT.failuresAmountToReport,metricsFrequency:t.SDK_PROPERTIES_DEFAULT.metricsFrequency};this.pointerParams={enabled:t.ENABLED_DEFAULT,url:t.URL_DEFAULT,clientDigest:t.CLIENT_DIGEST_DEFAULT,readTimeout:t.READ_TIMEOUT_DEFAULT,establishTimeout:t.ESTABLISH_TIMEOUT_DEFAULT,bufferSize:t.BUFFER_SIZE_DEFAULT,maxSensorSamples:t.MAX_SENSOR_SAMPLES_DEFAULT,maxSnapshotsCount:t.MAX_SNAPSHOTS_COUNT_DEFAULT,logMode:t.LOG_MODE_DEFAULT,shouldSendOnKeyboardUp:t.SHOULD_SEND_ON_KEYBOARD_UP_DEFAULT,sensorsTimestampDeltaInMillis:t.SENSORS_TIMESTAMP_DELTA_IN_MILLIS_DEFAULT,propertyBlackList:t.PROPERTY_BLACK_LIST_DEFAULT,behavioralBlacklist:t.BEHAVIORAL_BLACK_LIST_DEFAULT,tagsBlacklistRegex:t.TAGS_BLACK_LIST_REGEX_DEFAULT,tagsToFlushRegex:t.TAGS_TO_FLUSH_BLACK_LIST_REGEX_DEFAULT,version:t.VERSION_DEFAULT,sdkProperties:e}}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.refreshPointerParams=function(e){this.pointerParams.enabled=null!=e.enabled?Boolean(e.enabled):t.ENABLED_DEFAULT,this.pointerParams.url=null!=e.url?e.url:t.URL_DEFAULT,this.pointerParams.clientDigest=null!=e.clientDigest?e.clientDigest:t.CLIENT_DIGEST_DEFAULT,this.pointerParams.readTimeout=null!=e.readTimeout?Number(e.readTimeout):t.READ_TIMEOUT_DEFAULT,this.pointerParams.establishTimeout=null!=e.establishTimeout?Number(e.establishTimeout):t.ESTABLISH_TIMEOUT_DEFAULT,this.pointerParams.bufferSize=null!=e.bufferSize?Number(e.bufferSize):t.BUFFER_SIZE_DEFAULT,this.pointerParams.maxSensorSamples=null!=e.maxSensorSamples?Number(e.maxSensorSamples):t.MAX_SENSOR_SAMPLES_DEFAULT,this.pointerParams.maxSnapshotsCount=null!=e.maxSnapshotsCount?Number(e.maxSnapshotsCount):t.MAX_SNAPSHOTS_COUNT_DEFAULT,this.pointerParams.logMode=null!=e.logMode?Number(e.logMode):t.LOG_MODE_DEFAULT,this.pointerParams.shouldSendOnKeyboardUp=null!=e.shouldSendOnKeyboardUp?Boolean(e.shouldSendOnKeyboardUp):t.SHOULD_SEND_ON_KEYBOARD_UP_DEFAULT,this.pointerParams.sensorsTimestampDeltaInMillis=null!=e.sensorsTimestampDeltaInMillis?Number(e.sensorsTimestampDeltaInMillis):t.SENSORS_TIMESTAMP_DELTA_IN_MILLIS_DEFAULT,this.pointerParams.propertyBlackList=null!=e.propertyBlackList?e.propertyBlackList:t.PROPERTY_BLACK_LIST_DEFAULT,this.pointerParams.behavioralBlacklist=null!=e.behavioralBlacklist?e.behavioralBlacklist:t.BEHAVIORAL_BLACK_LIST_DEFAULT,this.pointerParams.tagsBlacklistRegex=null!=e.tagsBlacklistRegex?e.tagsBlacklistRegex:t.TAGS_BLACK_LIST_REGEX_DEFAULT,this.pointerParams.tagsToFlushRegex=null!=e.tagsToFlushRegex?e.tagsToFlushRegex:t.TAGS_TO_FLUSH_BLACK_LIST_REGEX_DEFAULT,this.pointerParams.version=null!=e.version?e.version:t.VERSION_DEFAULT,this.populateSdkProperties(e.sdkProperties)},t.prototype.populateSdkProperties=function(n){if(n){n.web_sdk_url_whitelist?this.pointerParams.sdkProperties.urlWhitelist=e.SecuredTouchUtil.safeJsonParse(n.web_sdk_url_whitelist):this.pointerParams.sdkProperties.urlWhitelist=t.SDK_PROPERTIES_DEFAULT.urlWhitelist,n.web_sdk_web_rtc_url?this.pointerParams.sdkProperties.webRtcUrl=n.web_sdk_web_rtc_url:this.pointerParams.sdkProperties.webRtcUrl=t.SDK_PROPERTIES_DEFAULT.webRtcUrl,n.web_sdk_local_storage_ttl_ms?this.pointerParams.sdkProperties.localStorageTtlMs=Number(n.web_sdk_local_storage_ttl_ms):this.pointerParams.sdkProperties.localStorageTtlMs=t.SDK_PROPERTIES_DEFAULT.localStorageTtlMs;var r=e.SecuredTouchUtil.safeJsonParse(n.web_sdk_events_black_list);this.pointerParams.sdkProperties.eventsBlackList=r?new Set(r):t.SDK_PROPERTIES_DEFAULT.eventsBlackList,n.web_sdk_indirect_interval?this.pointerParams.sdkProperties.indirectInterval=Number(n.web_sdk_indirect_interval):this.pointerParams.sdkProperties.indirectInterval=t.SDK_PROPERTIES_DEFAULT.indirectInterval,n.web_sdk_update_interval?this.pointerParams.sdkProperties.updateInterval=Number(n.web_sdk_update_interval):this.pointerParams.sdkProperties.updateInterval=t.SDK_PROPERTIES_DEFAULT.updateInterval,n.web_sdk_idle_timeout_ms?this.pointerParams.sdkProperties.idleTimeoutMs=Number(n.web_sdk_idle_timeout_ms):this.pointerParams.sdkProperties.idleTimeoutMs=t.SDK_PROPERTIES_DEFAULT.idleTimeoutMs,n.web_sdk_max_events_count?this.pointerParams.sdkProperties.maxEventsCount=Number(n.web_sdk_max_events_count):this.pointerParams.sdkProperties.maxEventsCount=t.SDK_PROPERTIES_DEFAULT.maxEventsCount;var o=e.SecuredTouchUtil.safeJsonParse(n.web_sdk_field_black_list);this.pointerParams.sdkProperties.fieldBlackList=o?new Set(o):t.SDK_PROPERTIES_DEFAULT.fieldBlackList,n.web_sdk_css_selectors?this.pointerParams.sdkProperties.cssSelectors=n.web_sdk_css_selectors:this.pointerParams.sdkProperties.cssSelectors=t.SDK_PROPERTIES_DEFAULT.cssSelectors,n.web_sdk_tags_css_selectors?this.pointerParams.sdkProperties.tagsCssSelectors=n.web_sdk_tags_css_selectors:this.pointerParams.sdkProperties.tagsCssSelectors=t.SDK_PROPERTIES_DEFAULT.tagsCssSelectors,n.web_sdk_max_request_queue_size?this.pointerParams.sdkProperties.maxRequestQueueSize=Number(n.web_sdk_max_request_queue_size):this.pointerParams.sdkProperties.maxRequestQueueSize=t.SDK_PROPERTIES_DEFAULT.maxRequestQueueSize,n.web_sdk_request_timeout?this.pointerParams.sdkProperties.requestTimeout=Number(n.web_sdk_request_timeout):this.pointerParams.sdkProperties.requestTimeout=t.SDK_PROPERTIES_DEFAULT.requestTimeout,n.web_sdk_send_location?this.pointerParams.sdkProperties.sendLocation="true"===n.web_sdk_send_location:this.pointerParams.sdkProperties.sendLocation=t.SDK_PROPERTIES_DEFAULT.sendLocation,n.heart_beat_frequency_ms?this.pointerParams.sdkProperties.heartBeatFrequencyMs=Number(n.heart_beat_frequency_ms):this.pointerParams.sdkProperties.heartBeatFrequencyMs=t.SDK_PROPERTIES_DEFAULT.heartBeatFrequencyMs,n.web_sdk_beforeunload_enabled?this.pointerParams.sdkProperties.beforeunloadEnabled="true"===n.web_sdk_beforeunload_enabled:this.pointerParams.sdkProperties.beforeunloadEnabled=t.SDK_PROPERTIES_DEFAULT.beforeunloadEnabled,n.web_sdk_devtools_enabled?this.pointerParams.sdkProperties.devToolsEnabled="true"===n.web_sdk_devtools_enabled:this.pointerParams.sdkProperties.devToolsEnabled=t.SDK_PROPERTIES_DEFAULT.devToolsEnabled,n.snapshots_reduce_factor?this.pointerParams.sdkProperties.snapshotsReduceFactor=Number(n.snapshots_reduce_factor):this.pointerParams.sdkProperties.snapshotsReduceFactor=t.SDK_PROPERTIES_DEFAULT.snapshotsReduceFactor,n.events_reduce_factor_map?this.pointerParams.sdkProperties.eventsReduceFactorMap=n.events_reduce_factor_map:this.pointerParams.sdkProperties.eventsReduceFactorMap=t.SDK_PROPERTIES_DEFAULT.eventsReduceFactorMap,n.remote_logs_enabled?this.pointerParams.sdkProperties.remoteLogsEnabled="true"===n.remote_logs_enabled:this.pointerParams.sdkProperties.remoteLogsEnabled=t.SDK_PROPERTIES_DEFAULT.remoteLogsEnabled,n.max_remote_logs?this.pointerParams.sdkProperties.maxRemoteLogs=Number(n.max_remote_logs):this.pointerParams.sdkProperties.maxRemoteLogs=t.SDK_PROPERTIES_DEFAULT.maxRemoteLogs,n.failures_amount_to_report?this.pointerParams.sdkProperties.failuresAmountToReport=Number(n.failures_amount_to_report):this.pointerParams.sdkProperties.failuresAmountToReport=t.SDK_PROPERTIES_DEFAULT.failuresAmountToReport,n.metrics_frequency?this.pointerParams.sdkProperties.metricsFrequency=Number(n.metrics_frequency):this.pointerParams.sdkProperties.metricsFrequency=t.SDK_PROPERTIES_DEFAULT.metricsFrequency}else this.pointerParams.sdkProperties=t.SDK_PROPERTIES_DEFAULT},Object.defineProperty(t.prototype,"enabled",{get:function(){return this.pointerParams.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this.pointerParams.url},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clientDigest",{get:function(){return this.pointerParams.clientDigest},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readTimeout",{get:function(){return this.pointerParams.readTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"establishTimeout",{get:function(){return this.pointerParams.establishTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferSize",{get:function(){return this.pointerParams.bufferSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSensorSamples",{get:function(){return this.pointerParams.maxSensorSamples},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSnapshotsCount",{get:function(){return this.pointerParams.maxSnapshotsCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logMode",{get:function(){return this.pointerParams.logMode},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldSendOnKeyboardUp",{get:function(){return this.pointerParams.shouldSendOnKeyboardUp},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sensorsTimestampDeltaInMillis",{get:function(){return this.pointerParams.sensorsTimestampDeltaInMillis},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propertyBlackList",{get:function(){return this.pointerParams.propertyBlackList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"behavioralBlacklist",{get:function(){return this.pointerParams.behavioralBlacklist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagsBlacklistRegex",{get:function(){return this.pointerParams.tagsBlacklistRegex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagsToFlushRegex",{get:function(){return this.pointerParams.tagsToFlushRegex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.pointerParams.version},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlWhitelist",{get:function(){return this.pointerParams.sdkProperties.urlWhitelist},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"webRtcUrl",{get:function(){return this.pointerParams.sdkProperties.webRtcUrl},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localStorageTtlMs",{get:function(){return this.pointerParams.sdkProperties.localStorageTtlMs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventsBlackList",{get:function(){return this.pointerParams.sdkProperties.eventsBlackList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indirectInterval",{get:function(){return this.pointerParams.sdkProperties.indirectInterval},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateInterval",{get:function(){return this.pointerParams.sdkProperties.updateInterval},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"idleTimeoutMs",{get:function(){return this.pointerParams.sdkProperties.idleTimeoutMs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxEventsCount",{get:function(){return this.pointerParams.sdkProperties.maxEventsCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldBlackList",{get:function(){return this.pointerParams.sdkProperties.fieldBlackList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssSelectors",{get:function(){return this.pointerParams.sdkProperties.cssSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tagsCssSelectors",{get:function(){return this.pointerParams.sdkProperties.tagsCssSelectors},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxRequestQueueSize",{get:function(){return this.pointerParams.sdkProperties.maxRequestQueueSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"requestTimeout",{get:function(){return this.pointerParams.sdkProperties.requestTimeout},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sendLocation",{get:function(){return this.pointerParams.sdkProperties.sendLocation},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"heartBeatFrequencyMs",{get:function(){return this.pointerParams.sdkProperties.heartBeatFrequencyMs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"beforeUnloadEnabled",{get:function(){return this.pointerParams.sdkProperties.beforeunloadEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"devToolsEnabled",{get:function(){return this.pointerParams.sdkProperties.devToolsEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapshotsReduceFactor",{get:function(){return this.pointerParams.sdkProperties.snapshotsReduceFactor},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eventsReduceFactorMap",{get:function(){return this.pointerParams.sdkProperties.eventsReduceFactorMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"remoteLogsEnabled",{get:function(){return this.pointerParams.sdkProperties.remoteLogsEnabled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxRemoteLogs",{get:function(){return this.pointerParams.sdkProperties.maxRemoteLogs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"failuresAmountToReport",{get:function(){return this.pointerParams.sdkProperties.failuresAmountToReport},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metricsFrequency",{get:function(){return this.pointerParams.sdkProperties.metricsFrequency},enumerable:!0,configurable:!0}),t.ENABLED_DEFAULT=!0,t.URL_DEFAULT=null,t.CLIENT_DIGEST_DEFAULT="",t.READ_TIMEOUT_DEFAULT=0,t.ESTABLISH_TIMEOUT_DEFAULT=0,t.BUFFER_SIZE_DEFAULT=0,t.MAX_SENSOR_SAMPLES_DEFAULT=0,t.MAX_SNAPSHOTS_COUNT_DEFAULT=0,t.LOG_MODE_DEFAULT=0,t.SHOULD_SEND_ON_KEYBOARD_UP_DEFAULT=!0,t.SENSORS_TIMESTAMP_DELTA_IN_MILLIS_DEFAULT=0,t.PROPERTY_BLACK_LIST_DEFAULT=[],t.BEHAVIORAL_BLACK_LIST_DEFAULT=null,t.TAGS_BLACK_LIST_REGEX_DEFAULT="",t.TAGS_TO_FLUSH_BLACK_LIST_REGEX_DEFAULT="",t.VERSION_DEFAULT="",t.SDK_PROPERTIES_DEFAULT={urlWhitelist:[],webRtcUrl:"",localStorageTtlMs:18e4,eventsBlackList:new Set,indirectInterval:3e3,updateInterval:1e3,idleTimeoutMs:1e3,maxEventsCount:1e3,fieldBlackList:new Set,cssSelectors:"",tagsCssSelectors:"",maxRequestQueueSize:10,requestTimeout:5e3,sendLocation:!0,heartBeatFrequencyMs:6e5,beforeunloadEnabled:!1,devToolsEnabled:!0,snapshotsReduceFactor:0,eventsReduceFactorMap:"",remoteLogsEnabled:!0,maxRemoteLogs:2,failuresAmountToReport:5,metricsFrequency:5},t}();e.SecuredTouchPointerConfig=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(e,t){this.crossStorageClient=new CrossStorageClient(e,t)}return t.prototype.get=function(t){var n=e.SecuredTouchUtil.hash(t);return this.crossStorageClient.get(n)},t.prototype.del=function(t){return this.crossStorageClient.del(e.SecuredTouchUtil.hash(t))},t.prototype.set=function(t,n,r){return this.crossStorageClient.set(e.SecuredTouchUtil.hash(t),n,r)},t.prototype.onConnect=function(){return this.crossStorageClient.onConnect()},t}();e.SecuredTouchCrossStorage=t;var n=function(){function e(e){this.storage=e}return e.prototype.get=function(e){return Promise.resolve(this.storage.getItem(e))},e.prototype.del=function(e){return this.storage.removeItem(e),Promise.resolve()},e.prototype.set=function(e,t){return this.storage.setItem(e,t),Promise.resolve()},e.prototype.onConnect=function(){return Promise.resolve()},e}();e.SecuredTouchCrossStorageFallback=n}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(e){this.storage=e}return t.prototype.getItem=function(t){var n=e.SecuredTouchUtil.hash(t),r=this.storage.getItem(n);return r||(r=this.storage.getItem(t))&&(this.storage.setItem(n,r),this.storage.removeItem(t)),r},t.prototype.removeItem=function(t){return this.storage.removeItem(e.SecuredTouchUtil.hash(t))},t.prototype.setItem=function(t,n){return this.storage.setItem(e.SecuredTouchUtil.hash(t),n)},t}();e.SecuredTouchStorageWrapper=t;var n=function(){function e(){this.internalStorageMap=new Map}return e.prototype.getItem=function(e){return this.internalStorageMap.get(e)},e.prototype.removeItem=function(e){this.internalStorageMap.delete(e)},e.prototype.setItem=function(e,t){this.internalStorageMap.set(e,t)},e}();e.SecuredTouchStorageFallback=n}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this.appId="";try{window.sessionStorage.setItem("_st_storage_enabled_check","test"),window.sessionStorage.removeItem("_st_storage_enabled_check"),this.stSessionStorage=window.sessionStorage}catch(t){e.STLogger.warn("session storage disabled"),this.stSessionStorage=new e.SecuredTouchStorageFallback}try{window.localStorage.setItem("_st_storage_enabled_check","test"),window.localStorage.removeItem("_st_storage_enabled_check"),this.stLocalStorage=new e.SecuredTouchStorageWrapper(window.localStorage)}catch(t){e.STLogger.warn("local storage disabled"),this.stLocalStorage=new e.SecuredTouchStorageWrapper(new e.SecuredTouchStorageFallback),this.crossStorage=new e.SecuredTouchCrossStorageFallback(this.stLocalStorage)}}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.initDeviceStorage=function(t,n){return __awaiter(this,void 0,void 0,(function(){var r;return __generator(this,(function(o){switch(o.label){case 0:return(r={deviceId:this.stLocalStorage.getItem(e.SecuredTouchConstants.DEVICE_ID_KEY),deviceSecret:this.stLocalStorage.getItem(e.SecuredTouchConstants.DEVICE_CREDENTIALS_KEY)}).deviceId?(this.cachedDeviceId=r.deviceId,this.cachedDeviceSecret=r.deviceSecret||e.SecuredTouchUtil.hash(r.deviceId),this.crossStorage=new e.SecuredTouchCrossStorageFallback(this.stLocalStorage),[3,3]):[3,1];case 1:return[4,this.initCrossStorage(t,n)];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))},t.prototype.initCrossStorage=function(t,n){return __awaiter(this,void 0,void 0,(function(){var r,o,i,a;return __generator(this,(function(c){switch(c.label){case 0:if(o=e.SecuredTouchUtil.extractEnv(n),i=t||"https://hub.securedtouch.com/"+o+"/hub.html",this.crossStorage)return[3,6];c.label=1;case 1:return c.trys.push([1,4,,5]),this.crossStorage=new e.SecuredTouchCrossStorage(i,{timeout:1e4}),[4,this.crossStorage.onConnect()];case 2:return c.sent(),[4,Promise.all([this.crossStorage.get(e.SecuredTouchConstants.DEVICE_ID_KEY),this.crossStorage.get(e.SecuredTouchConstants.DEVICE_CREDENTIALS_KEY).catch((function(e){}))])];case 3:return r=c.sent(),this.cachedDeviceId=r[0],this.cachedDeviceSecret=r[1],this.cachedDeviceId&&this.stLocalStorage.setItem(e.SecuredTouchConstants.DEVICE_ID_KEY,this.cachedDeviceId),this.cachedDeviceSecret&&this.stLocalStorage.setItem(e.SecuredTouchConstants.DEVICE_CREDENTIALS_KEY,this.cachedDeviceSecret),[3,5];case 4:return a=c.sent(),e.STLogger.warn("SecuredTouchSession crossStorage failed to connect "+a),this.crossStorage=new e.SecuredTouchCrossStorageFallback(this.stLocalStorage),[3,5];case 5:this.cachedDeviceId&&!this.cachedDeviceSecret&&(this.cachedDeviceSecret=e.SecuredTouchUtil.hash(this.cachedDeviceId)),c.label=6;case 6:return[2]}}))}))},Object.defineProperty(t.prototype,"windowId",{get:function(){return this.cachedWindowId||(this.cachedWindowId=this.stSessionStorage.getItem(e.SecuredTouchConstants.WINDOW_ID_KEY),this.cachedWindowId||(this.cachedWindowId=e.SecuredTouchUtil.newGuid(),this.stSessionStorage.setItem(e.SecuredTouchConstants.WINDOW_ID_KEY,this.cachedWindowId))),this.cachedWindowId},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sessionStorage",{get:function(){return this.stSessionStorage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"localStorage",{get:function(){return this.stLocalStorage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ops",{get:function(){var t=Number(this.stSessionStorage.getItem(e.SecuredTouchConstants.OPS_KEY));return isNaN(t)?null:t},set:function(t){t?this.stSessionStorage.setItem(e.SecuredTouchConstants.OPS_KEY,t.toString()):this.stSessionStorage.removeItem(e.SecuredTouchConstants.OPS_KEY)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"webGlID",{get:function(){return this.stSessionStorage.getItem(e.SecuredTouchConstants.WEB_GL_KEY)},set:function(t){t?this.stSessionStorage.setItem(e.SecuredTouchConstants.WEB_GL_KEY,t):this.stSessionStorage.removeItem(e.SecuredTouchConstants.WEB_GL_KEY)},enumerable:!0,configurable:!0}),t.prototype.getToken=function(t){var n=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.TOKEN_TS_BASE_KEY+"-"+t),r=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.TOKEN_BASE_KEY+"-"+t);return(new Date).getTime()-(Number(this.stLocalStorage.getItem(n))||0)>5184e5?null:this.stLocalStorage.getItem(r)},t.prototype.setToken=function(t,n){var r=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.TOKEN_TS_BASE_KEY+"-"+n),o=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.TOKEN_BASE_KEY+"-"+n);t?(this.stLocalStorage.setItem(o,t),this.stLocalStorage.setItem(r,(new Date).getTime())):(this.stLocalStorage.removeItem(o),this.stLocalStorage.removeItem(r))},Object.defineProperty(t.prototype,"lastInitParamsTs",{get:function(){var t=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.INIT_PARAMS_TS_KEY+"-"+this.appId);return Number(this.stLocalStorage.getItem(t))||0},set:function(t){var n=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.INIT_PARAMS_TS_KEY+"-"+this.appId);this.stLocalStorage.setItem(n,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initParams",{get:function(){var t=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.INIT_PARAMS_KEY+"-"+this.appId),n=this.stLocalStorage.getItem(t);try{return n?JSON.parse(n):null}catch(t){return e.STLogger.debug("SecuredTouchSession FAILED to deserialize initParams!"),null}},set:function(t){var n=t?JSON.stringify(t):null,r=e.SecuredTouchUtil.hash(e.SecuredTouchConstants.INIT_PARAMS_KEY+"-"+this.appId);this.stLocalStorage.setItem(r,n)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initST",{get:function(){return Boolean(this.stSessionStorage.getItem(e.SecuredTouchConstants.ST_INIT_KEY))},set:function(t){this.stSessionStorage.setItem(e.SecuredTouchConstants.ST_INIT_KEY,t.toString())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"applicationId",{set:function(e){this.appId=e},enumerable:!0,configurable:!0}),t.prototype.getUsername=function(){return this.stSessionStorage.getItem(e.SecuredTouchConstants.USER_ID_KEY)||""},t.prototype.setUsername=function(t){this.stSessionStorage.setItem(e.SecuredTouchConstants.USER_ID_TS_KEY,(new Date).getTime()),t?this.stSessionStorage.setItem(e.SecuredTouchConstants.USER_ID_KEY,t):this.stSessionStorage.removeItem(e.SecuredTouchConstants.USER_ID_KEY)},Object.defineProperty(t.prototype,"usernameTs",{get:function(){return Number(this.stSessionStorage.getItem(e.SecuredTouchConstants.USER_ID_TS_KEY))||0},enumerable:!0,configurable:!0}),t.prototype.getMetadataTsKey=function(){return e.SecuredTouchUtil.hash("SecuredTouchMetadataTs-"+this.cachedDeviceId+"-"+this.appId)},t.prototype.getLastMetadataTimeStamp=function(){return Number(this.stLocalStorage.getItem(this.getMetadataTsKey()))||0},t.prototype.setLastMetadataTimeStamp=function(e){this.stLocalStorage.setItem(this.getMetadataTsKey(),e)},Object.defineProperty(t.prototype,"appSessionId",{get:function(){return this.stSessionStorage.getItem(e.SecuredTouchConstants.APP_SESSION_ID_KEY)||""},set:function(t){t?(e.STLogger.info("Set Session ID: "+t),this.stSessionStorage.setItem(e.SecuredTouchConstants.APP_SESSION_ID_KEY,t)):this.stSessionStorage.removeItem(e.SecuredTouchConstants.APP_SESSION_ID_KEY)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastDisposedPayload",{get:function(){var t=null;try{var n=this.stSessionStorage.getItem(e.SecuredTouchConstants.LAST_DISPOSED_TS_KEY);(new Date).getTime()-n<=e.SecuredTouchConstants.SESSION_STORAGE_TTL_MILLIS&&(t=JSON.parse(this.stSessionStorage.getItem(e.SecuredTouchConstants.LAST_DISPOSED_PAYLOAD_KEY)))}catch(t){e.STLogger.warn("Failed to get last disposed payload",t)}return this.stSessionStorage.removeItem(e.SecuredTouchConstants.LAST_DISPOSED_PAYLOAD_KEY),this.stSessionStorage.removeItem(e.SecuredTouchConstants.LAST_DISPOSED_TS_KEY),t},set:function(t){try{t&&(this.stSessionStorage.setItem(e.SecuredTouchConstants.LAST_DISPOSED_PAYLOAD_KEY,JSON.stringify(t)),this.stSessionStorage.setItem(e.SecuredTouchConstants.LAST_DISPOSED_TS_KEY,(new Date).getTime()))}catch(t){e.STLogger.warn("Failed to save last disposed payload",t)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"passedBufferTimeout",{get:function(){var t=this.stSessionStorage.getItem(e.SecuredTouchConstants.SESSION_STORAGE_UPDATE_TS)||0;return(new Date).getTime()-t>e.SecuredTouchConstants.SESSION_STORAGE_TTL_MILLIS},enumerable:!0,configurable:!0}),t.prototype.resetDeviceCredentials=function(){this.cachedDeviceId="Id-"+e.SecuredTouchUtil.newGuid(),this.cachedDeviceSecret=e.SecuredTouchUtil.hash(this.cachedDeviceId),this.crossStorage.set(e.SecuredTouchConstants.DEVICE_ID_KEY,this.cachedDeviceId),this.stLocalStorage.setItem(e.SecuredTouchConstants.DEVICE_ID_KEY,this.cachedDeviceId)},t.prototype.getDeviceCredentials=function(){return this.cachedDeviceId&&this.cachedDeviceSecret||this.resetDeviceCredentials(),{deviceSecret:this.cachedDeviceSecret,deviceId:this.cachedDeviceId}},Object.defineProperty(t.prototype,"remoteLogEnabledByFactor",{get:function(){var t=this.stLocalStorage.getItem(e.SecuredTouchConstants.REMOTE_LOG_ENABLED_KEY);return null!=t?"true"===t:null},set:function(t){this.stLocalStorage.setItem(e.SecuredTouchConstants.REMOTE_LOG_ENABLED_KEY,t)},enumerable:!0,configurable:!0}),t}();e.SecuredTouchSessionStorage=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"METRIC_PREFIX",{get:function(){return"st.metrics"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"METRICS_ENABLED",{get:function(){return"stMetricsEnabled"},enumerable:!0,configurable:!0}),e}();e.MetricsConstants=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){this._calcTime=void 0,this._skipped=void 0,this._calculated=void 0,this.calcStartTime=0}return e.prototype.onCalcStarted=function(){this.calcStartTime=(new Date).getTime()},e.prototype.onCalcEnded=function(){this.calcStartTime>0&&(this._calcTime=(new Date).getTime()-this.calcStartTime,this.calcStartTime=0)},e.prototype.setMetadataSkipped=function(e){this._skipped=e?1:0,this._calculated=1-this._skipped},e.prototype.resetValues=function(){this._calcTime=void 0,this._skipped=void 0,this._calculated=void 0},e.prototype.setMetrics=function(e){var t=this;e.addMetric("count.metadata.calculated",this._calculated),e.addMetric("count.metadata.skip",this._skipped),e.addMetric("time.metadata.calculation.max",this._calcTime,(function(e){return!e||t._calcTime>e}))},e}();e.MetadataMetrics=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){this._initTime=void 0,this._authCached=void 0,this._authNotCached=void 0,this._pointerCached=void 0,this._pointerNotCached=void 0,this.initStartTime=0,this.authOnSDKInit=!0}return e.prototype.onInitStarted=function(){this.initStartTime=(new Date).getTime()},e.prototype.onInitEnded=function(){this.initStartTime>0&&(this._initTime=(new Date).getTime()-this.initStartTime,this.initStartTime=0)},e.prototype.setAuthCached=function(e){this.authOnSDKInit&&(this.authOnSDKInit=!1,this._authCached=e?1:0,this._authNotCached=1-this._authCached)},e.prototype.setPointerCached=function(e){this._pointerCached=e?1:0,this._pointerNotCached=1-this._pointerCached},e.prototype.resetValues=function(){this._initTime=void 0,this._authCached=void 0,this._authNotCached=void 0,this._pointerCached=void 0,this._pointerNotCached=void 0},e.prototype.setMetrics=function(e){var t=this;e.addMetric("time.init.flow.max",this._initTime,(function(e){return!e||t._initTime>e})),e.addMetric("count.auth.token.cached",this._authCached),e.addMetric("count.auth.token.not.cached",this._authNotCached),e.addMetric("count.pointer.cached",this._pointerCached),e.addMetric("count.pointer.not.cached",this._pointerNotCached)},e}();e.InitMetrics=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){this._avgInteractionTime=0,this._minTimeBetweenInteractions=0,this._avgQueueSize=0,this._avgAttempt=0,this.attemptIncrement=0,this.queueSizeIncrement=0,this.timesMap={},this.increment=0,this.lastInteractionTimestamp=0}return e.prototype.onInteractionSent=function(e){var t=(new Date).getTime();this.timesMap[e]=t,0===this.lastInteractionTimestamp?this.lastInteractionTimestamp=t:(0===this._minTimeBetweenInteractions||t-this.lastInteractionTimestamp<this._minTimeBetweenInteractions)&&(this._minTimeBetweenInteractions=t-this.lastInteractionTimestamp,this.lastInteractionTimestamp=t)},e.prototype.onInteractionSuccess=function(e){if(this.timesMap[e]){var t=(new Date).getTime()-this.timesMap[e];this.increment+=1,this._avgInteractionTime=(this._avgInteractionTime*(this.increment-1)+t)/this.increment,delete this.timesMap[e]}},e.prototype.onInteractionFailure=function(e){this.timesMap[e]&&delete this.timesMap[e]},e.prototype.setQueueSize=function(e){this.queueSizeIncrement+=1,this._avgQueueSize=(this._avgQueueSize*(this.queueSizeIncrement-1)+e)/this.queueSizeIncrement},e.prototype.setAttempt=function(e){this.attemptIncrement+=1,this._avgAttempt=(this._avgAttempt*(this.attemptIncrement-1)+e)/this.attemptIncrement},e.prototype.resetValues=function(){this._avgInteractionTime=0,this._minTimeBetweenInteractions=0,this._avgQueueSize=0,this._avgAttempt=0},e.prototype.setMetrics=function(e){var t=this;this.increment=0,e.addMetric("time.interactions.e2e.avg",this._avgInteractionTime),e.addMetric("time.between.interactions.min",this._minTimeBetweenInteractions,(function(e){return!e||t._minTimeBetweenInteractions<e})),this.queueSizeIncrement=0,e.addMetric("count.queue.size.avg",this._avgQueueSize),this.attemptIncrement=0,e.addMetric("count.request.attempt.avg",this._avgAttempt)},e}();e.NetworkMetrics=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this.enabledFactor=window._metricsEnabledFactor?Number(window._metricsEnabledFactor):.01,this.stSessionStorage=e.SecuredTouchSessionStorage.instance.sessionStorage,this.metadata=new e.MetadataMetrics,this.init=new e.InitMetrics,this.network=new e.NetworkMetrics;var t=this.stSessionStorage.getItem(e.MetricsConstants.METRICS_ENABLED);null!=t?this.enabled="true"===t:(this.enabled=Math.random()<=this.enabledFactor,this.stSessionStorage.setItem(e.MetricsConstants.METRICS_ENABLED,this.enabled))}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),t.prototype.getMetricsData=function(t){var n={};try{if(this.enabled&&t%e.SecuredTouchPointerConfig.instance.metricsFrequency==0){var r=this,o={addMetric:function(t,o,i){if(t&&null!=o){var a=r.stSessionStorage.getItem(e.MetricsConstants.METRIC_PREFIX+"."+t);i&&!i(a)||(r.stSessionStorage.setItem(e.MetricsConstants.METRIC_PREFIX+"."+t,o),n[t]=o)}}};this.metadata.setMetrics(o),this.init.setMetrics(o),this.network.setMetrics(o),this.metadata.resetValues(),this.init.resetValues(),this.network.resetValues()}}catch(t){e.STLogger.warn("Failed to add metrics",t)}return n},t}();e.SecuredTouchMetrics=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(e,t){this.clientVersion=e,this.customHeaders=new Map,this.customHeaders.set("clientVersion",this.clientVersion),this.customHeaders.set("instanceUUID",t)}return t.prototype.setHeader=function(e,t){this.customHeaders.set(e,t)},t.prototype.removeHeader=function(e){this.customHeaders.delete(e)},t.prototype.setCustomHeaders=function(e,t){e.setRequestHeader("Accept","application/json"),e.setRequestHeader("Content-Type","application/json"),e.setRequestHeader("Attempt",""+t),this.customHeaders.forEach((function(t,n){e.setRequestHeader(n,t)}))},t.prototype.getJson=function(t,n,r,o){var i=this,a=this;return new Promise((function(c,s){if(i.verifyAuthHeader()){var u=new XMLHttpRequest,l="?"+Object.keys(o).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&");u.open("GET",t+l,!0),u.withCredentials=!0,u.timeout=n,a.setCustomHeaders(u,r),u.onload=function(){if(u.status>=200&&u.status<400)try{var t=JSON.parse(u.responseText?u.responseText:"{}");c(t),e.SecuredTouchMetrics.instance.network.setAttempt(r)}catch(e){s(e)}else s({status:u.status,statsText:u.statusText})},u.ontimeout=function(e){s(e)},u.onerror=function(e){s({status:u.status,statsText:u.statusText})},u.send()}else s({status:401,statsText:"Aborted, Auth token is missing"})}))},t.prototype.isGzipEnabled=function(){try{return!!_securedTouchDependencies.pako&&!window["unzip-securedtouch"]}catch(e){return!1}},t.prototype.postGzippedJson=function(e,t,n,r,o){return o||(o=new Map),this.isGzipEnabled()&&o.set("Content-Encoding","gzip"),this.postJson(e,t,n,r,o)},t.prototype.postJson=function(t,n,r,o,i){var a=this,c=this;return new Promise((function(s,u){if(a.verifyAuthHeader(i)){var l=new XMLHttpRequest;l.open("POST",t,!0),l.withCredentials=!0,l.timeout=r,c.setCustomHeaders(l,o),i&&i.forEach((function(e,t){l.setRequestHeader(t,e)})),l.onload=function(){if(l.status>=200&&l.status<400)try{var t=JSON.parse(l.responseText?l.responseText:"{}");s(t),e.SecuredTouchMetrics.instance.network.setAttempt(o)}catch(e){u(e)}else u({status:l.status,statsText:l.statusText})},l.ontimeout=function(e){u(e)},l.onerror=function(e){u({status:l.status,statsText:l.statusText})};var d=JSON.stringify(n);i&&"gzip"===i.get("Content-Encoding")?l.send(_securedTouchDependencies.pako.gzip(d)):l.send(d)}else u({status:401,statsText:"Aborted, Auth token is missing"})}))},t.prototype.verifyAuthHeader=function(e){return!!this.customHeaders.get("Authorization")||!(!e||!e.get("Authorization"))},t}();e.STHttpClient=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(e){this.mapKey=e}return Object.defineProperty(t.prototype,"asMap",{get:function(){var e=t.stSessionStorage.getItem(this.mapKey);return e||(e=JSON.stringify({})),JSON.parse(e)},enumerable:!0,configurable:!0}),t.prototype.set=function(n,r){var o=this.asMap;o[n]=r,t.stSessionStorage.setItem(e.SecuredTouchConstants.SESSION_STORAGE_UPDATE_TS,(new Date).getTime()),t.stSessionStorage.setItem(this.mapKey,JSON.stringify(o))},t.prototype.get=function(e){return this.asMap[e]},t.prototype.delete=function(e){var n=this.asMap;delete n[e],t.stSessionStorage.setItem(this.mapKey,JSON.stringify(n))},t.prototype.values=function(){var t=this.asMap;return e.SecuredTouchUtil.values(t)},t.prototype.clear=function(){t.stSessionStorage.removeItem(this.mapKey)},t.stSessionStorage=e.SecuredTouchSessionStorage.instance.sessionStorage,t}();e.SecuredTouchStorageMap=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this.canceledInteractions=new e.SecuredTouchStorageMap(e.SecuredTouchConstants.CANCELED_INTERACTIONS),this.sendCachedMetadata=!1,this.requestTimeout=5e3,this.maxQueueSize=10,this.interactionsAllowed=!1,this.authQueue=new _securedTouchDependencies.StPromiseQueue(1)}return t.prototype.init=function(t,n,r,o,i){this.applicationId=t,this.pointerUrlPrefix=n,this.clientVersion=r,this.sessionStorage=i||e.SecuredTouchSessionStorage.instance,this.http=o||new e.STHttpClient(r,this.sessionStorage.windowId)},t.prototype.initNetworkParams=function(e,t,n){this.requestTimeout=e,this.maxQueueSize=t,this.lastInitParamsUrl=n,this.interactionsQueue||(this.interactionsQueue=new _securedTouchDependencies.StPromiseQueue(1,this.maxQueueSize))},t.prototype.enqueue=function(t){return this.interactionsAllowed?(e.SecuredTouchMetrics.instance.network.setQueueSize(this.interactionsQueue.getQueueLength()),this.interactionsQueue.add(t)):(e.STLogger.warn("Can't enqueue request - auth is required"),Promise.resolve())},t.prototype.logIn=function(e,t,n){var r=this;return this.authQueue.add((function(){return r.loginWithRetry(e,t,n,0,null)}))},t.prototype.loginWithRetry=function(n,r,o,i,a){var c=this,s=this;this.appSecret=n;var u=s.sessionStorage.getToken(r);return e.SecuredTouchMetrics.instance.init.setAuthCached(!!u),u?(s.http.setHeader("Authorization",u),this.interactionsAllowed=!0,Promise.resolve()):i>=t.MAX_REQUEST_RETRIES?(e.STLogger.warn("Log in retry reached maximum "+t.MAX_REQUEST_RETRIES),this.interactionsAllowed=!1,Promise.reject(a)):new Promise((function(a,u){var l=e.SecuredTouchUtil.encodeBase64(""+n),d=new Map;s.http.removeHeader("Authorization"),d.set("Authorization",l),s.http.postJson(s.pointerUrlPrefix+"/SecuredTouch/rest/services/"+s.applicationId+"/device/auth/",{device_id:r,secret:o},t.POINTER_TIMEOUT,i,d).then((function(e){s.http.setHeader("Authorization",e.token),s.sessionStorage.setToken(e.token,r),s.finalizeLogIn(),a()})).catch((function(l){return __awaiter(c,void 0,void 0,(function(){var c;return __generator(this,(function(d){switch(d.label){case 0:return 401!=l.status?[3,1]:(s.sessionStorage.setToken(null,r),s.sessionStorage.resetDeviceCredentials(),c=s.sessionStorage.getDeviceCredentials(),this.metadataCache&&(this.metadataCache.deviceId=c.deviceId,this.sendCachedMetadata=!0),s.loginWithRetry(n,c.deviceId,c.deviceSecret,i+1,l).then(a).catch(u),[3,4]);case 1:return l.status>=400&&l.status<500?(this.interactionsAllowed=!1,u(l),[3,4]):[3,2];case 2:return[4,e.SecuredTouchUtil.delay(t.REQUESTS_COOL_DOWN[i+1]||t.REQUESTS_COOL_DOWN[t.REQUESTS_COOL_DOWN.length-1])];case 3:d.sent(),s.loginWithRetry(n,r,o,i+1,l).then(a).catch(u),d.label=4;case 4:return[2]}}))}))}))}))},t.prototype.finalizeLogIn=function(){this.interactionsAllowed=!0;var t=!1;this.metadataCache&&this.sendCachedMetadata&&(this.sendMetadata(this.lastInitParamsUrl,this.metadataCache).catch((function(t){e.STLogger.warn("Failed to update metadata",t)})),this.sendCachedMetadata=!1,t=!0),t&&e.STLogger.debug("Reconnect after token expire!")},t.prototype.sendCanceledPayloads=function(){var t=this,n=this.canceledInteractions.values();this.canceledInteractions.clear(),n&&n.length>0&&n.forEach((function(n){t.sendInteractions(t.lastInitParamsUrl,n).catch((function(t){e.STLogger.warn("Failed to resend canceled interactions after page reload",t)}))}))},t.prototype.clearCanceledPayloads=function(){this.canceledInteractions.clear()},t.prototype.initSessionWithRetry=function(e,t,n){var r=this,o=this;return new Promise((function(i,a){o.http.postJson(e+"initSession/",t,r.requestTimeout,n).then((function(e){i(e)})).catch((function(r){o.handleNetworkFailure(r,n+1).then((function(){return o.initSessionWithRetry(e,t,n+1)})).then((function(e){i(e)})).catch((function(e){a(e)}))}))}))},t.prototype.initSession=function(e,t){var n=this;return this.enqueue((function(){return n.initSessionWithRetry(e,t,0)}))},t.prototype.getInitParams=function(e,n){return void 0===n&&(n=0),__awaiter(this,void 0,void 0,(function(){var r,o,i=this;return __generator(this,(function(a){return r=this,o=this.pointerUrlPrefix+"/SecuredTouch/rest/services/init/"+this.clientVersion+"/"+this.applicationId,[2,new Promise((function(a,c){i.http.getJson(o,t.POINTER_TIMEOUT,n,e).then((function(e){a(e)})).catch((function(t){r.handleNetworkFailure(t,n+1).then((function(){return r.getInitParams(e,n+1)})).then((function(e){a(e)})).catch((function(e){c(e)}))}))}))]}))}))},t.prototype.sendMetadata=function(e,t){var n=this;return this.enqueue((function(){return n.sendMetadataWithRetry(e,t,0)}))},t.prototype.sendMetadataWithRetry=function(e,t,n){var r=this,o=this;return this.lastInitParamsUrl=e,this.metadataCache=t,new Promise((function(i,a){o.http.postGzippedJson(e+"metadata/",t,r.requestTimeout,n).then((function(){i()})).catch((function(r){o.handleNetworkFailure(r,n+1).then((function(){return o.sendMetadataWithRetry(e,t,n+1)})).then(i).catch((function(e){a(e)}))}))}))},t.prototype.sendInteractionsWithRetry=function(t,n,r,o){var i=this,a=this;return n.deviceId!==this.sessionStorage.getDeviceCredentials().deviceId?(e.STLogger.warn("Send Interactions failed, interaction's deviceID not matching the current deviceId"),this.canceledInteractions.delete(r),Promise.reject("Interaction's deviceID not matching the current deviceId")):new Promise((function(c,s){e.SecuredTouchMetrics.instance.network.onInteractionSent(r),a.http.postGzippedJson(t+"interactions/",n,i.requestTimeout,o).then((function(t){e.SecuredTouchMetrics.instance.network.onInteractionSuccess(r);var o=n.keyboardInteractionPayloads?n.keyboardInteractionPayloads.length:0,a=n.mouseInteractionPayloads?n.mouseInteractionPayloads.length:0,s=n.gestures?n.gestures.length:0;e.STLogger.info(o+" Keyboard Interactions, "+a+" Mouse interactions and "+s+" Gestures sent to server."),i.canceledInteractions.delete(r),c(t)})).catch((function(u){e.SecuredTouchMetrics.instance.network.onInteractionFailure(r),a.handleNetworkFailure(u,o+1).then((function(){return a.sendInteractionsWithRetry(t,n,r,o+1)})).then((function(e){c(e)})).catch((function(e){i.canceledInteractions.delete(r),s(e)}))}))}))},t.prototype.sendInteractions=function(t,n){var r=this;this.lastInitParamsUrl=t;var o=e.SecuredTouchUtil.newGuid();return this.canceledInteractions.set(o,n),this.enqueue((function(){return r.sendInteractionsWithRetry(t,n,o,0)}))},t.prototype.handleNetworkFailure=function(n,r){return __awaiter(this,void 0,void 0,(function(){var o,i;return __generator(this,(function(a){switch(a.label){case 0:if(r>=t.MAX_REQUEST_RETRIES)return[2,Promise.reject(n)];a.label=1;case 1:return a.trys.push([1,7,,8]),401!=n.status&&403!=n.status?[3,3]:(o=this.sessionStorage.getDeviceCredentials(),this.sessionStorage.setToken(null,o.deviceId),[4,this.logIn(this.appSecret,o.deviceId,o.deviceSecret)]);case 2:return a.sent(),[2,Promise.resolve()];case 3:return n.status>=400&&n.status<500?[2,Promise.reject(n)]:[3,4];case 4:return[4,e.SecuredTouchUtil.delay(t.REQUESTS_COOL_DOWN[r]||t.REQUESTS_COOL_DOWN[t.REQUESTS_COOL_DOWN.length-1])];case 5:return a.sent(),[2,Promise.resolve()];case 6:return[3,8];case 7:return i=a.sent(),[2,Promise.reject(i)];case 8:return[2]}}))}))},t.POINTER_TIMEOUT=1e4,t.MAX_REQUEST_RETRIES=3,t.REQUESTS_COOL_DOWN=[0,1e3,2e3],t}();e.STServer=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(e,t){this.handler=e,this.isOnce=t,this.isExecuted=!1}return e.prototype.execute=function(e,t,n){if(!this.isOnce||!this.isExecuted){this.isExecuted=!0;var r=this.handler;e?setTimeout((function(){r.apply(t,n)}),1):r.apply(t,n)}},e}(),n=function(){function e(){this._wrap=new a(this),this._subscriptions=new Array}return e.prototype.subscribe=function(e){e&&this._subscriptions.push(new t(e,!1))},e.prototype.sub=function(e){this.subscribe(e)},e.prototype.one=function(e){e&&this._subscriptions.push(new t(e,!0))},e.prototype.has=function(e){if(e)for(var t=0,n=this._subscriptions;t<n.length;t++)if(n[t].handler==e)return!0;return!1},e.prototype.unsubscribe=function(e){if(e)for(var t=0;t<this._subscriptions.length;t++)if(this._subscriptions[t].handler==e){this._subscriptions.splice(t,1);break}},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype._dispatch=function(e,t,n){for(var r=0;r<this._subscriptions.length;r++){var o=this._subscriptions[r];if(o.isOnce){if(!0===o.isExecuted)continue;this._subscriptions.splice(r,1),r--}o.execute(e,t,n)}},e.prototype.asEvent=function(){return this._wrap},e}();e.DispatcherBase=n;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.dispatch=function(e,t){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e,t){this._dispatch(!0,this,arguments)},t}(n);e.EventDispatcher=r;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.dispatch=function(e){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(e){this._dispatch(!0,this,arguments)},t}(n),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.dispatch=function(){this._dispatch(!1,this,arguments)},t.prototype.dispatchAsync=function(){this._dispatch(!0,this,arguments)},t}(n),a=function(){function e(e){this._subscribe=function(t){return e.subscribe(t)},this._unsubscribe=function(t){return e.unsubscribe(t)},this._one=function(t){return e.one(t)},this._has=function(t){return e.has(t)}}return e.prototype.subscribe=function(e){this._subscribe(e)},e.prototype.sub=function(e){this.subscribe(e)},e.prototype.unsubscribe=function(e){this._unsubscribe(e)},e.prototype.unsub=function(e){this.unsubscribe(e)},e.prototype.one=function(e){this._one(e)},e.prototype.has=function(e){return this._has(e)},e}(),c=function(){function e(){this._events={}}return e.prototype.get=function(e){var t=this._events[e];return t||(t=this.createDispatcher(),this._events[e]=t,t)},e.prototype.remove=function(e){this._events[e]=null},e}(),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createDispatcher=function(){return new r},t}(c),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createDispatcher=function(){return new o},t}(c),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.createDispatcher=function(){return new i},t}(c);(function(){function e(){this._events=new s}Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)}})(),function(){function e(){this._events=new u}Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)}}(),function(){function e(){this._events=new l}Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!0,configurable:!0}),e.prototype.one=function(e,t){this._events.get(e).one(t)},e.prototype.has=function(e,t){return this._events.get(e).has(t)},e.prototype.subscribe=function(e,t){this._events.get(e).subscribe(t)},e.prototype.sub=function(e,t){this.subscribe(e,t)},e.prototype.unsubscribe=function(e,t){this._events.get(e).unsubscribe(t)},e.prototype.unsub=function(e,t){this.unsubscribe(e,t)}}()}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this._isStarted=!1,this._isEventsStarted=!1,this._gestureTimestamps=[],this._maxSensorSamples=0,this._sensorsTimestampDeltaInMillis=0,this._accelerometerList=[],this._gyroscopeList=[],this._linearAccelerometerList=[],this._rotationList=[],this.orientationImplementationFix=1,window.navigator.userAgent.match(/^.*(iPhone|iPad).*(OS\s[0-9]).*(CriOS|Version)\/[.0-9]*\sMobile.*$/i)&&(this.orientationImplementationFix=-1),this.accelerometerUpdateHandle=this.accelerometerUpdate.bind(this),this.orientationUpdateHandle=this.orientationUpdate.bind(this)}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"LAST_GESTURE_SENSOR_TIMEOUT_MILI_SECONDS",{get:function(){return 3e3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accX",{get:function(){return this._accX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accY",{get:function(){return this._accY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accZ",{get:function(){return this._accZ},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lienarAccX",{get:function(){return this._lienarAccX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lienarAccY",{get:function(){return this._lienarAccY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lienarAccZ",{get:function(){return this._lienarAccZ},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotX",{get:function(){return this._rotX},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotY",{get:function(){return this._rotY},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotZ",{get:function(){return this._rotZ},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxSensorSamples",{get:function(){return this._maxSensorSamples},set:function(e){this._maxSensorSamples=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sensorsTimestampDeltaInMillis",{get:function(){return this._sensorsTimestampDeltaInMillis},set:function(e){this._sensorsTimestampDeltaInMillis=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accelerometerList",{get:function(){return this.getRelevantSensorSamples(this._accelerometerList)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"gyroscopeList",{get:function(){return this.getRelevantSensorSamples(this._gyroscopeList)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"linearAccelerometerList",{get:function(){return this.getRelevantSensorSamples(this._linearAccelerometerList)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rotationList",{get:function(){return this._rotationList},enumerable:!0,configurable:!0}),t.prototype.getRelevantSensorSamples=function(e){if(0==e.length||this._sensorsTimestampDeltaInMillis<1||0==this._gestureTimestamps.length)return e;for(var t=new Map,n=null,r=0,o=0;o<e.length;o++)for(var i=0;i<this._gestureTimestamps.length;i++)(r=e[o].timestamp)>=(n=this._gestureTimestamps[i]).start-this._sensorsTimestampDeltaInMillis&&r<=n.end+this._sensorsTimestampDeltaInMillis&&t.set(e[o].timestamp,e[o]);return Array.from(t.values())},t.prototype.getRotationListCopy=function(){return this._rotationList?Array.from(this._rotationList):[]},t.prototype.stopEvents=function(){this._isEventsStarted&&(null!=window.DeviceMotionEvent&&window.removeEventListener("devicemotion",this.accelerometerUpdateHandle,!0),window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.orientationUpdateHandle,!0),this._isEventsStarted=!1,e.STLogger.debug("Sensor events stopped listening"))},t.prototype.startEvents=function(){this._isEventsStarted||(null!=window.DeviceMotionEvent?e.SecuredTouchUtil.addEventListener(window,"devicemotion",this.accelerometerUpdateHandle,!0):e.STLogger.warn("DeviceMotion not supported!"),window.DeviceOrientationEvent?e.SecuredTouchUtil.addEventListener(window,"deviceorientation",this.orientationUpdateHandle,!0):e.STLogger.warn("DeviceOrientation not supported!"),e.STLogger.debug("Sensor events start listening..."),this._isEventsStarted=!0)},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.STLogger.debug("Sensor events started..."))},t.prototype.stop=function(){this._isStarted&&(null!=window.DeviceMotionEvent&&window.removeEventListener("devicemotion",this.accelerometerUpdateHandle,!0),window.DeviceOrientationEvent&&window.removeEventListener("deviceorientation",this.orientationUpdateHandle,!0),this._isStarted=!1,e.STLogger.debug("Sensor events stopped"))},t.prototype.reset=function(){this._accelerometerList=[],this._gyroscopeList=[],this._linearAccelerometerList=[],this._rotationList=[],this._gestureTimestamps.length>0?this._gestureTimestamps=[this._gestureTimestamps[this._gestureTimestamps.length-1]]:this._gestureTimestamps=[],this._accX=0,this._accY=0,this._accZ=0,this._rotX=0,this._rotY=0,this._rotZ=0},t.prototype.onGesture=function(e){this._isEventsStarted||this.startEvents(),e.snapshots.length>1&&this._gestureTimestamps.push({start:e.snapshots[0].timestamp,end:e.snapshots[e.snapshots.length-1].timestamp})},t.prototype.puaseSensorsCollectionIfNoActivity=function(e){return(this._gestureTimestamps.length>0?this._gestureTimestamps[this._gestureTimestamps.length-1].end:0)>0?Math.abs(e-this._gestureTimestamps[this._gestureTimestamps.length-1].end)>this.LAST_GESTURE_SENSOR_TIMEOUT_MILI_SECONDS&&(this.stopEvents(),!0):(this.stopEvents(),!0)},t.prototype.getDeviceAcceleration=function(e){return e&&null!=e.x&&null!=e.y&&null!=e.z?e:null},t.prototype.accelerometerUpdate=function(t){try{if(this.puaseSensorsCollectionIfNoActivity(e.SecuredTouchUtil.now()))return;var n=this.getDeviceAcceleration(t.accelerationIncludingGravity);n&&(this._accX=n.x*this.orientationImplementationFix,this._accY=n.y*this.orientationImplementationFix,this._accZ=n.z,this.safeAddSensorSample({x:this._accX,y:this._accY,z:this._accX,timestamp:e.SecuredTouchUtil.now()},this._accelerometerList));var r=this.getDeviceAcceleration(t.acceleration);r&&(this._lienarAccX=r.x*this.orientationImplementationFix,this._lienarAccY=r.y*this.orientationImplementationFix,this._lienarAccZ=r.z,this.safeAddSensorSample({x:this._lienarAccX,y:this._lienarAccY,z:this._lienarAccZ,timestamp:e.SecuredTouchUtil.now()},this._linearAccelerometerList)),t.rotationRate&&null!=t.rotationRate.alpha&&null!=t.rotationRate.beta&&null!=t.rotationRate.gamma&&(this._rotX=t.rotationRate.alpha,this._rotY=t.rotationRate.beta,this._rotZ=t.rotationRate.gamma,this.safeAddSensorSample({x:this._rotX,y:this._rotY,z:this._rotZ,timestamp:e.SecuredTouchUtil.now()},this._gyroscopeList))}catch(t){e.STLogger.warn("error in accelerometer handler",t)}},t.prototype.orientationUpdate=function(t){try{if(this.puaseSensorsCollectionIfNoActivity(e.SecuredTouchUtil.now()))return;null!=t.alpha&&null!=t.beta&&null!=t.gamma&&this.safeAddSensorSample({x:t.alpha,y:t.beta,z:t.gamma,timestamp:e.SecuredTouchUtil.now()},this._rotationList)}catch(t){e.STLogger.warn("error in orientation handler",t)}},t.prototype.safeAddSensorSample=function(e,t){this.maxSensorSamples>t.length&&t.push(e)},t}();e.SecuredTouchSensors=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t;!function(e){e[e.Up=1]="Up",e[e.Down=2]="Down",e[e.Left=3]="Left",e[e.Right=4]="Right"}(t||(t={}));var n=function(){function n(t){this._isStarted=!1,this._onGesture=new e.EventDispatcher,this.touchSnapshotsMap=new Map,this.behavioralType=t,this.touchStartHandler=this.touchStart.bind(this),this.touchMoveHandler=this.touchMove.bind(this),this.touchEndHandler=this.touchEnd.bind(this),this.touchCancelHandler=this.touchCancel.bind(this)}return Object.defineProperty(n.prototype,"onGesture",{get:function(){return this._onGesture.asEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SCROLL_MIN_DURATION",{get:function(){return 500},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"SWIPE_MAX_ANGLE",{get:function(){return 45},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"TAP_MOVEMENT_TRESHOLD",{get:function(){return 10},enumerable:!0,configurable:!0}),n.prototype.clearTouchSnapshots=function(e){this.touchSnapshotsMap.delete(e)},n.prototype.getTouchSnapshots=function(e){var t;return this.touchSnapshotsMap.has(e)?t=this.touchSnapshotsMap.get(e):(t=[],this.touchSnapshotsMap.set(e,t)),t},n.prototype.isEmpty=function(){return 0===this.touchSnapshotsMap.size},n.prototype.start=function(){this._isStarted||(e.SecuredTouchUtil.addEventListener(document,"touchstart",this.touchStartHandler),e.SecuredTouchUtil.addEventListener(document,"touchmove",this.touchMoveHandler),e.SecuredTouchUtil.addEventListener(document,"touchend",this.touchEndHandler),e.SecuredTouchUtil.addEventListener(document,"touchcancel",this.touchCancelHandler),this._isStarted=!0)},n.prototype.stop=function(){this._isStarted&&(document.removeEventListener("touchstart",this.touchStartHandler),document.removeEventListener("touchmove",this.touchMoveHandler),document.removeEventListener("touchend",this.touchEndHandler),document.removeEventListener("touchcancel",this.touchCancelHandler),this._isStarted=!1)},n.prototype.touchStart=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;e.STLogger.debug("touchstart("+t.changedTouches.length+")",t),t.changedTouches.length>0&&this.pushSnapshot(t)}catch(t){e.STLogger.warn("error in touchStart handler",t)}},n.prototype.touchMove=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;e.STLogger.debug("touchmove("+t.changedTouches.length+")",t),t.changedTouches.length>0&&this.pushSnapshot(t)}catch(t){e.STLogger.warn("error in touchMove handler",t)}},n.prototype.touchEnd=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onGesture.dispatch(this,null);e.STLogger.debug("touchend("+t.changedTouches.length+")",t),this.gestureEnd(t)}catch(t){e.STLogger.warn("error in touchEnd handler",t)}},n.prototype.touchCancel=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onGesture.dispatch(this,null);e.STLogger.debug("touchcancel("+t.changedTouches.length+")",t),this.gestureEnd(t)}catch(t){e.STLogger.warn("error in touchCancel handler",t)}},n.prototype.gestureEnd=function(t){t.changedTouches.length>0&&this.pushSnapshot(t);for(var n=0;n<t.changedTouches.length;n++){var r=t.changedTouches.item(n),o=this.getTouchSnapshots(r.identifier);o.length>0&&(this.isTap(o)?this.dispatchGesture(e.GestureType.Tap,r.identifier):this.dispatchGesture(this.calcGestureType(o),r.identifier))}},n.prototype.calcGestureType=function(n){var r,o=this.getDirection(n);if(this.isFling(n))switch(o){case t.Up:r=e.GestureType.FlingUp;break;case t.Right:r=e.GestureType.FlingRight;break;case t.Down:r=e.GestureType.FlingDown;break;case t.Left:r=e.GestureType.FlingLeft}else if(this.isScroll(n))switch(o){case t.Up:r=e.GestureType.ScrollUp;break;case t.Right:r=e.GestureType.ScrollRight;break;case t.Down:r=e.GestureType.ScrollDown;break;case t.Left:r=e.GestureType.ScrollLeft}return r},n.prototype.pushSnapshot=function(t){if(t.changedTouches&&t.changedTouches.length>0)for(var n=0;n<t.changedTouches.length;n++){var r=t.changedTouches.item(n),o=r.radiusX&&r.radiusY?(r.radiusX+r.radiusY)/2:null,i=this.getTouchSnapshots(r.identifier);i.length<this.maxSnapshotsCount&&i.push({timestamp:e.SecuredTouchUtil.now(),relativeX:r.screenX,relativeY:r.screenY,x:r.clientX,y:r.clientY,pressure:r.force,size:o,xaccelerometer:e.SecuredTouchSensors.instance.accX,yaccelerometer:e.SecuredTouchSensors.instance.accY,zaccelerometer:e.SecuredTouchSensors.instance.accZ,xlinearaccelerometer:e.SecuredTouchSensors.instance.lienarAccX,ylinearaccelerometer:e.SecuredTouchSensors.instance.lienarAccY,zlinearaccelerometer:e.SecuredTouchSensors.instance.lienarAccZ,xrotation:e.SecuredTouchSensors.instance.rotX,yrotation:e.SecuredTouchSensors.instance.rotY,zrotation:e.SecuredTouchSensors.instance.rotZ,additionalData:{radiusX:r.radiusX,radiusY:r.radiusY,rotationAngle:r.rotationAngle,pageX:r.pageX,pageY:r.pageY,eventTimeStamp:t.timeStamp}})}},n.prototype.dispatchGesture=function(t,n){var r=this.touchSnapshotsMap.get(n)||[],o=e.SecuredTouchUtil.getDeviceOrientation();this._onGesture.dispatch(this,{timestamp:r.length>0?r[0].timestamp:0,counter:null,type:t,snapshots:r,vector:{},attributes:{},additionalData:{width:screen.width,height:screen.height,availWidth:screen.availWidth,availHeight:screen.availHeight,deviceOrientation:o.orientation,deviceAngle:o.angle,locationHref:e.SecuredTouchUtil.getCurrentLocationUrl(),windowOuterWidth:window.outerWidth,windowOuterHeight:window.outerHeight,windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight,bodyClientWidht:document.body.clientWidth,bodyClientHeight:document.body.clientHeight,devicePixelRatio:window.devicePixelRatio,clientDigest:e.SecuredTouchPointerConfig.instance.clientDigest,windowId:e.SecuredTouchSessionStorage.instance.windowId},identified:null}),this.clearTouchSnapshots(n)},n.prototype.isTap=function(e){var t=Math.abs(e[0].x-e[1].x),n=Math.abs(e[0].y-e[1].y);return 2==e.length&&t<this.TAP_MOVEMENT_TRESHOLD&&n<this.TAP_MOVEMENT_TRESHOLD},n.prototype.isFling=function(e){return e.length>1&&e[e.length-1].timestamp-e[0].timestamp<this.SCROLL_MIN_DURATION},n.prototype.isScroll=function(e){return e.length>1&&e[e.length-1].timestamp-e[0].timestamp>this.SCROLL_MIN_DURATION},n.prototype.getDirection=function(e){var n=this.calcAngle(e[0],e[e.length-1]);return n>90-this.SWIPE_MAX_ANGLE&&n<=90+this.SWIPE_MAX_ANGLE?t.Up:n>180-this.SWIPE_MAX_ANGLE&&n<=180+this.SWIPE_MAX_ANGLE?t.Right:n>270-this.SWIPE_MAX_ANGLE&&n<=270+this.SWIPE_MAX_ANGLE?t.Down:t.Left},n.prototype.calcAngle=function(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI+180},n}();e.SecuredTouchGestureEvents=n}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){}return e.isPrivateMode=function(){return new Promise((function(e){var t,n,r=function(){return e(!0)},o=function(){return e(!1)};try{if((n=navigator&&/(?=.*(opera|chrome)).*/i.test(navigator.userAgent)&&navigator.storage&&navigator.storage.estimate)&&navigator.storage.estimate().then((function(e){e.quota<12e7?r():o()})).catch((function(e){o()})),n)return;if(function(){var e="MozAppearance"in document.documentElement.style;if(e)if(null==indexedDB)r();else{var t=indexedDB.open("inPrivate");t.onsuccess=o,t.onerror=r}return e}())return;if(function(){var e=navigator&&navigator.userAgent&&navigator.userAgent.match(/Version\/([0-9\._]+).*Safari/);if(e){if(parseInt(e[1],10)<11)return function(){try{localStorage.length||(localStorage.setItem("inPrivate","0"),localStorage.removeItem("inPrivate")),o()}catch(e){navigator.cookieEnabled?r():o()}return!0}();try{window.openDatabase(null,null,null,null),o()}catch(e){r()}}return!!e}())return;if((t=!window.indexedDB&&(window.PointerEvent||window.MSPointerEvent))&&r(),t)return}catch(e){}return o()}))},e}();e.SecuredTouchIncognito=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t,n,r){this.logUrl="https://logs.securedtouch.com/log",this.enabledFactor=window._remoteLogEnabledFactor?Number(window._remoteLogEnabledFactor):.01,this.counter=0,this.enabledByHostingApp=!t.hasOwnProperty("externalLogsEnabled")||Boolean(t.externalLogsEnabled),this.applicationId=t.appId,this.pointerServerUrl=t.url,this.clientVersion=r,this.stMetadata=n,null==e.SecuredTouchSessionStorage.instance.remoteLogEnabledByFactor&&(e.SecuredTouchSessionStorage.instance.remoteLogEnabledByFactor=Math.random()<=this.enabledFactor)}return t.prototype.sendRemoteLog=function(t,n,r){if(this.enabledByHostingApp&&e.SecuredTouchPointerConfig.instance.remoteLogsEnabled&&e.SecuredTouchSessionStorage.instance.remoteLogEnabledByFactor&&this.counter<e.SecuredTouchPointerConfig.instance.maxRemoteLogs){var o={appId:this.applicationId,instanceUUID:e.SecuredTouchSessionStorage.instance.windowId,pointerServerUrl:this.pointerServerUrl,clientVersion:this.clientVersion,packageName:e.SecuredTouchUtil.getHostnameFromRegex(location.href),deviceType:this.stMetadata.deviceType,osName:this.stMetadata.osName,osVersion:this.stMetadata.osVersion,browserName:this.stMetadata.browserName,browserVersion:this.stMetadata.browserVersion,location:location.href,logsCount:this.counter++,errorCode:t,message:n,errorReason:e.SecuredTouchUtil.getErrorAsString(r),enabledFactor:this.enabledFactor};this.postLog(o).catch((function(t){e.STLogger.warn("Failed to send log to SecuredTouch",t)}))}},t.prototype.postLog=function(e){var t=this;return new Promise((function(n,r){try{var o=new XMLHttpRequest;o.open("POST",t.logUrl,!0),o.timeout=1e4,o.setRequestHeader("Content-Type","application/json"),o.setRequestHeader("Accept","application/json"),o.onload=function(){o.status>=200&&o.status<400?n():r({status:o.status,statsText:o.statusText})},o.ontimeout=function(e){r(e)},o.onerror=function(e){r({status:o.status,statsText:o.statusText})};var i=JSON.stringify(e),a=void 0;try{a=Boolean(_securedTouchDependencies.pako)&&!window["unzip-securedtouch"]}catch(e){a=!1}a?(o.setRequestHeader("Content-Encoding","gzip"),o.send(_securedTouchDependencies.pako.gzip(i))):o.send(i)}catch(e){r(e)}}))},t}();e.SecuredTouchRemoteLogger=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function e(){}return Object.defineProperty(e,"E_1000",{get:function(){return 1e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_1001",{get:function(){return 1001},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_1002",{get:function(){return 1002},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_2000",{get:function(){return 2e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_3000",{get:function(){return 3e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_4000",{get:function(){return 4e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_4001",{get:function(){return 4001},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_5000",{get:function(){return 5e3},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_5001",{get:function(){return 5001},enumerable:!0,configurable:!0}),Object.defineProperty(e,"E_6000",{get:function(){return 6e3},enumerable:!0,configurable:!0}),e}();e.SecuredTouchErrorCodes=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(e){this.sessionData=e,this.propertyBlackList=new Set,this.hasMicrophone=null,this.hasSpeakers=null,this.hasWebcam=null,this.isBatterySupported=null,this.batteryLevel=null,this.batteryCharging=null,this.batteryChargingTime=null,this.batteryDischargingTime=null,this.isIphoneOrIPad=!1,this.gpsSupported=null,this.fingerPrintComponentKeys=new Set(["navigatorPlatform","webdriver","language","colorDepth","deviceMemory","pixelRatio","hardwareConcurrency","screenResolution","availableScreenResolution","timezoneOffset","timezone","sessionStorage","localStorage","indexedDb","addBehavior","openDatabase","cpuClass","platform","doNotTrack","canvas","webgl","webglVendorAndRenderer","adBlock","hasLiedLanguages","hasLiedResolution","hasLiedOs","hasLiedBrowser","touchSupport","fonts","fontsFlash","audio"]),this.webGlStatus=-1,this.numberOfVideoDevices=0,this.numberOfAudioDevices=0,this.webRtcIps=new Map,this.webRtcUrl=null,this.isDelayPassed=!1,this.isAutoDeleteCookie=!1,(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i))&&(this.isIphoneOrIPad=!0)}return Object.defineProperty(t.prototype,"WEB_GL_ID",{get:function(){return this.isIphoneOrIPad,""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPS",{get:function(){if(!this.isIphoneOrIPad)return 0;var e=this.sessionData.ops;return e||(e=this.getOps(),this.sessionData.ops=e),e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceCategory",{get:function(){return this.userAgentData&&this.userAgentData.device?this.userAgentData.device.type:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"browserName",{get:function(){return this.userAgentData&&this.userAgentData.browser&&this.userAgentData.browser.name?this.userAgentData.browser.name.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"browserVersion",{get:function(){return this.userAgentData&&this.userAgentData.browser&&this.userAgentData.browser.version?this.userAgentData.browser.version.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"osName",{get:function(){return this.userAgentData&&this.userAgentData.os&&this.userAgentData.os.name?this.userAgentData.os.name.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"osVersion",{get:function(){return this.userAgentData&&this.userAgentData.os&&this.userAgentData.os.version?this.userAgentData.os.version.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceModel",{get:function(){return this.userAgentData&&this.userAgentData.device&&this.userAgentData.device.model?this.userAgentData.device.model.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceVendor",{get:function(){return this.userAgentData&&this.userAgentData.device&&this.userAgentData.device.vendor?this.userAgentData.device.vendor.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"engineName",{get:function(){return this.userAgentData&&this.userAgentData.engine&&this.userAgentData.engine.name?this.userAgentData.engine.name.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"engineVersion",{get:function(){return this.userAgentData&&this.userAgentData.engine&&this.userAgentData.engine.version?this.userAgentData.engine.version.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cpuArchitecture",{get:function(){return this.userAgentData&&this.userAgentData.cpu&&this.userAgentData.cpu.architecture?this.userAgentData.cpu.architecture.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"desktopType",{get:function(){var e=this.browserName;this.browserVersion&&(e=e+"("+this.browserVersion+")");var t=this.osName;this.osVersion&&(t=t+"("+this.osVersion+")");var n=e&&t?e+"-"+t:e||t;return n?n.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mobileType",{get:function(){var e=this.deviceModel,t=this.deviceVendor,n=e&&t?e+" "+t:e||t;return n?n.trim():""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"deviceType",{get:function(){return this._deviceType||(e.SecuredTouchUtil.isMobile?this._deviceType=this.mobileType||this.desktopType||t.UNKNOWN_DEVICE_TYPE:this._deviceType=this.desktopType||this.mobileType||t.UNKNOWN_DEVICE_TYPE),this._deviceType},enumerable:!0,configurable:!0}),t.prototype.initUAParser=function(){try{var t=new _securedTouchDependencies.UAParser;t.setUA(navigator.userAgent),this.userAgentData=t.getResult()}catch(t){e.STLogger.warn("UAParser failure",t)}},t.prototype.setPropertyBlackList=function(e){this.propertyBlackList=new Set(null!=e?e:[])},t.prototype.bluetoothInit=function(){var t=this;return new Promise((function(n,r){navigator.bluetooth?(t.bluetoothSupported=!0,n()):(e.STLogger.debug("Bluetooth not supported!"),n())}))},t.prototype.batteryInit=function(){var t=this,n=this;return new Promise((function(r,o){navigator.getBattery?(t.isBatterySupported=!0,navigator.getBattery().then((function(e){e&&(n.batteryLevel=e.level,n.batteryCharging=e.charging,n.batteryChargingTime=e.chargingTime,n.batteryDischargingTime=e.dischargingTime),r()})).catch((function(t){e.STLogger.warn("Battery "+t),r()}))):(e.STLogger.debug("Battery not supported!"),r())}))},t.prototype.enumerateDevicesEnabled=function(){var t=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);return!e.SecuredTouchUtil.inIframe()||!t},t.prototype.audioIntVideoInit=function(){var t=this,n=this;return new Promise((function(r,o){return t.enumerateDevicesEnabled()?navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?void navigator.mediaDevices.enumerateDevices().then((function(e){e.forEach((function(e){e.kind&&("audioinput"==e.kind.toLowerCase()?(n.hasMicrophone=!0,n.numberOfAudioDevices++):"videoinput"==e.kind.toLowerCase()?(n.hasWebcam=!0,n.numberOfVideoDevices++):"audiooutput"==e.kind.toLowerCase()&&(n.hasSpeakers=!0,n.numberOfAudioDevices++))})),r()})).catch((function(t){e.STLogger.warn("enumerateDevices failed",t),r()})):(e.STLogger.debug("enumerateDevices() not supported."),void r()):(e.STLogger.debug("enumerateDevices() cannot run within safari iframe"),void r())}))},t.prototype.getRTCPeerConnection=function(){var e=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!e){var t=window["iframe.contentWindow"];t&&(e=t.RTCPeerConnection||t.mozRTCPeerConnection||t.webkitRTCPeerConnection)}return e},t.prototype.collectWebRtc=function(){var e=this;try{var t={},n=new(this.getRTCPeerConnection())({iceServers:[{urls:this.webRtcUrl.trim()}]},{optional:[{RtpDataChannels:!0}]});n.onicecandidate=function(n){if(n.candidate){var r=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(n.candidate.candidate)[1];void 0===t[r]&&(n.candidate.candidate.indexOf("host")>0?e.webRtcIps.set("WEB_RTC_HOST_IP",r):n.candidate.candidate.indexOf("srflx")>0&&e.webRtcIps.set("WEB_RTC_SRFLX_IP",r)),t[r]=!0}},n.createDataChannel(""),n.createOffer((function(e){n.setLocalDescription(e,(function(){}),(function(){}))}),(function(){}))}catch(e){}},t.prototype.getDeviceMetadata=function(t){return __awaiter(this,void 0,void 0,(function(){var n,r,o,i,a,c;return __generator(this,(function(s){switch(s.label){case 0:return e.SecuredTouchMetrics.instance.metadata.onCalcStarted(),this.gpsSupported=null!=navigator.geolocation,r=[this.getFingerPrint().catch((function(n){e.STLogger.warn("failed to get fingerprint info",n),t&&t.sendRemoteLog(e.SecuredTouchErrorCodes.E_4001,"getFingerPrint failed",n)})),this.getPrivateMode().catch((function(t){return e.STLogger.warn("failed to get incognito info",t)})),e.SecuredTouchIncognito.isPrivateMode().catch((function(t){return e.STLogger.warn("failed to get private mode info",t)})),this.getPermissionsMetadata().catch((function(t){return e.STLogger.warn("failed to get permissions info",t)})),this.bluetoothInit().catch((function(t){return e.STLogger.warn("failed to get bluetooth info",t)})),this.audioIntVideoInit().catch((function(t){return e.STLogger.warn("failed to get audio-video info",t)})),this.batteryInit().catch((function(t){return e.STLogger.warn("failed to get battery info",t)}))],[4,Promise.all(r)];case 1:return n=s.sent(),this.fingerPrint=n[0],this.isPrivateMode=n[1],this.isPrivateModeV2=n[2],this.permissions=n[3],o={ops:this.OPS,webGl:this.WEB_GL_ID,devicePixelRatio:window.devicePixelRatio,screenWidth:window.screen.width,screenHeight:window.screen.height},e.SecuredTouchUtil.extendPrimitiveValues(o,screen,!1),i=(new Date).getTime(),c={deviceType:this.deviceType,deviceId:this.sessionData.getDeviceCredentials().deviceId,osVersion:(this.osName+" "+this.osVersion).trim()||"",display:o,sensorsMetadata:this.getSensorsMetadata()},[4,this.getIdentificationMetadata()];case 2:return c.identificationMetadata=s.sent(),c.ioMetadata=this.getIoMetadata(),c.baseTimestamp=i,c.epochTimeInMillis=i,a=c,e.SecuredTouchMetrics.instance.metadata.onCalcEnded(),[2,a]}}))}))},t.prototype.getFingerPrint=function(){return __awaiter(this,void 0,void 0,(function(){var t,n,r,o=this;return __generator(this,(function(i){switch(i.label){case 0:return t=this,n=new Promise((function(n,r){try{var i={excludes:{enumerateDevices:!o.enumerateDevicesEnabled(),pixelRatio:!0,openDatabase:!0,addBehavior:!0,fonts:!0,fontsFlash:!0,adBlock:!0}};_securedTouchDependencies.Fingerprint2.get(i,(function(o){try{var i=o.map((function(e){return e.value})),a=_securedTouchDependencies.Fingerprint2.x64hash128(i.join(""),31);t.fingerPrintComponents=o,n(a)}catch(t){e.STLogger.warn("Fingerprint callback failure "+t),r("Fingerprint callback failure "+t)}}))}catch(t){e.STLogger.warn("Failed to get FingerPrint "+t),r("Failed to get FingerPrint "+t)}})),r=new Promise((function(t,n){return __awaiter(o,void 0,void 0,(function(){return __generator(this,(function(t){switch(t.label){case 0:return[4,e.SecuredTouchUtil.delay(2500)];case 1:return t.sent(),n("Fingerprint timeout"),[2]}}))}))})),[4,Promise.race([n,r])];case 1:return[2,i.sent()]}}))}))},t.prototype.getSensorsMetadata=function(){var e={};return this.flatAndAddMetadata(e,"DEDVCE_LIGHT_SUPPORTED",(function(){return"ondevicelight"in window})),this.flatAndAddMetadata(e,"IS_TOUCH_DEVICE",(function(){return"ontouchstart"in window})),window.DeviceMotionEvent||this.flatAndAddMetadata(e,"ACCELEROMETER_SUPPORTED",(function(){return!1})),window.DeviceOrientationEvent||this.flatAndAddMetadata(e,"GYROSCOPE_SUPPORTED",(function(){return!1})),this.flatAndAddMetadata(e,"PROXIMITY_SUPPORTED",(function(){return"ondeviceproximity"in window})),e},t.prototype.getIdentificationMetadata=function(){return __awaiter(this,void 0,void 0,(function(){var t,n,r,o,i,a=this;return __generator(this,(function(c){switch(c.label){case 0:return t=this,n={},this.flatAndAddMetadata(n,"FINGER_PRINT",(function(){return a.fingerPrint})),this.userAgentData&&(this.flatAndAddMetadata(n,"OS_NAME",(function(){return a.osName})),this.flatAndAddMetadata(n,"OS_VERSION",(function(){return a.osVersion}))),this.userAgentData&&(this.flatAndAddMetadata(n,"DEVICE_MODEL",(function(){return a.deviceModel})),this.flatAndAddMetadata(n,"DEVICE_VENDOR",(function(){return a.deviceVendor}))),this.userAgentData&&(this.flatAndAddMetadata(n,"BROWSER_ENGINE_NAME",(function(){return a.engineName})),this.flatAndAddMetadata(n,"BROWSER_ENGINE_VERSION",(function(){return a.engineVersion}))),this.userAgentData&&this.flatAndAddMetadata(n,"CPU_ARCHITECTURE",(function(){return a.cpuArchitecture})),this.flatAndAddMetadata(n,"NAVIGATOR_VENDOR",(function(){return navigator.vendor})),this.flatAndAddMetadata(n,"NAVIGATOR_PLUGINS_LENGTH",(function(){return navigator.plugins?navigator.plugins.length:null})),this.flatAndAddMetadata(n,"NAVIGATOR_LANGUAGE",(function(){return navigator.language})),this.flatAndAddMetadata(n,"NAVIGATOR_LANGUAGES",(function(){return navigator.languages})),this.flatAndAddMetadata(n,"NAVIGATOR_MAX_TOUCH_POINTS",(function(){return navigator.maxTouchPoints||navigator.msMaxTouchPoints})),this.flatAndAddMetadata(n,"NAVIGATOR_POINTER_ENABLED",(function(){return navigator.pointerEnabled||navigator.msPointerEnabled})),this.flatAndAddMetadata(n,"NAVIGATOR_WEB_DRIVER",(function(){return navigator.webdriver})),this.flatAndAddMetadata(n,"NAVIGATOR_HARDWARE_CONCURRENCY",(function(){return navigator.hardwareConcurrency})),this.flatAndAddMetadata(n,"NAVIGATOR_VIBRATE",(function(){return null!=navigator.vibrate})),this.flatAndAddMetadata(n,"PUSH_NOTIFICATIONS_SUPPORTED",(function(){return"Notification"in window})),this.flatAndAddMetadata(n,"NAVIGATOR_APP_CODE_NAME",(function(){return navigator.appCodeName})),this.flatAndAddMetadata(n,"NAVIGATOR_APP_NAME",(function(){return navigator.appName})),this.flatAndAddMetadata(n,"NAVIGATOR_APP_VERSION",(function(){return navigator.appVersion})),this.flatAndAddMetadata(n,"NAVIGATOR_ON_LINE",(function(){return navigator.onLine})),this.flatAndAddMetadata(n,"NAVIGATOR_PLATFORM",(function(){return navigator.platform})),this.flatAndAddMetadata(n,"NAVIGATOR_PRODUCT",(function(){return navigator.product})),this.flatAndAddMetadata(n,"NAVIGATOR_USER_AGENT",(function(){return navigator.userAgent})),this.propertyBlackList.has("modernizr")?[3,2]:[4,this.safeAddModernizrFeatures(n)];case 1:c.sent(),c.label=2;case 2:for(window._ST_PING?this.flatAndAddMetadata(n,"JS_CHALLENGE",(function(){return window._ST_PING})):this.flatAndAddMetadata(n,"JS_CHALLENGE",(function(){return"unknown"})),this.fingerPrintComponents&&this.fingerPrintComponents.forEach((function(e,r){"fonts"==e.key?a.flatAndAddMetadata(n,"JS_FONTS",(function(){return e.value.length})):"webgl"==e.key?a.flatAndAddMetadata(n,"IS_WEBGL",(function(){return null!=e.value})):"canvas"==e.key?a.flatAndAddMetadata(n,"IS_CANVAS",(function(){return null!=e.value})):"screenResolution"==e.key&&e.value&&e.value.length?a.flatAndAddMetadata(n,"RESOLUTION",(function(){return e.value.join(",")})):"availableScreenResolution"==e.key&&e.value&&e.value.length?a.flatAndAddMetadata(n,"AVAILABLE_RESOLUTION",(function(){return e.value.join(",")})):"touchSupport"==e.key&&e.value&&e.value.length?a.flatAndAddMetadata(n,"TOUCH_SUPPORT",(function(){return e.value.join(",")})):"audio"==e.key&&e.value&&e.value.length?a.flatAndAddMetadata(n,"AUDIO_FINGERPRINT",(function(){return e.value})):"indexedDb"==e.key&&e.value&&e.value.length?a.flatAndAddMetadata(n,"INDEXEDDB_FINGERPRINT",(function(){return e.value})):t.fingerPrintComponentKeys.has(e.key)&&null!=e.key&&a.flatAndAddMetadata(n,e.key.toUpperCase(),(function(){return e.value}))})),this.flatAndAddMetadata(n,"IS_INCOGNITO",(function(){return a.isPrivateMode})),this.flatAndAddMetadata(n,"IS_PRIVATE_MODE",(function(){return a.isPrivateModeV2})),this.flatAndAddMetadata(n,"IS_WEB_GLSTATUS",(function(){return a.webGlStatus})),r={selenium:navigator.webdriver||e.SecuredTouchUtil.getAttribute(window.document.documentElement,"webdriver")||"",phantomjs:{_phantom:window._phantom||"",__phantomas:window.__phantomas||"",callPhantom:window.callPhantom||""},nodejs:{Buffer:window.Buffer||""},couchjs:{emit:window.emit||""},rhino:{spawn:window.spawn||""},chromium:{domAutomationController:window.domAutomationController||"",domAutomation:window.domAutomation||""},outerWidth:window.outerWidth,outerHeight:window.outerHeight},this.flatAndAddMetadata(n,"HEADLESS",(function(){return r})),this.flatAndAddMetadata(n,"REF_LINK",(function(){return document.referrer})),o={length:navigator.plugins.length,details:[]},i=0;i<o.length;i++)o.details.push({name:navigator.plugins[i].name,version:navigator.plugins[i].version,filename:navigator.plugins[i].filename});return this.flatAndAddMetadata(n,"PLUGINS",(function(){return o})),this.flatAndAddMetadata(n,"AUDIO",(function(){return a.numberOfAudioDevices})),this.flatAndAddMetadata(n,"VIDEO",(function(){return a.numberOfVideoDevices})),window.performance&&window.performance.memory&&(this.flatAndAddMetadata(n,"MEMORY_HEAP_SIZE_LIMIT",(function(){return window.performance.memory.jsHeapSizeLimit})),this.flatAndAddMetadata(n,"MEMORY_TOTAL_HEAP_SIZE",(function(){return window.performance.memory.totalJSHeapSize})),this.flatAndAddMetadata(n,"MEMORY_USED_HEAP_SIZE",(function(){return window.performance.memory.usedJSHeapSize}))),this.flatAndAddMetadata(n,"IS_ACCEPT_COOKIES",(function(){return navigator.cookieEnabled})),this.flatAndAddMetadata(n,"SELENIUM_ENV",(function(){return a.detectSelenium()})),this.flatAndAddMetadata(n,"WEB_RTC_ENABLED",(function(){return!!a.getRTCPeerConnection()})),this.webRtcUrl&&this.webRtcUrl.length>0&&(this.collectWebRtc(),this.webRtcIps.forEach((function(e,t){null!=t&&null!=e&&a.flatAndAddMetadata(n,t,(function(){return e}))})),this.webRtcIps.clear()),[2,n]}}))}))},t.prototype.getPermissionsMetadata=function(){return __awaiter(this,void 0,void 0,(function(){var t,n,r,o,i,a;return __generator(this,(function(c){switch(c.label){case 0:if(t={},n=["accelerometer","accessibility-events","ambient-light-sensor","background-sync","camera","clipboard-read","clipboard-write","geolocation","gyroscope","magnetometer","microphone","midi","notifications","payment-handler","persistent-storage","push"],r=[],navigator.permissions)for(i in o=function(e){var o=n[e];r.push(navigator.permissions.query({name:o}).then((function(e){t[o]=e.state})).catch((function(e){})))},n)o(i);c.label=1;case 1:return c.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return c.sent(),[3,4];case 3:return a=c.sent(),e.STLogger.warn(a),[3,4];case 4:return[2,t]}}))}))},t.prototype.safeAddModernizrFeatures=function(e){return __awaiter(this,void 0,void 0,(function(){var t,n,r,o,i;return __generator(this,(function(a){switch(a.label){case 0:return _securedTouchDependencies.evaluateModernizr(),t=this,n=Modernizr.prefixed,r=Modernizr.hasEvent,this.flatAndAddMetadata(e,"ambient_light",(function(){return Modernizr.ambientlight})),this.flatAndAddMetadata(e,"application_cache",(function(){return Modernizr.applicationcache})),this.flatAndAddMetadata(e,"battery_api",(function(){return!!n("battery",navigator)||!!n("getBattery",navigator)})),this.flatAndAddMetadata(e,"blob_constructor",(function(){return Modernizr.blobconstructor})),this.flatAndAddMetadata(e,"context_menu",(function(){return Modernizr.contextmenu})),this.flatAndAddMetadata(e,"cors",(function(){return Modernizr.cors})),this.flatAndAddMetadata(e,"cryptography",(function(){return Modernizr.cryptography})),this.flatAndAddMetadata(e,"custom_elements",(function(){return Modernizr.customelements})),this.flatAndAddMetadata(e,"custom_protocol_handler",(function(){return Modernizr.customprotocolhandler})),this.flatAndAddMetadata(e,"custom_event",(function(){return Modernizr.customevent})),this.flatAndAddMetadata(e,"dart",(function(){return Modernizr.dart})),this.flatAndAddMetadata(e,"data_view",(function(){return Modernizr.dataview})),this.flatAndAddMetadata(e,"event_listener",(function(){return Modernizr.eventlistener})),[4,this.safeModernizrOn("exiforientation")];case 1:return o=a.sent(),t.flatAndAddMetadata(e,"exif_orientation",(function(){return o})),this.flatAndAddMetadata(e,"force_touch",(function(){return Modernizr.forcetouch})),Modernizr.forcetouch&&(this.flatAndAddMetadata(e,"force_touch.mouse_force_will_begin",(function(){return r(n("mouseforcewillbegin",window,!1),window)})),this.flatAndAddMetadata(e,"force_touch.webkit_force_at_mouse_down",(function(){return MouseEvent.WEBKIT_FORCE_AT_MOUSE_DOWN})),this.flatAndAddMetadata(e,"force_touch.webkit_force_at_force_mouse_down",(function(){return MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN}))),this.flatAndAddMetadata(e,"full_screen",(function(){return Modernizr.fullscreen})),this.flatAndAddMetadata(e,"game_pads",(function(){return Modernizr.gamepads})),this.flatAndAddMetadata(e,"geo_location",(function(){return Modernizr.geolocation})),this.flatAndAddMetadata(e,"ie8compat",(function(){return Modernizr.ie8compat})),[4,this.safeModernizrOn("indexeddb")];case 2:return i=a.sent(),t.flatAndAddMetadata(e,"indexed_db",(function(){return i})),this.flatAndAddMetadata(e,"indexed_db_blob",(function(){return Modernizr.indexeddbblob})),this.flatAndAddMetadata(e,"internationalization",(function(){return Modernizr.intl})),this.flatAndAddMetadata(e,"json",(function(){return Modernizr.json})),this.flatAndAddMetadata(e,"ligatures",(function(){return Modernizr.ligatures})),this.flatAndAddMetadata(e,"media_source",(function(){return"MediaSource"in window})),this.flatAndAddMetadata(e,"message_channel",(function(){return Modernizr.messagechannel})),this.flatAndAddMetadata(e,"notification",(function(){return Modernizr.notification})),this.flatAndAddMetadata(e,"page_visibility",(function(){return Modernizr.pagevisibility})),this.flatAndAddMetadata(e,"performance",(function(){return Modernizr.performance})),this.flatAndAddMetadata(e,"pointer_events",(function(){return Modernizr.pointerevents})),this.flatAndAddMetadata(e,"pointer_lock",(function(){return Modernizr.pointerlock})),this.flatAndAddMetadata(e,"proximity",(function(){return Modernizr.proximity})),this.flatAndAddMetadata(e,"query_selector",(function(){return Modernizr.queryselector})),this.flatAndAddMetadata(e,"quota_management",(function(){return Modernizr.quotamanagement})),this.flatAndAddMetadata(e,"request_animation_frame",(function(){return Modernizr.requestanimationframe})),this.flatAndAddMetadata(e,"service_worker",(function(){return Modernizr.serviceworker})),this.flatAndAddMetadata(e,"touch_events",(function(){return Modernizr.touchevents})),this.flatAndAddMetadata(e,"typed_arrays",(function(){return Modernizr.typedarrays})),this.flatAndAddMetadata(e,"vibrate",(function(){return Modernizr.vibrate})),this.flatAndAddMetadata(e,"web_gl",(function(){return Modernizr.webgl})),this.flatAndAddMetadata(e,"web_sockets",(function(){return Modernizr.websockets})),this.flatAndAddMetadata(e,"x_domain_request",(function(){return Modernizr.xdomainrequest})),[2]}}))}))},t.prototype.getIoMetadata=function(){var t=this,n={},r=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return this.flatAndAddMetadata(n,"NETWORK_TYPE",(function(){return r?r.type:null})),this.flatAndAddMetadata(n,"NETWORK_DOWNLOAD_MAX",(function(){return r?r.downlinkMax:null})),this.flatAndAddMetadata(n,"BLUTOOTH_SUPPORTED",(function(){return t.bluetoothSupported})),this.flatAndAddMetadata(n,"BLUTOOTH_DEVICE_NAME",(function(){return t.bluetoothDeviceName})),this.flatAndAddMetadata(n,"BLUTOOTH_DEVICE_ID",(function(){return t.bluetoothDeviceId})),this.flatAndAddMetadata(n,"BLUTOOTH_IS_CONNECTED",(function(){return t.bluetoothIsConnected})),this.flatAndAddMetadata(n,"HAS_SPEAKERS",(function(){return t.hasSpeakers})),this.flatAndAddMetadata(n,"HAS_MICROPHONE",(function(){return t.hasMicrophone})),this.flatAndAddMetadata(n,"HAS_CAMERA",(function(){return t.hasWebcam})),this.flatAndAddMetadata(n,"BATTERY_SUPPORTED",(function(){return t.isBatterySupported})),this.flatAndAddMetadata(n,"BATTERY_LEVEL",(function(){return t.batteryLevel})),this.flatAndAddMetadata(n,"BATTERY_CHARGING",(function(){return t.batteryCharging})),this.flatAndAddMetadata(n,"BATTERY_CHARGING_TIME",(function(){return t.batteryChargingTime})),this.flatAndAddMetadata(n,"BATTERY_DISCHARGING_TIME",(function(){return t.batteryDischargingTime})),this.flatAndAddMetadata(n,"GPS_SUPPORTED",(function(){return t.gpsSupported})),this.flatAndAddMetadata(n,"IS_MOBILE",(function(){return e.SecuredTouchUtil.isMobile})),this.flatAndAddMetadata(n,"HAS_TOUCH",(function(){return"ontouchstart"in document.documentElement})),this.flatAndAddMetadata(n,"PERMISSIONS",(function(){return t.permissions})),n},t.prototype.safeAddMetadata=function(t,n,r){try{null==n||null==r||this.propertyBlackList.has(n)||(t[n]=r)}catch(t){e.STLogger.warn("Failed to add "+n+" -> "+r+", "+t)}},t.prototype.safeModernizrOn=function(t){return __awaiter(this,void 0,void 0,(function(){var n,r;return __generator(this,(function(o){switch(o.label){case 0:return n=new Promise((function(n){try{Modernizr.on(t,(function(e){n(e)}))}catch(r){n(null),e.STLogger.warn("Modernizr.on Failed with feature "+t,r)}})),r=e.SecuredTouchUtil.delay(1e3).then((function(){return null})),[4,Promise.race([n,r])];case 1:return[2,o.sent()]}}))}))},t.prototype.flatAndAddMetadata=function(t,n,r){try{var o=r();if("object"==typeof o&&null!==o){var i=e.SecuredTouchUtil.flatten(o);for(var a in i)this.safeAddMetadata(t,n+"."+a,i[a])}else this.safeAddMetadata(t,n,o)}catch(t){e.STLogger.warn("Failed to add "+n,t)}},t.prototype.getOps=function(){var t,n=new Date,r=0;do{r++,t=(new Date).getTime()-n.getTime(),Math.sqrt(r*Math.random())}while(t<500);var o=r/t;return e.STLogger.debug("Ops : "+o),o},t.prototype.getWebGl=function(){var t="",n="";try{var r=document.createElement("canvas"),o=r.getContext("webgl")?r.getContext("webgl"):r.getContext("experimental-webgl")?r.getContext("experimental-webgl"):r.getContext("moz-webgl")?r.getContext("moz-webgl"):r.getContext("webkit-3d");if(o){var i=o.getExtension("WEBGL_debug_renderer_info");t=o.getParameter(o.VERSION).toLowerCase(),i&&(e.STLogger.debug("WegGl debugInfo: "+i),n=o.getParameter(i.UNMASKED_RENDERER_WEBGL).toLowerCase()),this.webGlStatus=1}else e.STLogger.warn("WegGl failure, context is null"),this.webGlStatus=0}catch(t){e.STLogger.warn("WegGl discovery failure"+t)}return e.STLogger.debug("WegGl : "+n||!1),n||t},t.prototype.getPrivateMode=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){return e=this,[2,new Promise((function(t,n){e.detectPrivateMode((function(e){t(e)}))}))]}))}))},t.prototype.detectPrivateMode=function(e){var t,n=e.bind(null,!0),r=e.bind(null,!1);window.webkitRequestFileSystem?window.webkitRequestFileSystem(0,0,r,n):"MozAppearance"in document.documentElement.style?((t=indexedDB.open("test")).onerror=n,t.onsuccess=r):/constructor/i.test(window.HTMLElement)||window.safari?function(){try{localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),r()}catch(e){navigator.cookieEnabled?n():r()}}():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?r():n()},t.prototype.detectSelenium=function(){for(var t=0,n=["_phantom","__nightmare","_selenium","callPhantom","callSelenium","_Selenium_IDE_Recorder"];t<n.length;t++)if(window[n[t]])return!0;for(var r=0,o=["__webdriver_evaluate","__selenium_evaluate","__webdriver_script_function","__webdriver_script_func","__webdriver_script_fn","__fxdriver_evaluate","__driver_unwrapped","__webdriver_unwrapped","__driver_evaluate","__selenium_unwrapped","__fxdriver_unwrapped"];r<o.length;r++)if(document[o[r]])return!0;return!(!window.external||!window.external.toString()||-1==window.external.toString().indexOf("Sequentum"))||!!(navigator.webdriver||e.SecuredTouchUtil.getAttribute(window.document.documentElement,"selenium")||e.SecuredTouchUtil.getAttribute(window.document.documentElement,"webdriver")||e.SecuredTouchUtil.getAttribute(window.document.documentElement,"driver"))},t.UNKNOWN_DEVICE_TYPE="unknown",t}();e.SecuredTouchMeatadata=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this._tags=[],this._blackListRegex=""}return Object.defineProperty(t,"instance",{get:function(){return t._instance||(t._instance=new t),t._instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tags",{get:function(){return this._tags},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"blackListRegex",{set:function(e){this._blackListRegex=e||""},enumerable:!0,configurable:!0}),t.prototype.getTagsCopy=function(){return this._tags?Array.from(this._tags):[]},t.prototype.setTag=function(t,n){var r=!1;if(t){var o=n?t+":"+n:t;this._blackListRegex&&t.match(this._blackListRegex)?e.STLogger.info("Tag "+t+" is blacklisted"):(this._tags.push({name:o,timestamp:Date.now()}),r=!0,e.STLogger.info("Add tag: "+o))}return r},t.prototype.reset=function(){this._tags=[]},t}();e.SecuredTouchTags=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t;!function(e){e.tag="TAG",e.refreshUser="REFRESH_USER",e.indirect="INDIRECT",e.flush="FLUSH",e.appSession="APP_SESSION_ID"}(t=e.ForceReason||(e.ForceReason={}));var n=function(){function n(t,n){this.dataRepository=t,this.sessionData=n,this._retryNumber=1,this._pauseTimestamp=0,this.errorProcessed=!1,this.started=!1,this.currentRequestingDigest=null,this.startTasks=[],this.modes={},this.lastRetryTimestamp=Date.now(),this.lastPayloadTimestamp=Date.now(),this.stMetadata=new e.SecuredTouchMeatadata(n)}return Object.defineProperty(n,"MAX_NUMBER_OF_TRIES",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(n,"INIT_PARAM_UPDATE_INTERVAL_MS",{get:function(){return 5184e5},enumerable:!0,configurable:!0}),Object.defineProperty(n,"RETRY_UPDATE_INTERVAL_MS",{get:function(){return 6e4},enumerable:!0,configurable:!0}),Object.defineProperty(n,"RETRY_INTERVAL_MS",{get:function(){return 15e3},enumerable:!0,configurable:!0}),Object.defineProperty(n,"START_INTERACTION_INTERVAL_MS",{get:function(){return 12e4},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"initST",{get:function(){return this.sessionData.initST},enumerable:!0,configurable:!0}),n.prototype.isRunning=function(e){return 0===this._pauseTimestamp||Boolean(e&&e<=this._pauseTimestamp)},n.instance=function(){if(!this._instance){var t=new e.STServer,n=e.SecuredTouchSessionStorage.instance;if(!document.body)throw e.STLogger.error("Securedtouch can be started only after DOM Ready!"),"SecuredTouch can be started only after DOM Ready!";this._instance=new e.SecuredTouchClient(t,n)}return this._instance},n.prototype.flush=function(){if(this.started&&this.isRunning())return this.forceSendCapturedEvents(t.flush)},n.prototype.sendHeartBeat=function(){return(new Date).getTime()-this.lastPayloadTimestamp>=e.SecuredTouchPointerConfig.instance.heartBeatFrequencyMs?(this.lastPayloadTimestamp=(new Date).getTime(),this.addTag(e.SecuredTouchConstants.HEART_BEAT_TAG),this.flush()):Promise.resolve()},n.prototype.setTag=function(e,t){return this.addTag(e,t),this.flush()},n.prototype.addTag=function(t,n){if(this.isRunning()){var r=e.SecuredTouchTags.instance.setTag(t,n),o=e.SecuredTouchPointerConfig.instance.tagsToFlushRegex;r&&o&&t.match(o)&&this.flush()}},n.prototype.setAppSessionId=function(n){e.SecuredTouchSessionStorage.instance.appSessionId=n,this.started&&this.isRunning()&&this.forceSendCapturedEvents(t.appSession)},n.prototype.locationInWhitelist=function(){var t=e.SecuredTouchPointerConfig.instance.urlWhitelist;if(0===t.length)return!0;for(var n in t)if(window.location.href.match(t[n]))return!0;return!1},n.prototype.isEnabled=function(){return e.SecuredTouchPointerConfig.instance.enabled&&this.locationInWhitelist()},n.prototype.isInitAndEnabled=function(){return!(!this.isEnabled()||!this.sessionData.initST)||(this.sessionData.initST||this.tryRecconect(),!1)},n.prototype.startNewSession=function(){var t=this;return this.dataRepository.initSession(e.SecuredTouchPointerConfig.instance.url,{username:this.sessionData.getUsername(),applicationId:this.startParams.appId,deviceType:this.stMetadata.deviceType,deviceId:this.sessionData.getDeviceCredentials().deviceId,modes:this.modes}).then((function(e){e&&e.clientDigest&&t.updateDigest(e.clientDigest)})).catch((function(t){e.STLogger.warn("Failed to init session",t)}))},n.prototype.doAfterSdkInit=function(e){return this.started?e():(this.startTasks.push(e),Promise.resolve())},n.prototype.login=function(t,n){var r=this,o=e.SecuredTouchUtil.now();return this.doAfterSdkInit((function(){return void 0!==n&&(e.SecuredTouchSessionStorage.instance.appSessionId=n),r.refreshUsernameAndModes(t,0,1,!1,o)}))},n.prototype.logout=function(){var t=this,n=e.SecuredTouchUtil.now();return this.doAfterSdkInit((function(){return e.SecuredTouchSessionStorage.instance.appSessionId=null,t.refreshUsernameAndModes(null,0,0,!0,n)}))},n.prototype.pauseSecuredTouch=function(){var t=this;this.addTag("SDK paused"),this.flush(),this._pauseTimestamp=e.SecuredTouchUtil.now(),this.doAfterSdkInit((function(){return t.stopListening(),Promise.resolve()}))},n.prototype.resumeSecuredTouch=function(){var e=this;this._pauseTimestamp=0,this.addTag("SDK resumed"),this.doAfterSdkInit((function(){return e.refreshListening(),Promise.resolve()}))},n.prototype.refreshUsernameAndModes=function(t,n,r,o,i){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(n){return this.sessionData.initST?this.isEnabled()?this.isRunning(i)?o?(e.STLogger.info("Logout user"),[2,this.resetSession()]):(e.STLogger.info("Login with user: "+t),[2,this.updateUser(t)]):(e.STLogger.info("SDK paused"),this.sessionData.setUsername(t),[2,Promise.resolve()]):(e.STLogger.warn("Refresh User Name FAILED, SDK is disabled"),[2,Promise.resolve()]):(e.STLogger.error("Refresh User Name FAILED, SDK wasn't initialized"),[2,Promise.resolve()])}))}))},n.prototype.resetSession=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return this.addTag("LOGOUT"),this.clearBuffer(),[4,this.forceSendCapturedEvents(t.refreshUser)];case 1:return e.sent(),[4,this.startNewSession()];case 2:return e.sent(),this.sessionData.setUsername(null),[2]}}))}))},n.prototype.updateUser=function(e){return this.addTag("SUCCESS_LOGIN"),this.sessionData.setUsername(e),this.forceSendCapturedEvents(t.refreshUser)},n.prototype.validateStartParams=function(t){if(!t.appId)throw this.errorProcessed=!0,e.STLogger.error("ApplicationId is mandatory (Start parameters)!"),"ApplicationId is mandatory (Start parameters)!";if(!t.appSecret)throw this.errorProcessed=!0,e.STLogger.error("Application secret is mandatory (Start parameters)!"),"Application secret is mandatory (Start parameters)!";if(!document.body)throw this.errorProcessed=!0,e.STLogger.error("Securedtouch can be started only after DOM Ready!"),"SecuredTouch can be started only after DOM Ready!"},n.prototype.sendMetadata=function(){return __awaiter(this,void 0,void 0,(function(){var t,n,r,o;return __generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t=this.sessionData.getLastMetadataTimeStamp(),n=(new Date).getTime()-t>e.SecuredTouchConstants.METADATA_TTL_MILLIS,e.SecuredTouchMetrics.instance.metadata.setMetadataSkipped(!n),n?(e.STLogger.debug("Updating Metadata"),[4,this.stMetadata.getDeviceMetadata(this.stRemoteLogger)]):[3,3];case 1:return r=i.sent(),[4,this.dataRepository.sendMetadata(e.SecuredTouchPointerConfig.instance.url,r)];case 2:i.sent(),this.sessionData.setLastMetadataTimeStamp((new Date).getTime()),i.label=3;case 3:return[3,5];case 4:return o=i.sent(),this.sendRemoteLog(e.SecuredTouchErrorCodes.E_4000,"Failed to send metadata",o),e.STLogger.warn("Failed to update metadata",o),[3,5];case 5:return[2]}}))}))},n.prototype.getStToken=function(){return window._securedTouchToken||""},n.prototype.sendRemoteLog=function(t,n,r){try{this.stRemoteLogger&&this.stRemoteLogger.sendRemoteLog(t,n,r)}catch(t){e.STLogger.warn("sendRemoteLog failed",t)}},n.prototype.setUsername=function(t){try{t.hasOwnProperty("userId")?this.sessionData.setUsername(t.userId):t.hasOwnProperty("username")&&this.sessionData.setUsername(t.username)}catch(t){this.sendRemoteLog(e.SecuredTouchErrorCodes.E_1001,"Failed to update username",t),e.STLogger.warn("Failed to update username",t)}},n.prototype.startST=function(t){return __awaiter(this,void 0,void 0,(function(){var n;return __generator(this,(function(r){switch(r.label){case 0:this.errorProcessed=!1,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.start(t)];case 2:return r.sent(),[3,4];case 3:throw n=r.sent(),this.errorProcessed||this.sendRemoteLog(e.SecuredTouchErrorCodes.E_1000,"SDK initialization failed",n),n;case 4:return[2]}}))}))},n.prototype.start=function(t){return __awaiter(this,void 0,void 0,(function(){var r,o,i,a,c;return __generator(this,(function(s){switch(s.label){case 0:return this.startParams=t,this.validateStartParams(t),this.started?(this.sessionData.initST=!0,[2,Promise.resolve("SDK already initialized")]):(this.stMetadata.initUAParser(),this.stRemoteLogger=new e.SecuredTouchRemoteLogger(t,this.stMetadata,e.SecuredTouchConstants.CLIENT_VERSION),e.SecuredTouchMetrics.instance.init.onInitStarted(),t.isDebugMode&&(this.modes.isDebugMode=1),e.STLogger.isLogEnabled=t.enableLog,e.STLogger.info("Starting STClient..."),this.sessionData.applicationId=t.appId,[4,this.sessionData.initDeviceStorage(t.hubUrl,t.url)]);case 1:s.sent(),this.dataRepository.init(this.startParams.appId,this.startParams.url,this.startParams.isDebugMode?e.SecuredTouchConstants.CLIENT_VERSION+"-debug":e.SecuredTouchConstants.CLIENT_VERSION),r=this.sessionData.getDeviceCredentials(),s.label=2;case 2:return s.trys.push([2,4,,5]),[4,this.dataRepository.logIn(this.startParams.appSecret,r.deviceId,r.deviceSecret)];case 3:return s.sent(),[3,5];case 4:throw o=s.sent(),this.errorProcessed=!0,this.sendRemoteLog(e.SecuredTouchErrorCodes.E_2000,"Auth failed",o),"Authentication failed. "+e.SecuredTouchUtil.getErrorAsString(o);case 5:Date.now()-this.sessionData.lastInitParamsTs<n.INIT_PARAM_UPDATE_INTERVAL_MS&&(i=this.sessionData.initParams),s.label=6;case 6:return s.trys.push([6,8,,9]),e.SecuredTouchMetrics.instance.init.setPointerCached(!!i),[4,this.refreshInitParams(i,{deviceId:r.deviceId,device:this.stMetadata.deviceType,isMobile:e.SecuredTouchUtil.isMobile})];case 7:return s.sent(),[3,9];case 8:throw a=s.sent(),this.errorProcessed=!0,this.sendRemoteLog(e.SecuredTouchErrorCodes.E_3000,"Send init failed",a),"Init failed. "+e.SecuredTouchUtil.getErrorAsString(a);case 9:return c=e.SecuredTouchPointerConfig.instance,this.dataRepository.initNetworkParams(c.requestTimeout,c.maxRequestQueueSize,c.url),this.stMetadata.webRtcUrl=c.webRtcUrl,this.setUsername(t),this.sessionData.appSessionId=t.sessionId,this.isEnabled()?(this.sendMetadata(),this.sessionData.passedBufferTimeout?this.dataRepository.clearCanceledPayloads():this.dataRepository.sendCanceledPayloads()):e.STLogger.warn("StClient disabled!"),this.sessionData.initST=!0,this.refreshListening(),this.started=!0,e.SecuredTouchMetrics.instance.init.onInitEnded(),[4,this.postSdkInit()];case 10:return s.sent(),[2]}}))}))},n.prototype.postSdkInit=function(){return __awaiter(this,void 0,void 0,(function(){var t,n,r,o;return __generator(this,(function(i){switch(i.label){case 0:for(n in i.trys.push([0,2,,3]),document.referrer&&e.SecuredTouchTags.instance.setTag("referrer:"+document.referrer),e.SecuredTouchPointerConfig.instance.sendLocation&&e.SecuredTouchTags.instance.setTag("location:"+window.location.href),this.addTag("SDK started"),t=[],this.startTasks)r=this.startTasks[n],e.SecuredTouchUtil.isFunction(r)&&t.push(r());return[4,Promise.all(t)];case 1:return i.sent(),[3,3];case 2:return o=i.sent(),this.sendRemoteLog(e.SecuredTouchErrorCodes.E_1002,"Post init failed",o),e.STLogger.warn("SDK post init failed",o),[3,3];case 3:return[2]}}))}))},n.prototype.updateDigest=function(t){var n=this,r=Promise.resolve();return e.SecuredTouchPointerConfig.instance.clientDigest!==t&&this.currentRequestingDigest!==t&&this.isRunning()&&(this.currentRequestingDigest=t,r=this.refreshInitParams(null,{device:this.stMetadata.deviceType,deviceId:this.sessionData.getDeviceCredentials().deviceId,isMobile:e.SecuredTouchUtil.isMobile}).then((function(){n.currentRequestingDigest=null,n.refreshListening()})).catch((function(t){n.currentRequestingDigest=null,e.STLogger.warn("refreshInitParams failed",t)}))),r},n.prototype.refreshInitParams=function(t,n){return __awaiter(this,void 0,void 0,(function(){var r,o;return __generator(this,(function(i){switch(i.label){case 0:return r=e.SecuredTouchPointerConfig.instance.enabled,t?(o=t,[3,3]):[3,1];case 1:return[4,this.dataRepository.getInitParams(n)];case 2:o=i.sent(),this.sessionData.lastInitParamsTs=Date.now(),i.label=3;case 3:return e.STLogger.debug("Refreshing init params: "+JSON.stringify(o)),e.SecuredTouchPointerConfig.instance.refreshPointerParams(o),this.sessionData.initParams=o,this.stMetadata.setPropertyBlackList(e.SecuredTouchPointerConfig.instance.propertyBlackList),r&&!e.SecuredTouchPointerConfig.instance.enabled&&e.STLogger.warn("ST client disabled by init params!"),[2]}}))}))},n.prototype.tryRecconect=function(){var t=this,r=this;!this.sessionData.initST&&Date.now()-this.lastRetryTimestamp>n.RETRY_UPDATE_INTERVAL_MS&&(this.lastRetryTimestamp=Date.now(),this.startST(this.startParams).catch((function(o){"object"==typeof o&&(o=JSON.stringify(o)),e.STLogger.error("FAILED to start STClient! ("+o+")"),t._retryNumber<e.SecuredTouchClientBase.MAX_NUMBER_OF_TRIES?(window.setTimeout(r.tryRecconect,n.RETRY_INTERVAL_MS),t._retryNumber++):(e.STLogger.error("Connecting retries exhausted!"),t._retryNumber=1)})),e.STLogger.debug("Reconnecting..."))},n.prototype.getEnvironmentData=function(){return{ops:this.stMetadata.OPS,webGl:this.stMetadata.WEB_GL_ID,devicePixelRatio:window.devicePixelRatio,screenWidth:window.screen.width,screenHeight:window.screen.height}},n.prototype.getDevToolsState=function(){var e=window.outerWidth-window.innerWidth>160,t=window.outerHeight-window.innerHeight>160,n=e?"vertical":"horizontal";return t&&e||!(window.Firebug&&window.Firebug.chrome&&window.Firebug.chrome.isInitialized||e||t)?{open:!1,orientation:null}:{open:!0,orientation:n}},n.prototype.addCommonAdditionalData=function(t){if(e.SecuredTouchPointerConfig.instance.devToolsEnabled){var n=this.getDevToolsState();n&&(n.open&&(t.DEV_TOOLS_OPEN=n.open),n.orientation&&(t.DEV_TOOLS_ORIENTATION=n.orientation))}this.stMetadata.isDelayPassed&&(this.stMetadata.isDelayPassed=!1,t.IS_AUTODLTE_COOKIES=this.stMetadata.isAutoDeleteCookie)},n}();e.SecuredTouchClientBase=n}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onClipboardEvent=new e.EventDispatcher,this.behavioralType=t,this.onClipboardEventHandler=this.onEvent.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClipboardEvent",{get:function(){return this._onClipboardEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.onEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this._onClipboardEvent.dispatch(this,this.createClipboardEvent(t))}catch(t){e.STLogger.warn("error in clipboard handler",t)}},t.prototype.createClipboardEvent=function(t){var n=e.SecuredTouchUtil.getSrcElement(t);return{category:"ClipboardEvent",type:t.type,eventTs:t.timeStamp,epochTs:(new Date).getTime(),additionalData:e.SecuredTouchUtil.flatten({stId:e.SecuredTouchUtil.getAttribute(n,"data-st-field")||"",elementId:n?n.id:""})}},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.SecuredTouchUtil.addEventListener(document,"cut",this.onClipboardEventHandler),e.SecuredTouchUtil.addEventListener(document,"copy",this.onClipboardEventHandler),e.SecuredTouchUtil.addEventListener(document,"paste",this.onClipboardEventHandler))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,document.removeEventListener("cut",this.onClipboardEventHandler),document.removeEventListener("copy",this.onClipboardEventHandler),document.removeEventListener("paste",this.onClipboardEventHandler))},t}();e.SecuredTouchClipboardEvents=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onDragEvent=new e.EventDispatcher,this.behavioralType=t,this.onDragEventHandler=this.onEvent.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onDragEvent",{get:function(){return this._onDragEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.createDataTransferObject=function(e){var t="",n="",r=[],o=[];if(e&&(t=e.dropEffect,n=e.effectAllowed,r=e.types||[],e.files&&e.files.length>0))for(var i in e.files)o.push({lastModified:e.files[i].lastModified,size:e.files[i].size,type:e.files[i].type});return{dropEffect:t,effectAllowed:n,types:r.toString(),files:o}},t.prototype.createDragEvent=function(t){var n=e.SecuredTouchUtil.modifiersKeys(t),r=this.createDataTransferObject(t.dataTransfer);return{category:"DragEvent",type:t.type,eventTs:t.timeStamp,epochTs:(new Date).getTime(),additionalData:e.SecuredTouchUtil.flatten({button:t.button,buttons:t.buttons,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,offsetX:t.offsetX,offsetY:t.offsetY,pageX:t.pageX,pageY:t.pageY,screenX:t.screenX,screenY:t.screenY,which:t.which,modifierKeys:n.toString(),dataTransfer:r})}},t.prototype.onEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this._onDragEvent.dispatch(this,this.createDragEvent(t))}catch(t){e.STLogger.warn("error in drag handler",t)}},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.SecuredTouchUtil.addEventListener(document,"dragstart",this.onDragEventHandler),e.SecuredTouchUtil.addEventListener(document,"dragexit",this.onDragEventHandler),e.SecuredTouchUtil.addEventListener(document,"drop",this.onDragEventHandler),e.SecuredTouchUtil.addEventListener(document,"dragend",this.onDragEventHandler))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,document.removeEventListener("dragstart",this.onDragEventHandler),document.removeEventListener("dragexit",this.onDragEventHandler),document.removeEventListener("drop",this.onDragEventHandler),document.removeEventListener("dragend",this.onDragEventHandler))},t}();e.SecuredTouchDragEvents=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onFocusEvent=new e.EventDispatcher,this.behavioralType=t,this.onFocusEventHandler=this.onEvent.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onFocusEvent",{get:function(){return this._onFocusEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.getRelatedTarget=function(t){if(!t.relatedTarget)return{type:"",stId:"",elementId:""};var n={type:e.SecuredTouchUtil.getObjectType(t.relatedTarget),stId:"",elementId:""};t.relatedTarget.id&&(n.elementId=t.relatedTarget.id);try{var r=t.relatedTarget;n.stId=e.SecuredTouchUtil.getAttribute(r,"data-st-field")||""}catch(e){}return n},t.prototype.createFocusEvent=function(t){var n=e.SecuredTouchUtil.getSrcElement(t),r=this.getRelatedTarget(t);return{category:"FocusEvent",type:t.type,eventTs:t.timeStamp,epochTs:(new Date).getTime(),additionalData:e.SecuredTouchUtil.flatten({stId:e.SecuredTouchUtil.getAttribute(n,"data-st-field")||"",elementId:n?n.id:"",relatedTarget:r})}},t.prototype.onEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this._onFocusEvent.dispatch(this,this.createFocusEvent(t))}catch(t){e.STLogger.warn("error in focus handler",t)}},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.SecuredTouchUtil.addEventListener(document,"DOMFocusIn",this.onFocusEventHandler),e.SecuredTouchUtil.addEventListener(document,"DOMFocusOut",this.onFocusEventHandler),e.SecuredTouchUtil.addEventListener(document,"focus",this.onFocusEventHandler),e.SecuredTouchUtil.addEventListener(document,"focusin",this.onFocusEventHandler),e.SecuredTouchUtil.addEventListener(document,"focusout",this.onFocusEventHandler))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,document.removeEventListener("DOMFocusIn",this.onFocusEventHandler),document.removeEventListener("DOMFocusOut",this.onFocusEventHandler),document.removeEventListener("focus",this.onFocusEventHandler),document.removeEventListener("focusin",this.onFocusEventHandler),document.removeEventListener("focusout",this.onFocusEventHandler))},t}();e.SecuredTouchFocusEvents=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onUIEvent=new e.EventDispatcher,this.behavioralType=t,this.onUIEventHandler=this.onEvent.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onUIEvent",{get:function(){return this._onUIEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.createUIEvent=function(t){return{category:"UIEvent",type:t.type,eventTs:t.timeStamp,epochTs:(new Date).getTime(),additionalData:e.SecuredTouchUtil.flatten({detail:t.detail})}},t.prototype.onEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this._onUIEvent.dispatch(this,this.createUIEvent(t))}catch(t){e.STLogger.warn("error in UIEvent handler",t)}},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.SecuredTouchUtil.addEventListener(document,"resize",this.onUIEventHandler),e.SecuredTouchUtil.addEventListener(document,"scroll",this.onUIEventHandler),e.SecuredTouchUtil.addEventListener(document,"select",this.onUIEventHandler))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,document.removeEventListener("resize",this.onUIEventHandler),document.removeEventListener("scroll",this.onUIEventHandler),document.removeEventListener("select",this.onUIEventHandler))},t}();e.SecuredTouchUIEvents=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this.visibilityChangeEventName="visibilitychange",this.hiddenProperty="hidden",this._isStarted=!1,this._onGeneralEvent=new e.EventDispatcher,this.behavioralType=t,this.onGeneralEventHandler=this.onEvent.bind(this),this.onLangChangeHandler=this.onLangChangeEvent.bind(this),this.onOrientationChangeHandler=this.onOrientationChangeEvent.bind(this),this.onVisibilityChangeHandler=this.onVisibilityChangeEvent.bind(this),void 0!==document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEventName="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEventName="webkitvisibilitychange")}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onGeneralEvent",{get:function(){return this._onGeneralEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.onEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this._onGeneralEvent.dispatch(this,this.createGeneralEvent(t))}catch(t){e.STLogger.warn("error in general event handler",t)}},t.prototype.onLangChangeEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;var n=this.createGeneralEvent(t);navigator&&navigator.language&&(n.additionalData["navigator.language"]=navigator.language),this._onGeneralEvent.dispatch(this,n)}catch(t){e.STLogger.warn("error in LangChange event handler",t)}},t.prototype.onOrientationChangeEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;var n=this.createGeneralEvent(t),r=e.SecuredTouchUtil.getDeviceOrientation();n.additionalData.orientation=r.orientation,n.additionalData.angle=r.angle,this._onGeneralEvent.dispatch(this,n)}catch(t){e.STLogger.warn("error in OrientationChange event handler",t)}},t.prototype.onVisibilityChangeEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;var n=this.createGeneralEvent(t);n.additionalData.hidden=!!document[this.hiddenProperty],document.visibilityState&&(n.additionalData.visibilityState=document.visibilityState.toString()),this._onGeneralEvent.dispatch(this,n)}catch(t){e.STLogger.warn("error in VisibilityChange event handler",t)}},t.prototype.createGeneralEvent=function(e){return{category:"Event",type:e.type,eventTs:e.timeStamp,epochTs:(new Date).getTime(),additionalData:{}}},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.SecuredTouchUtil.addEventListener(document,this.visibilityChangeEventName,this.onVisibilityChangeHandler),e.SecuredTouchUtil.addEventListener(document,"change",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"fullscreenchange",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"invalid",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(window,"languagechange",this.onLangChangeHandler),e.SecuredTouchUtil.addEventListener(window,"orientationchange",this.onOrientationChangeHandler),e.SecuredTouchUtil.addEventListener(document,"seeked",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"seeking",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"selectstart",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"selectionchange",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"submit",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"volumechange",this.onGeneralEventHandler),e.SecuredTouchUtil.addEventListener(document,"reset",this.onGeneralEventHandler))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,document.removeEventListener(this.visibilityChangeEventName,this.onVisibilityChangeHandler),document.removeEventListener("change",this.onGeneralEventHandler),document.removeEventListener("fullscreenchange",this.onGeneralEventHandler),document.removeEventListener("invalid",this.onGeneralEventHandler),window.removeEventListener("languagechange",this.onLangChangeHandler),window.removeEventListener("orientationchange",this.onOrientationChangeHandler),document.removeEventListener("seeked",this.onGeneralEventHandler),document.removeEventListener("seeking",this.onGeneralEventHandler),document.removeEventListener("selectstart",this.onGeneralEventHandler),document.removeEventListener("selectionchange",this.onGeneralEventHandler),document.removeEventListener("submit",this.onGeneralEventHandler),document.removeEventListener("volumechange",this.onGeneralEventHandler),document.removeEventListener("reset",this.onGeneralEventHandler))},t}();e.SecuredTouchGeneralEvents=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onUnloadEvent=new e.EventDispatcher,this.behavioralType=t,this.onUnloadEventHandler=this.onEvent.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onUnloadEvent",{get:function(){return this._onUnloadEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.createUnloadEvent=function(t){return{category:"UIEvent",type:t.type,eventTs:t.timeStamp,epochTs:(new Date).getTime(),additionalData:e.SecuredTouchUtil.flatten({detail:t.detail})}},t.prototype.onEvent=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onUnloadEvent.dispatch(this,null);this._onUnloadEvent.dispatch(this,this.createUnloadEvent(t))}catch(t){e.STLogger.warn("error in UnloadEvent handler",t)}},t.prototype.start=function(){this._isStarted||(this._isStarted=!0,e.SecuredTouchPointerConfig.instance.beforeUnloadEnabled&&e.SecuredTouchUtil.addEventListener(window,"beforeunload",this.onUnloadEventHandler))},t.prototype.stop=function(){this._isStarted&&(this._isStarted=!1,document.removeEventListener("beforeunload",this.onUnloadEventHandler))},t}();e.SecuredTouchUnloadEvents=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this.DEFAULT_INDIRECT_INTERVAL=3e3,this.DEFAULT_INDIRECT_IDLE_INTERVAL=1e3,this.MAX_INDIRECT_EVENTS=500,this._onIndirect=new e.EventDispatcher,this._onWindowDispose=new e.EventDispatcher,this.indirectEvents=[],this._intervalTimeInMillis=this.DEFAULT_INDIRECT_INTERVAL,this.idleTimeInMillis=this.DEFAULT_INDIRECT_IDLE_INTERVAL,this.lastIndirectEventTimestamp=0,this._isStarted=!1,this.stClipboardEvents=new e.SecuredTouchClipboardEvents(t),this.stClipboardEvents.onClipboardEvent.subscribe(this.handleEvent.bind(this)),this.stDragEvents=new e.SecuredTouchDragEvents(t),this.stDragEvents.onDragEvent.subscribe(this.handleEvent.bind(this)),this.stFocusEvents=new e.SecuredTouchFocusEvents(t),this.stFocusEvents.onFocusEvent.subscribe(this.handleEvent.bind(this)),this.stUIEvents=new e.SecuredTouchUIEvents(t),this.stUIEvents.onUIEvent.subscribe(this.handleEvent.bind(this)),this.stGeneralEvents=new e.SecuredTouchGeneralEvents(t),this.stGeneralEvents.onGeneralEvent.subscribe(this.handleEvent.bind(this)),this.stUnloadEvent=new e.SecuredTouchUnloadEvents(t),this.stUnloadEvent.onUnloadEvent.subscribe(this.windowUnload.bind(this)),this.onTimeElapsedHandler=this.onTimeElapsed.bind(this)}return Object.defineProperty(t.prototype,"onIndirect",{get:function(){return this._onIndirect.asEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onWindowDispose",{get:function(){return this._onWindowDispose.asEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"intervalTimeInMillis",{set:function(e){this._intervalTimeInMillis=e},enumerable:!0,configurable:!0}),t.prototype.onTimeElapsed=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return this.indirectEvents.length>0&&(new Date).getTime()-this.lastIndirectEventTimestamp>=this.idleTimeInMillis&&this.dispatch(),[2]}))}))},t.prototype.handleEvent=function(e,t){this.lastIndirectEventTimestamp=(new Date).getTime(),this.pushEvent(t)},t.prototype.windowUnload=function(t,n){n&&e.SecuredTouchPointerConfig.instance.beforeUnloadEnabled&&(this.lastIndirectEventTimestamp=(new Date).getTime(),this.pushEvent(n),this._onWindowDispose.dispatch(this,this.clearBuffer()))},t.prototype.pushEvent=function(t){t.additionalData.windowId=e.SecuredTouchSessionStorage.instance.windowId,t.additionalData.locationHref=e.SecuredTouchUtil.getCurrentLocationUrl(),t.additionalData.clientDigest=e.SecuredTouchPointerConfig.instance.clientDigest,this.indirectEvents.push(t),this.indirectEvents.length>=this.MAX_INDIRECT_EVENTS&&this.dispatch()},t.prototype.clearBuffer=function(){var e=this.indirectEvents;return this.indirectEvents=[],e},t.prototype.dispatch=function(){try{clearInterval(this.updateIntervalHandle),this._onIndirect.dispatch(this,this.clearBuffer()),this.updateIntervalHandle=setInterval(this.onTimeElapsedHandler,this._intervalTimeInMillis)}catch(t){e.STLogger.warn("Failed to dispatch indirect events",t)}},Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),t.prototype.start=function(){this._isStarted||(this.updateIntervalHandle=setInterval(this.onTimeElapsedHandler,this._intervalTimeInMillis),this.stClipboardEvents.start(),this.stDragEvents.start(),this.stFocusEvents.start(),this.stUIEvents.start(),this.stGeneralEvents.start(),this.stUnloadEvent.start(),this._isStarted=!0)},t.prototype.stop=function(){this._isStarted&&(this.stClipboardEvents.stop(),this.stDragEvents.stop(),this.stFocusEvents.stop(),this.stUIEvents.stop(),this.stGeneralEvents.stop(),this.stUnloadEvent.stop(),clearInterval(this.updateIntervalHandle),this.updateIntervalHandle=null,this._isStarted=!1)},t.prototype.unsubscribe=function(){this.stClipboardEvents.onClipboardEvent.unsubscribe(this.handleEvent.bind(this)),this.stDragEvents.onDragEvent.unsubscribe(this.handleEvent.bind(this)),this.stFocusEvents.onFocusEvent.unsubscribe(this.handleEvent.bind(this)),this.stUIEvents.onUIEvent.unsubscribe(this.handleEvent.bind(this)),this.stGeneralEvents.onGeneralEvent.unsubscribe(this.handleEvent.bind(this)),this.stUnloadEvent.onUnloadEvent.unsubscribe(this.windowUnload.bind(this))},t}();e.SecuredTouchIndirectClient=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this.cssSelectorsHashCode=0,this.cssSelectorsMap={},this.elementsIdentifiersMap=new Map}return t.prototype.refreshCssSelectors=function(t){try{if(!t)return;var n=e.SecuredTouchUtil.hashCode(t);if(this.cssSelectorsHashCode===n)return;this.cssSelectorsMap={},this.cssSelectorsHashCode=n,this.elementsIdentifiersMap=new Map;var r=JSON.parse(t);for(var o in r)try{var i=r[o];for(var a in e.SecuredTouchUtil.isArray(i)||(i=[].concat(i)),i){var c=i[a];this.cssSelectorsMap[c]=o}}catch(t){e.STLogger.warn("Failed to set selector "+o,t)}}catch(t){e.STLogger.warn("Failed to set css selectors",t)}},t.prototype.getIdentification=function(t){if(null===this.elementsIdentifiersMap.get(t))return null;if(void 0!==this.elementsIdentifiersMap.get(t))return this.elementsIdentifiersMap.get(t);for(var n in this.cssSelectorsMap)if(e.SecuredTouchUtil.isSelectorMatches(t,n)){var r=this.cssSelectorsMap[n];return this.elementsIdentifiersMap.set(t,r),r}return this.elementsIdentifiersMap.set(t,null),null},t}();e.SecuredTouchElementsIdentifications=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onInteraction=new e.EventDispatcher,this._onEnterPress=new e.EventDispatcher,this.interactionsMap=new Map,this.fieldsIdentifications=new e.SecuredTouchElementsIdentifications,this.keyMap=new Map,this.keyStrokeMap=new Map,this.keyCounter=Math.ceil(100*Math.random()),this._fieldsBlackList=new Set,this.behavioralType=t,this.onKeyDownHandle=this.onKeyDown.bind(this),this.onKeyUpHandle=this.onKeyUp.bind(this),this.onFocusHandle=this.onFocus.bind(this),this.onBlurHandle=this.onBlur.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onInteraction",{get:function(){return this._onInteraction.asEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onEnterPress",{get:function(){return this._onEnterPress.asEvent()},enumerable:!0,configurable:!0}),t.prototype.refreshKeyboardCssSelectors=function(e){this.fieldsIdentifications.refreshCssSelectors(e)},Object.defineProperty(t.prototype,"modifiersKeys",{get:function(){return["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specialKeys",{get:function(){return["Tab","Shift","Backspace","Enter","CapsLock","Meta","Delete","Alt","ArrowDown","ArrowUp","Control","ArrowLeft","End","Unidentified","Home","ArrowRight","Insert","Pause","PageDown","PageUp","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","AltGraph","Escape"]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fieldsBlackList",{set:function(e){this._fieldsBlackList=e},enumerable:!0,configurable:!0}),t.prototype.getInteractionFromElement=function(t){var n=null,r=null,o=e.SecuredTouchUtil.getSrcElement(t);return o&&e.SecuredTouchUtil.isFunction(o.getAttribute)&&((r=e.SecuredTouchUtil.getAttribute(o,"data-st-field"))||(r=this.fieldsIdentifications.getIdentification(o)),r&&!this._fieldsBlackList.has(r)&&((n=this.interactionsMap.get(o))||(n={stId:r,elementId:e.SecuredTouchUtil.getAttribute(o,"id"),name:e.SecuredTouchUtil.getAttribute(o,"name"),type:e.SecuredTouchUtil.getAttribute(o,"type"),events:[],identified:!1,counter:0,additionalData:{clientDigest:e.SecuredTouchPointerConfig.instance.clientDigest,windowId:e.SecuredTouchSessionStorage.instance.windowId,locationHref:e.SecuredTouchUtil.getCurrentLocationUrl()}},this.interactionsMap.set(o,n)))),n},t.prototype.getKeyIdMap=function(e){return this.keyMap.has(e)||(this.keyMap.set(e,this.keyCounter),this.keyCounter++),this.keyMap.get(e)},t.prototype.getKeyCode=function(t){return t.keyCode?t.keyCode:t.which?t.which:t.code?e.SecuredTouchUtil.hashCode(t.code):e.SecuredTouchUtil.hashCode(t.key)+t.location},t.prototype.getKeystrokeId=function(t,n){var r,o=this.getKeyCode(t);return"keyup"===n&&(this.keyStrokeMap.has(o)?(r=this.keyStrokeMap.get(o),this.keyStrokeMap.delete(o)):r=e.SecuredTouchUtil.newGuid()),"keydown"===n&&(this.keyStrokeMap.has(o)&&t.repeat?r=this.keyStrokeMap.get(o):(r=e.SecuredTouchUtil.newGuid(),this.keyStrokeMap.set(o,r))),r},t.prototype.createKeyboardInteractionEvent=function(t,n){var r=e.SecuredTouchUtil.getSrcElement(n),o=r.value?r.value.toString().length:0;return{type:t,eventTs:n.timeStamp,epochTs:(new Date).getTime(),modifierKeys:[],selectionStart:e.SecuredTouchUtil.getElementSelectionStart(r),selectionEnd:e.SecuredTouchUtil.getElementSelectionEnd(r),repeat:n.repeat,key:null,keyCode:null,keyId:null,keystrokeId:null,currentLength:o,location:n.location}},t.prototype.enrichKeyboardEvent=function(t,n,r){(this.modifiersKeys.indexOf(t.key)>=0||this.specialKeys.indexOf(t.key)>=0)&&(r.key=t.key,r.keyCode=t.keyCode),r.keyId=this.getKeyIdMap(this.getKeyCode(t)),r.keystrokeId=this.getKeystrokeId(t,r.type);var o=e.SecuredTouchUtil.getSrcElement(t);r.currentLength=new String(o.value).length,t.getModifierState&&this.modifiersKeys.forEach((function(e){t.getModifierState(e.toString())&&r.modifierKeys.push(e)}))},t.prototype.onFocus=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onInteraction.dispatch(this,null);t=e.SecuredTouchUtil.getKeyboardEvent(t);var n=this.getInteractionFromElement(t);if(n){var r=this.createKeyboardInteractionEvent("focus",t);n.events.push(r)}}catch(t){e.STLogger.warn("error in keyboard focus handler",t)}},t.prototype.onKeyUp=function(t){try{if(13!==(t=e.SecuredTouchUtil.getKeyboardEvent(t)).keyCode&&13!==t.which||this._onEnterPress.dispatch(this,e.SecuredTouchUtil.getSrcElement(t)),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onInteraction.dispatch(this,null);var n=this.getInteractionFromElement(t);if(n){var r=this.createKeyboardInteractionEvent("keyup",t);this.enrichKeyboardEvent(t,n,r),n.events.push(r)}else this.keyStrokeMap.delete(this.getKeyCode(t))}catch(t){e.STLogger.warn("error in keyUp handler",t)}},t.prototype.onKeyDown=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onInteraction.dispatch(this,null);t=e.SecuredTouchUtil.getKeyboardEvent(t);var n=this.getInteractionFromElement(t);if(n){var r=this.createKeyboardInteractionEvent("keydown",t);this.enrichKeyboardEvent(t,n,r),n.events.push(r)}}catch(t){e.STLogger.warn("error in keyDown handler",t)}},t.prototype.onBlur=function(t){try{if(!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return void this._onInteraction.dispatch(this,null);t=e.SecuredTouchUtil.getKeyboardEvent(t);var n=this.getInteractionFromElement(t);if(n){var r=this.createKeyboardInteractionEvent("blur",t);n.events.push(r);var o=e.SecuredTouchUtil.getSrcElement(t);this.interactionsMap.delete(o),this._onInteraction.dispatch(this,n)}}catch(t){e.STLogger.warn("error in blur handler",t)}},t.prototype.clearBuffer=function(){var e=Array.from(this.interactionsMap.values());return this.interactionsMap.clear(),e},t.prototype.isEmpty=function(){return 0===this.interactionsMap.size},t.prototype.start=function(){this._isStarted?e.STLogger.debug("Desktop Keyboard events already listening"):(e.SecuredTouchUtil.addEventListener(document,"keydown",this.onKeyDownHandle),e.SecuredTouchUtil.addEventListener(document,"keyup",this.onKeyUpHandle),e.SecuredTouchUtil.addEventListener(document,"focus",this.onFocusHandle,!0),e.SecuredTouchUtil.addEventListener(document,"blur",this.onBlurHandle,!0),this._isStarted=!0,e.STLogger.debug("Desktop Keyboard events start listening..."))},t.prototype.stop=function(){this._isStarted?(document.removeEventListener("keydown",this.onKeyDownHandle),document.removeEventListener("keyup",this.onKeyUpHandle),document.removeEventListener("focus",this.onFocusHandle,!0),document.removeEventListener("blur",this.onBlurHandle,!0),this._isStarted=!1,e.STLogger.debug("Desktop Keyboard events stop listening...")):e.STLogger.debug("Desktop Keyboard events already stopped")},t}();e.SecuredTouchKeyboard=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(t){this._isStarted=!1,this._onInteraction=new e.EventDispatcher,this._onClickEvent=new e.EventDispatcher,this.lastMouseInteractionTimestamp=null,this.updateInterval=1e3,this.idleTimeoutMs=1e3,this.maxMouseEvents=1e3,this.mouseEventsCounter=0,this.behavioralType=t,this.wheelOptions=!!e.SecuredTouchUtil.isPassiveSupported()&&{passive:!0},this.onClickHandle=this.onClick.bind(this),this.onDblclickHandle=this.onDblclick.bind(this),this.onMousedownHandle=this.onMousedown.bind(this),this.onMousemoveHandle=this.onMousemove.bind(this),this.onMouseoutHandle=this.onMouseout.bind(this),this.onMouseoverHandle=this.onMouseover.bind(this),this.onMouseupHandle=this.onMouseup.bind(this),this.onWheelHandle=this.onWheel.bind(this),this.interactionUpdateHandle=this.interactionUpdate.bind(this)}return Object.defineProperty(t.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onInteraction",{get:function(){return this._onInteraction.asEvent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onClickEvent",{get:function(){return this._onClickEvent.asEvent()},enumerable:!0,configurable:!0}),t.prototype.interactionUpdate=function(){this.lastMouseInteraction?(new Date).getTime()-this.lastMouseInteractionTimestamp>=this.idleTimeoutMs&&this.dispatch():!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType)&&(new Date).getTime()-this.lastMouseInteractionTimestamp<=this.updateInterval&&this.dispatch()},t.prototype.dispatch=function(){try{this._onInteraction.dispatch(this,this.lastMouseInteraction),this.lastMouseInteraction=null,this.mouseEventsCounter=0}catch(t){e.STLogger.warn("Failed to dispatch mouse events",t)}},t.prototype.updateInteraction=function(t){this.lastMouseInteraction||(this.lastMouseInteraction={events:[],identified:!1,counter:0,additionalData:{clientDigest:e.SecuredTouchPointerConfig.instance.clientDigest,windowId:e.SecuredTouchSessionStorage.instance.windowId,locationHref:e.SecuredTouchUtil.getCurrentLocationUrl()}}),this.lastMouseInteraction.events.push(t),this.mouseEventsCounter++,this.mouseEventsCounter>=this.maxMouseEvents&&this.dispatch()},t.prototype.onClick=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),this._onClickEvent.dispatch(this,e.SecuredTouchUtil.getSrcElement(t)),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseClickEvent("click",t)),this.dispatch()}catch(t){e.STLogger.warn("error in click handler",t)}},t.prototype.onDblclick=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseClickEvent("dblclick",t))}catch(t){e.STLogger.warn("error in doubleClick handler",t)}},t.prototype.onMousedown=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseClickEvent("mousedown",t))}catch(t){e.STLogger.warn("error in mouseDown handler",t)}},t.prototype.onMousemove=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseEvent("mousemove",t))}catch(t){e.STLogger.warn("error in mouseMove handler",t)}},t.prototype.onMouseout=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseEvent("mouseout",t));var n=t.relatedTarget||t.toElement;n&&"HTML"!==n.nodeName||this.dispatch()}catch(t){e.STLogger.warn("error in mouseOut handler",t)}},t.prototype.onMouseover=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseEvent("mouseover",t))}catch(t){e.STLogger.warn("error in mouseOver handler",t)}},t.prototype.onMouseup=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseClickEvent("mouseup",t))}catch(t){e.STLogger.warn("error in mouseUp handler",t)}},t.prototype.onWheel=function(t){try{if(this.lastMouseInteractionTimestamp=(new Date).getTime(),!e.SecuredTouchUtil.collectBehavioralData(this.behavioralType))return;this.updateInteraction(this.createMouseEvent("wheel",t))}catch(t){e.STLogger.warn("error in wheel handler",t)}},t.prototype.start=function(){this._isStarted?e.STLogger.debug("Desktop Mouse events already listening"):(e.SecuredTouchUtil.addEventListener(document,"click",this.onClickHandle),e.SecuredTouchUtil.addEventListener(document,"dblclick",this.onDblclickHandle),e.SecuredTouchUtil.addEventListener(document,"mousedown",this.onMousedownHandle),e.SecuredTouchUtil.addEventListener(document,"mousemove",this.onMousemoveHandle),e.SecuredTouchUtil.addEventListener(document,"mouseout",this.onMouseoutHandle),e.SecuredTouchUtil.addEventListener(document,"mouseover",this.onMouseoverHandle),e.SecuredTouchUtil.addEventListener(document,"mouseup",this.onMouseupHandle),e.SecuredTouchUtil.addEventListener(document,"wheel",this.onWheelHandle,this.wheelOptions),this.updateIntervalHandle=setInterval(this.interactionUpdateHandle,this.updateInterval),this._isStarted=!0,e.STLogger.debug("Desktop Mouse events start listening..."))},t.prototype.stop=function(){this._isStarted?(document.removeEventListener("click",this.onClickHandle),document.removeEventListener("dblclick",this.onDblclickHandle),document.removeEventListener("mousedown",this.onMousedownHandle),document.removeEventListener("mousemove",this.onMousemoveHandle),document.removeEventListener("mouseout",this.onMouseoutHandle),document.removeEventListener("mouseover",this.onMouseoverHandle),document.removeEventListener("mouseup",this.onMouseupHandle),document.removeEventListener("wheel",this.onWheelHandle,this.wheelOptions),clearInterval(this.updateIntervalHandle),this.updateIntervalHandle=null,this._isStarted=!1,e.STLogger.debug("Desktop Mouse events stop listening...")):e.STLogger.debug("Desktop Mouse events already stopped")},t.prototype.clearBuffer=function(){var e=null;return this.lastMouseInteraction&&(e=this.lastMouseInteraction),this.lastMouseInteraction=null,e},t.prototype.isEmpty=function(){return!this.lastMouseInteraction},t.prototype.createMouseEvent=function(t,n){var r=e.SecuredTouchUtil.modifiersKeys(n);return{type:t,eventTs:n.timeStamp,epochTs:(new Date).getTime(),button:n.button,buttons:n.buttons,clientX:n.clientX,clientY:n.clientY,movementX:n.movementX,movementY:n.movementY,offsetX:n.offsetX,offsetY:n.offsetY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,which:n.which,modifierKeys:r}},t.prototype.createMouseClickEvent=function(t,n){var r=this.createMouseEvent(t,n);if(n.target&&e.SecuredTouchUtil.isFunction(n.target.getBoundingClientRect)){var o=n.target.getBoundingClientRect();r.targetBottom=o.bottom,r.targetHeight=o.height,r.targetLeft=o.left,r.targetRight=o.right,r.targetTop=o.top,r.targetWidth=o.width,r.targetX=o.x,r.targetY=o.y}return r},t}();e.SecuredTouchMouse=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(e){this.key=e}return Object.defineProperty(t.prototype,"asArray",{get:function(){var e=t.stSessionStorage.getItem(this.key);return e||(e=JSON.stringify([])),JSON.parse(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this.asArray.length},enumerable:!0,configurable:!0}),t.prototype.push=function(n){var r=this.asArray,o=r.push(n);return t.stSessionStorage.setItem(this.key,JSON.stringify(r)),t.stSessionStorage.setItem(e.SecuredTouchConstants.SESSION_STORAGE_UPDATE_TS,(new Date).getTime()),o},t.prototype.concat=function(e){var n=this.asArray.concat(e);return t.stSessionStorage.setItem(this.key,JSON.stringify(n)),this},t.prototype.clear=function(){t.stSessionStorage.removeItem(this.key)},t.stSessionStorage=e.SecuredTouchSessionStorage.instance.sessionStorage,t}();e.SecuredTouchStorageArray=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(){function t(){this._reduceFactorMap=null,this._reduceMapHashCode=0,this._snapshotsReduceFactor=0}return Object.defineProperty(t.prototype,"reduceFactorMap",{set:function(t){var n=e.SecuredTouchUtil.hashCode(t);this._reduceMapHashCode!==n&&(this._reduceMapHashCode=n,this._reduceFactorMap=JSON.parse(t))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"snapshotsReduceFactor",{get:function(){return this._snapshotsReduceFactor},set:function(e){this._snapshotsReduceFactor=e},enumerable:!0,configurable:!0}),t.prototype.eventsWereReduced=function(){return 0!==this._reduceMapHashCode},t.prototype.reduceEvents=function(t){var n=this;try{if(!t||0===t.length||!this._reduceFactorMap)return t;for(var r=new Map,o=[],i=0;i<t.length;i++)r.get(t[i].type)?r.get(t[i].type).push(i):r.set(t[i].type,[i]);r.forEach((function(e,t){var r=n._reduceFactorMap[t]?Number(n._reduceFactorMap[t]):0;n.reduceByFactor(r,e,(function(t){o[e[t]]=!0}))}));var a=[];for(i=0;i<t.length;i++)o[i]&&a.push(t[i]);return e.STLogger.debug(t.length-a.length+" events reduced out of "+t.length),a}catch(n){return e.STLogger.warn("Failed to reduce events",n),t}},t.prototype.reduceSnapshots=function(t){try{if(!t||0===t.length||0===this._snapshotsReduceFactor)return t;var n=[];return this.reduceByFactor(this._snapshotsReduceFactor,t,(function(e){n.push(t[e])})),e.STLogger.debug(t.length-n.length+" snapshots reduced out of "+t.length),n}catch(n){return e.STLogger.warn("Failed to reduce events",n),t}},t.prototype.reduceByFactor=function(e,t,n){e=Math.min(e,1);for(var r=Math.round(Math.max(t.length*(1-e),2)),o=(t.length-1)/(r-1),i=Math.min(t.length,r),a=0;a<i;a++)n(Math.round(a*o))},t}();e.SecuredTouchReduceFactor=t}(_securedTouchEntities||(_securedTouchEntities={})),function(e){var t=function(t){function n(n,r){var o=t.call(this,n,r)||this;return o.capturedKeyboardInteractions=new e.SecuredTouchStorageArray(e.SecuredTouchConstants.CAPTURED_KEYBOARD_INTERACTIONS),o.capturedMouseInteractions=new e.SecuredTouchStorageArray(e.SecuredTouchConstants.CAPTURED_MOUSE_INTERACTIONS),o.capturedGestures=new e.SecuredTouchStorageArray(e.SecuredTouchConstants.CAPTURED_GESTURES),o.capturedIndirectEvents=new e.SecuredTouchStorageArray(e.SecuredTouchConstants.CAPTURED_INDIRECT),o.tagsIdentifications=new e.SecuredTouchElementsIdentifications,o.reduceFactorManager=new e.SecuredTouchReduceFactor,o.payloadIndex=0,o.totalMouseCounter=0,o.totalKeyboardCounter=0,o.totalGestureCounter=0,o.lastGestureTimestamp=0,o.currentBufferSize=0,o.interactionFailuresCounter=0,o.keyboard=new e.SecuredTouchKeyboard("eventKeyboard"),o.keyboard.onInteraction.subscribe(o.handleKeyboardInteraction.bind(o)),o.keyboard.onEnterPress.subscribe(o.handleStTagOnEnter.bind(o)),o.mouse=new e.SecuredTouchMouse("mouse"),o.mouse.onInteraction.subscribe(o.handleMouseInteraction.bind(o)),o.mouse.onClickEvent.subscribe(o.handleStTagOnClick.bind(o)),o.gesture=new e.SecuredTouchGestureEvents("gestures"),o.gesture.onGesture.subscribe(o.handleGesture.bind(o)),o.indirect=new e.SecuredTouchIndirectClient("indirect"),o.indirect.onIndirect.subscribe(o.handleIndirect.bind(o)),o.indirect.onWindowDispose.subscribe(o.handleWindowDispose.bind(o)),o.onUrlChangeHandler=o.onUrlChange.bind(o),o.onErrorHandler=o.onError.bind(o),o.sessionData.passedBufferTimeout&&o.resetLists(),o}return __extends(n,t),n.prototype.dispose=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){return this.stopListening(),this.keyboard.onInteraction.unsubscribe(this.handleKeyboardInteraction.bind(this)),this.keyboard.onEnterPress.unsubscribe(this.handleStTagOnEnter.bind(this)),this.mouse.onInteraction.unsubscribe(this.handleMouseInteraction.bind(this)),this.mouse.onClickEvent.unsubscribe(this.handleStTagOnClick.bind(this)),this.gesture.onGesture.unsubscribe(this.handleGesture.bind(this)),this.indirect.unsubscribe(),this.indirect.onIndirect.unsubscribe(this.handleIndirect.bind(this)),this.indirect.onWindowDispose.unsubscribe(this.handleWindowDispose.bind(this)),this.clearMouseBuffer(),this.clearIndirectBuffer(),this.sessionData.lastDisposedPayload=this.createInteractionsPayload(),[2]}))}))},n.prototype.isAboveBufferSize=function(){return this.currentBufferSize>=e.SecuredTouchPointerConfig.instance.bufferSize},n.prototype.enrichMouseInteraction=function(e){e.counter=this.totalMouseCounter++,this.enrichInteractionWithAdditionalData(e)},n.prototype.handleStTagElement=function(t){if(t){var n=e.SecuredTouchUtil.getAttribute(t,"data-st-tag"),r=e.SecuredTouchUtil.getAttribute(t,"data-st-tag-value");n||(n=this.tagsIdentifications.getIdentification(t)),n&&this.addTag(n,r)}},n.prototype.isClickableInput=function(e){return e&&["button","checkbox","radio","submit","file","reset"].indexOf(e.type)>=0},n.prototype.isTextInput=function(e){return e&&["email","number","password","search","tel","text","url"].indexOf(e.type)>=0},n.prototype.handleStTagOnEnter=function(e,t){t instanceof HTMLInputElement&&this.isTextInput(t)&&this.handleStTagElement(t)},n.prototype.handleStTagOnClick=function(e,t){t instanceof HTMLInputElement&&!this.isClickableInput(t)||this.handleStTagElement(t)},n.prototype.handleMouseInteraction=function(e,t){this.isInitAndEnabled()&&(t?(this.addMouseInteractions(t),this.lastGestureTimestamp!==t.events[t.events.length-1].eventTs&&this.currentBufferSize++,this.isAboveBufferSize()&&this.sendAllCapturedInteractions()):this.sendHeartBeat())},n.prototype.handleIndirect=function(e,t){this.isInitAndEnabled()&&(this.addIndirectEvents(t),this.isEmpty()&&this.sendAllCapturedInteractions())},n.prototype.handleWindowDispose=function(e,t){this.isInitAndEnabled()&&(this.addIndirectEvents(t),this.dispose())},n.prototype.enrichKeyboardInteraction=function(e){e.counter=this.totalKeyboardCounter++,this.enrichInteractionWithAdditionalData(e)},n.prototype.handleKeyboardInteraction=function(e,t){this.isInitAndEnabled()&&(t?(this.addKeyboardInteraction(t),this.currentBufferSize++,this.isAboveBufferSize()&&this.sendAllCapturedInteractions()):this.sendHeartBeat())},n.prototype.handleGesture=function(t,n){this.isInitAndEnabled()&&(n?(this.enrichInteractionWithAdditionalData(n),n.counter=this.totalGestureCounter++,this.reduceGestureSnapshots(n),this.capturedGestures.push(n),this.currentBufferSize++,this.lastGestureTimestamp=n.snapshots.length>0?n.snapshots[n.snapshots.length-1].additionalData.eventTimeStamp:n.timestamp,e.SecuredTouchSensors.instance.onGesture(n),this.isAboveBufferSize()&&this.sendAllCapturedInteractions()):this.sendHeartBeat())},n.prototype.clearMouseBuffer=function(){var e=this.mouse.clearBuffer();e&&this.addMouseInteractions(e)},n.prototype.clearIndirectBuffer=function(){var e=this.indirect.clearBuffer();this.addIndirectEvents(e)},n.prototype.clearKeyboardBuffer=function(){for(var e=0,t=this.keyboard.clearBuffer();e<t.length;e++){var n=t[e];n&&this.addKeyboardInteraction(n)}},n.prototype.clearBuffer=function(){this.clearKeyboardBuffer(),this.clearMouseBuffer(),this.clearIndirectBuffer()},n.prototype.addMouseInteractions=function(e){this.enrichMouseInteraction(e),this.reduceMouseInteraction(e),this.capturedMouseInteractions.push(e)},n.prototype.addKeyboardInteraction=function(e){this.enrichKeyboardInteraction(e),this.reduceKeyboardInteraction(e),this.capturedKeyboardInteractions.push(e)},n.prototype.addIndirectEvents=function(e){e&&e.length>0&&this.capturedIndirectEvents.concat(e)},n.prototype.reduceIndirectEvents=function(e){return this.reduceFactorManager.reduceEvents(e)},n.prototype.reduceMouseInteraction=function(e){e.events=this.reduceFactorManager.reduceEvents(e.events)},n.prototype.reduceKeyboardInteraction=function(e){e.events=this.reduceFactorManager.reduceEvents(e.events)},n.prototype.reduceGestureSnapshots=function(e){e.snapshots=this.reduceFactorManager.reduceSnapshots(e.snapshots)},n.prototype.isEmpty=function(){return 0===this.capturedKeyboardInteractions.length&&0===this.capturedMouseInteractions.length&&0===this.capturedGestures.length&&this.gesture.isEmpty()&&this.keyboard.isEmpty()&&this.mouse.isEmpty()},n.prototype.forceSendCapturedEvents=function(e){return this.clearMouseBuffer(),this.sendAllCapturedInteractions(e)},n.prototype.onUrlChange=function(){e.SecuredTouchPointerConfig.instance.sendLocation&&this.addTag("location:"+window.location.href)},n.prototype.onError=function(t){try{var n=t.colno,r=t.filename,o=t.lineno,i=t.message||"",a=t.error||{};r&&r.toLowerCase().indexOf("securedtouch")>=0&&this.sendRemoteLog(e.SecuredTouchErrorCodes.E_6000,"Unhandled error "+i,{colNumber:n,lineNumber:o,stack:a.stack||""})}catch(t){e.STLogger.warn("error in error handler",t)}},n.prototype.refreshListening=function(){if(this.sessionData.initST){var t=e.SecuredTouchPointerConfig.instance;if(e.SecuredTouchTags.instance.blackListRegex=t.tagsBlacklistRegex,this.indirect.intervalTimeInMillis=t.indirectInterval,this.tagsIdentifications.refreshCssSelectors(t.tagsCssSelectors),this.reduceFactorManager.reduceFactorMap=t.eventsReduceFactorMap,this.reduceFactorManager.snapshotsReduceFactor=t.snapshotsReduceFactor,this.mouse.updateInterval=t.updateInterval,this.mouse.maxMouseEvents=t.maxEventsCount,this.keyboard.fieldsBlackList=t.fieldBlackList,this.keyboard.refreshKeyboardCssSelectors(t.cssSelectors),this.stMetadata.webRtcUrl=t.webRtcUrl,this.gesture.maxSnapshotsCount=t.maxSnapshotsCount,e.SecuredTouchSensors.instance.maxSensorSamples=t.maxSensorSamples,e.SecuredTouchSensors.instance.sensorsTimestampDeltaInMillis=t.sensorsTimestampDeltaInMillis,this.isEnabled()){this.mouse.start(),this.keyboard.start(),this.gesture.start(),this.indirect.start(),0==t.maxSensorSamples?e.SecuredTouchSensors.instance.stop():e.SecuredTouchSensors.instance.start();var n=this.sessionData.lastDisposedPayload;n&&this.sendInteractions(n),e.SecuredTouchUtil.addEventListener(window,"_onlocationchange",this.onUrlChangeHandler),e.SecuredTouchUtil.addEventListener(window,"popstate",this.onUrlChangeHandler),e.SecuredTouchUtil.addEventListener(window,"error",this.onErrorHandler)}else this.stopListening(),e.STLogger.info("Securedtouch is disabled.")}else this.tryRecconect()},n.prototype.stopListening=function(){this.keyboard.stop(),this.mouse.stop(),this.gesture.stop(),this.indirect.stop(),e.SecuredTouchSensors.instance.stop(),window.removeEventListener("_onlocationchange",this.onUrlChangeHandler),window.removeEventListener("popstate",this.onUrlChangeHandler),window.removeEventListener("error",this.onErrorHandler)},n.prototype.resetLists=function(){this.capturedKeyboardInteractions.clear(),this.capturedMouseInteractions.clear(),this.capturedGestures.clear(),this.capturedIndirectEvents.clear(),e.SecuredTouchSensors.instance.reset(),e.SecuredTouchTags.instance.reset(),this.currentBufferSize=0},n.prototype.setUsernameToPayload=function(e){var t=this.sessionData.getUsername();e.username=t||this.sessionData.getDeviceCredentials().deviceId,e.keyboardInteractionPayloads.forEach((function(e){e.identified=Boolean(t)})),e.mouseInteractionPayloads.forEach((function(e){e.identified=Boolean(t)})),e.gestures.forEach((function(e){e.identified=Boolean(t)}))},n.prototype.isValidGestures=function(){return this.capturedGestures&&this.capturedGestures.length>0&&this.capturedGestures.length<e.SecuredTouchPointerConfig.instance.maxSnapshotsCount},n.prototype.createInteractionsPayload=function(){var t={applicationId:this.startParams.appId,deviceId:this.sessionData.getDeviceCredentials().deviceId,deviceType:this.stMetadata.deviceType,appSessionId:this.sessionData.appSessionId,stToken:this.getStToken(),keyboardInteractionPayloads:this.capturedKeyboardInteractions.asArray,mouseInteractionPayloads:this.capturedMouseInteractions.asArray,indirectEventsPayload:this.reduceIndirectEvents(this.capturedIndirectEvents.asArray),gestures:this.isValidGestures()?this.capturedGestures.asArray:[],metricsData:e.SecuredTouchMetrics.instance.getMetricsData(this.payloadIndex),accelerometerData:e.SecuredTouchSensors.instance.accelerometerList,gyroscopeData:e.SecuredTouchSensors.instance.gyroscopeList,linearAccelerometerData:e.SecuredTouchSensors.instance.linearAccelerometerList,rotationData:e.SecuredTouchSensors.instance.getRotationListCopy(),index:this.payloadIndex,modes:this.modes,tags:e.SecuredTouchTags.instance.getTagsCopy(),environment:this.getEnvironmentData(),usernameTs:this.sessionData.usernameTs,username:""};return this.payloadIndex++,this.resetLists(),this.setUsernameToPayload(t),t},n.prototype.sendAllCapturedInteractions=function(t){var n=this,r=Promise.resolve();return this.isEnabled()&&(t||this.isAboveBufferSize()||e.SecuredTouchTags.instance.tags&&e.SecuredTouchTags.instance.tags.length>0?(this.clearIndirectBuffer(),r=this.sendInteractions(this.createInteractionsPayload())):this.resetLists()),r.catch((function(t){n.sendRemoteLog(e.SecuredTouchErrorCodes.E_5001,"failed to queue or create payload",t)}))},n.prototype.sendInteractions=function(t){var n=this;return this.lastPayloadTimestamp=(new Date).getTime(),this.dataRepository.sendInteractions(e.SecuredTouchPointerConfig.instance.url,t).then((function(e){e&&e.clientDigest&&n.updateDigest(e.clientDigest),n.interactionFailuresCounter=0})).catch((function(t){e.STLogger.warn("Failed to send Interactions",t),++n.interactionFailuresCounter>=e.SecuredTouchPointerConfig.instance.failuresAmountToReport&&(n.interactionFailuresCounter=0,n.sendRemoteLog(e.SecuredTouchErrorCodes.E_5000,"missed multiple interactions",t))}))},n.prototype.enrichInteractionWithAdditionalData=function(t){try{var n=t.additionalData||{};this.addCommonAdditionalData(n),this.addWidthAndHeight(n),n.deviceCategory=this.stMetadata.deviceCategory,n.snapshotsReduceFactor=this.reduceFactorManager.snapshotsReduceFactor,n.eventsWereReduced=this.reduceFactorManager.eventsWereReduced(),t.additionalData=n}catch(t){e.STLogger.warn("Failed to enrich interactions",t)}},n.prototype.addWidthAndHeight=function(e){e.innerWidth=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,e.innerHeight=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e.outerWidth=window.outerWidth,e.outerHeight=window.outerHeight},n}(e.SecuredTouchClientBase);e.SecuredTouchClient=t}(_securedTouchEntities||(_securedTouchEntities={}));var _securedTouch=function(){function e(){}return Object.defineProperty(e,"isLogEnabled",{get:function(){return _securedTouchEntities.STLogger.isLogEnabled},set:function(e){_securedTouchEntities.STLogger.isLogEnabled=e},enumerable:!0,configurable:!0}),e.login=function(e,t){return _securedTouchEntities.SecuredTouchClientBase.instance().login(e,t)},e.logout=function(){return _securedTouchEntities.SecuredTouchClientBase.instance().logout()},e.addTag=function(e,t){return _securedTouchEntities.SecuredTouchClientBase.instance().addTag(e,t),this},e.setTag=function(e,t){return _securedTouchEntities.SecuredTouchClientBase.instance().addTag(e,t),Promise.resolve()},e.setSessionId=function(e){_securedTouchEntities.SecuredTouchClientBase.instance().setAppSessionId(e)},e.getSessionId=function(){return _securedTouchEntities.SecuredTouchSessionStorage.instance.appSessionId},e.pauseSecuredTouch=function(){_securedTouchEntities.SecuredTouchClientBase.instance().pauseSecuredTouch()},Object.defineProperty(e,"isRunning",{get:function(){return _securedTouchEntities.SecuredTouchClientBase.instance().isRunning()},enumerable:!0,configurable:!0}),e.resumeSecuredTouch=function(){_securedTouchEntities.SecuredTouchClientBase.instance().resumeSecuredTouch()},e.flush=function(){return _securedTouchEntities.SecuredTouchClientBase.instance().flush()},e.init=function(e){return _securedTouchEntities.SecuredTouchUtil.ieFix(),_securedTouchEntities.SecuredTouchClientBase.instance().startST(e)},e}();window._securedTouch=_securedTouch;var onDomReady=function(e){"complete"===document.readyState?e():window.addEventListener("load",e)};onDomReady((function(){var e=new CustomEvent("SecuredTouchReadyEvent");document.dispatchEvent(e),window._securedTouchReady=!0}))}</script><iframe id="CrossStorageClient-164b4959-e629-4922-8ebc-fe231cf0c32d" style="width: 0px; height: 0px; border: medium none; display: none; position: absolute; top: -999px; left: -999px;" src="https://hub.securedtouch.com/agoda/hub.html"></iframe><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div><link rel="prefetch" href="https://cdn6.agoda.net/js/assets/DYNA/vendors-flightsdetails-flightsresults-home-property_nogql-search-umrah.home-248e06ab3381.js" as="script"><link rel="prefetch" href="https://cdn6.agoda.net/js/assets/DYNA/default-flightsresults-property_nogql-search-5e7fb1df7325.js" as="script"><link rel="prefetch" href="https://cdn6.agoda.net/js/assets/DYNA/vendors-flightsresults-property_nogql-search-84be071b0369.js" as="script"><link rel="prefetch" href="https://cdn6.agoda.net/js/assets/DYNA/vendors-search-8e251f05c04f.js" as="script"><link rel="prefetch" href="https://cdn6.agoda.net/js/assets/DYNA/search-fa60f435e212.js" as="script"><div class="ReactModalPortal"></div><div class="ReactModalPortal"></div></body></html>